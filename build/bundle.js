/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e,t,n={36:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'/* Settings component styles */\n.settings-container {\n    position: relative;\n    margin: 1rem 0;\n}\n\n.settings-toggle {\n    background-color: var(--button-bg);\n    color: var(--text-primary);\n    border: 1px solid var(--border-color);\n    padding: 0.5rem 1rem;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 0.9rem;\n    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n}\n\n/* Only apply accent color when settings are open */\n.settings-toggle.active {\n    background-color: var(--accent-color);\n    color: white;\n    border-color: var(--accent-color);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.settings-panel {\n    background-color: var(--bg-secondary);\n    border: 1px solid var(--border-color);\n    border-radius: 8px;\n    padding: 1.5rem;\n    margin-top: 1rem;\n    box-shadow: 0 4px 12px var(--shadow-color);\n    animation: slideDown 0.5s cubic-bezier(0.25, 1, 0.5, 1);\n}\n\n.settings-section {\n    margin-bottom: 1.5rem;\n    animation: fadeIn 0.5s ease forwards;\n    transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);\n}\n\n.settings-section h3 {\n    color: var(--text-primary);\n    margin-bottom: 0.8rem;\n    font-size: 1.1rem;\n    border-bottom: 1px solid var(--border-color);\n    padding-bottom: 0.5rem;\n    transition: all 0.3s ease;\n}\n\n.setting-item {\n    margin-bottom: 0.8rem;\n    display: flex;\n    align-items: center;\n    transition: all 0.3s ease;\n    opacity: 0;\n    animation: slideRight 0.4s ease forwards;\n    animation-delay: calc(var(--index, 0) * 0.1s);\n}\n\n.setting-item label {\n    display: flex;\n    align-items: center;\n    color: var(--text-primary);\n    cursor: pointer;\n}\n\n.setting-item input[type="checkbox"] {\n    margin-right: 0.8rem;\n}\n\n.setting-actions {\n    display: flex;\n    gap: 1rem;\n    margin-top: 0.5rem;\n}\n\n.export-button, .import-label {\n    background-color: var(--button-bg);\n    color: var(--text-primary);\n    border: 1px solid var(--border-color);\n    padding: 0.5rem 1rem;\n    border-radius: 4px;\n    cursor: pointer !important;\n    font-size: 0.9rem;\n    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n    display: inline-block;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n    position: relative;\n    z-index: 10;\n    pointer-events: auto !important;\n}\n\n.export-button:hover, .import-label:hover {\n    background-color: var(--button-hover);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n    filter: brightness(1.1);\n}\n\n.export-button:active, .import-label:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n    filter: brightness(0.95);\n}\n\n.help-text {\n    font-size: 0.8rem;\n    color: var(--text-secondary);\n    margin-top: 0.5rem;\n}\n\n/* Dark theme specific styling for settings panel */\n.theme-dark .settings-panel,\n[data-theme="dark"] .settings-panel {\n    background: linear-gradient(145deg, #121212, #181818);\n    border: 1px solid rgba(40, 40, 40, 0.3);\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2), inset 0 1px 2px rgba(255, 255, 255, 0.05);\n}\n\n.theme-dark .settings-section h3,\n[data-theme="dark"] .settings-section h3 {\n    color: #f0f0f0;\n    border-bottom: 1px solid rgba(66, 66, 66, 0.5);\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n}\n\n.theme-dark .settings-toggle,\n[data-theme="dark"] .settings-toggle {\n    background: linear-gradient(145deg, #2a2b2c, #222324);\n    border: 1px solid rgba(66, 66, 66, 0.4);\n    color: #e4e6eb;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1), inset 0 1px 1px rgba(255, 255, 255, 0.05);\n}\n\n.theme-dark .settings-toggle:hover,\n[data-theme="dark"] .settings-toggle:hover {\n    background: linear-gradient(145deg, #2f3031, #272829);\n    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15), inset 0 1px 1px rgba(255, 255, 255, 0.1);\n    transform: translateY(-2px);\n}\n\n.theme-dark .settings-toggle.active,\n[data-theme="dark"] .settings-toggle.active {\n    background: linear-gradient(145deg, #2b5876, #4e4376);\n    color: #ffffff;\n    border: 1px solid rgba(78, 67, 118, 0.5);\n    box-shadow: 0 4px 12px rgba(78, 67, 118, 0.3), inset 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n/* Dark theme styling for form elements in settings */\n.theme-dark select,\n.theme-dark input[type="text"],\n.theme-dark input[type="number"],\n.theme-dark input[type="email"],\n[data-theme="dark"] select,\n[data-theme="dark"] input[type="text"],\n[data-theme="dark"] input[type="number"],\n[data-theme="dark"] input[type="email"] {\n    background: linear-gradient(145deg, #1e1f20, #262728);\n    border: 1px solid rgba(66, 66, 66, 0.5);\n    color: #e4e6eb;\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);\n}\n\n.theme-dark select:focus,\n.theme-dark input[type="text"]:focus,\n.theme-dark input[type="number"]:focus,\n.theme-dark input[type="email"]:focus,\n[data-theme="dark"] select:focus,\n[data-theme="dark"] input[type="text"]:focus,\n[data-theme="dark"] input[type="number"]:focus,\n[data-theme="dark"] input[type="email"]:focus {\n    border-color: rgba(78, 67, 118, 0.8);\n    box-shadow: 0 0 0 2px rgba(78, 67, 118, 0.2), inset 0 1px 3px rgba(0, 0, 0, 0.2);\n    outline: none;\n}\n\n/* Dark theme settings toggle and panel */\n.theme-dark .settings-toggle,\n[data-theme="dark"] .settings-toggle {\n    background-color: #161616;\n    border: 1px solid rgba(40, 40, 40, 0.8);\n    color: #d0d0d0;\n}\n\n.theme-dark .settings-toggle:hover,\n[data-theme="dark"] .settings-toggle:hover {\n    background-color: #1a1a1a;\n    border: 1px solid rgba(50, 50, 50, 0.8);\n}\n\n.theme-dark .settings-toggle.active,\n[data-theme="dark"] .settings-toggle.active {\n    background: linear-gradient(145deg, #352f44, #3f3757);\n    color: white;\n    border-color: rgba(78, 67, 118, 0.5);\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.25);\n}\n\n.import-container {\n    position: relative;\n    display: inline-block;\n    z-index: 10;\n}\n\n/* Make sure the input is clickable even when hidden */\n.import-container input[type="file"] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    cursor: pointer !important;\n    z-index: 5;\n}\n\n.theme-dark .settings-panel,\n[data-theme="dark"] .settings-panel {\n    background: linear-gradient(145deg, #0c0c0c, #161616);\n    border: 1px solid rgba(30, 30, 30, 0.6);\n    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3), inset 0 1px 1px rgba(255, 255, 255, 0.02);\n}\n',""]);const a=o},67:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"/* Import Timetable Styles */\n.import-timetable-modal {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 999; /* Just below the header z-index (1000) */\n    animation: importFadeIn 0.3s ease;\n    overflow-y: auto; /* Allow scrolling */\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    padding: 20px 0;\n    overscroll-behavior: none; /* Prevent pull-to-refresh on mobile */\n    /* Ensure content starts below header using the actual measured height when available */\n    padding-top: calc(var(--actual-header-height, var(--header-height, 60px)) + 20px);\n}\n\n/* Fixed backdrop that doesn't scroll */\n.import-timetable-modal::before {\n    content: '';\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    -webkit-backdrop-filter: blur(5px);\n    -moz-backdrop-filter: blur(5px);\n    backdrop-filter: blur(5px);\n    z-index: -1; /* Behind the modal content */\n}\n\n.import-timetable-content {\n    background-color: var(--bg-primary);\n    padding: 25px;\n    border-radius: 16px;\n    width: 80%;\n    max-width: 800px;\n    max-height: 85vh;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch; /* Improve scrolling on iOS */\n    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);\n    animation: importSlideUp 0.3s ease;\n    margin: 20px auto;\n    display: flex;\n    flex-direction: column;\n    position: relative; /* Ensure it's above the backdrop */\n    z-index: 1; /* Above the backdrop pseudo-element */\n}\n\n.import-timetable-content h2 {\n    font-size: 1.8rem;\n    color: var(--accent-color);\n    margin-bottom: 15px;\n    text-align: center;\n}\n\n.import-instructions {\n    margin-bottom: 15px;\n    color: var(--text-secondary);\n    font-size: 0.95rem;\n    line-height: 1.5;\n}\n\n.import-instructions.example {\n    background-color: var(--bg-secondary);\n    padding: 12px;\n    border-radius: 8px;\n    margin-bottom: 15px;\n    font-size: 0.85rem;\n}\n\n.import-instructions.example code {\n    display: block;\n    font-family: monospace;\n    white-space: pre;\n    overflow-x: auto;\n    padding: 8px;\n    background-color: rgba(0, 0, 0, 0.05);\n    border-radius: 4px;\n    font-size: 0.75rem;\n    color: var(--text-secondary);\n    margin-top: 8px;\n}\n\n.import-textarea {\n    width: 100%;\n    padding: 12px;\n    border: 1px solid var(--border-color);\n    border-radius: 8px;\n    background-color: var(--bg-secondary);\n    color: var(--text-primary);\n    font-family: 'Consolas', monospace;\n    font-size: 0.85rem;\n    resize: vertical;\n    margin-bottom: 20px;\n    transition: border-color 0.3s ease, box-shadow 0.3s ease;\n    min-height: 150px;\n    max-height: 350px;\n}\n\n.import-textarea:focus {\n    border-color: var(--accent-color);\n    outline: none;\n    box-shadow: 0 0 0 3px rgba(var(--accent-color-rgb), 0.2);\n}\n\n.parse-error {\n    padding: 10px 15px;\n    background-color: rgba(255, 87, 87, 0.1);\n    border-left: 4px solid #ff5757;\n    color: #e53935;\n    margin-bottom: 20px;\n    border-radius: 4px;\n    font-size: 0.9rem;\n}\n\n.parse-success {\n    padding: 10px 15px;\n    background-color: rgba(76, 175, 80, 0.1);\n    border-left: 4px solid #4caf50;\n    color: #43a047;\n    margin-bottom: 20px;\n    border-radius: 4px;\n    font-size: 0.9rem;\n}\n\n.import-actions {\n    display: flex;\n    justify-content: flex-end;\n    gap: 15px;\n    margin-top: 10px;\n}\n\n.import-cancel-button,\n.import-submit-button {\n    padding: 10px 20px;\n    border-radius: 8px;\n    font-size: 0.95rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);\n    border: none;\n}\n\n.import-cancel-button {\n    background-color: var(--button-bg);\n    color: var(--text-primary);\n    border: 1px solid var(--border-color);\n}\n\n.import-submit-button {\n    background-color: var(--accent-color);\n    color: white;\n}\n\n.import-cancel-button:hover {\n    background-color: var(--button-hover);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.import-submit-button:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(var(--accent-color-rgb), 0.3);\n    filter: brightness(1.05);\n}\n\n.import-cancel-button:active,\n.import-submit-button:active {\n    transform: translateY(-1px);\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.import-cancel-button:disabled,\n.import-submit-button:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n}\n\n/* Theme-specific styling */\n/* Dark theme */\n.theme-dark .import-timetable-content,\n[data-theme=\"dark\"] .import-timetable-content {\n    box-shadow: 0 8px 30px var(--shadow-color);\n}\n\n.theme-dark .import-submit-button,\n[data-theme=\"dark\"] .import-submit-button {\n    box-shadow: 0 3px 8px rgba(var(--accent-color-rgb), 0.3);\n}\n\n.theme-dark .import-submit-button:hover,\n[data-theme=\"dark\"] .import-submit-button:hover {\n    box-shadow: 0 5px 12px rgba(var(--accent-color-rgb), 0.4);\n    filter: brightness(1.1);\n}\n\n/* Cosmos theme */\n.theme-cosmos .import-timetable-modal::before,\n[data-theme=\"cosmos\"] .import-timetable-modal::before {\n    background-color: rgba(20, 30, 60, 0.7);\n    -webkit-backdrop-filter: blur(8px);\n    -moz-backdrop-filter: blur(8px);\n    backdrop-filter: blur(8px);\n    /* Add subtle starry effect */\n    background-image: \n        radial-gradient(2px 2px at 40px 60px, rgba(255, 255, 255, 0.4), rgba(0, 0, 0, 0)),\n        radial-gradient(2px 2px at 20px 50px, rgba(255, 255, 255, 0.4), rgba(0, 0, 0, 0)),\n        radial-gradient(2px 2px at 30px 100px, rgba(255, 255, 255, 0.3), rgba(0, 0, 0, 0)),\n        radial-gradient(2px 2px at 70px 60px, rgba(255, 255, 255, 0.3), rgba(0, 0, 0, 0)),\n        radial-gradient(2px 2px at 90px 150px, rgba(255, 255, 255, 0.3), rgba(0, 0, 0, 0)),\n        radial-gradient(2px 2px at 130px 80px, rgba(255, 255, 255, 0.2), rgba(0, 0, 0, 0)),\n        radial-gradient(2px 2px at 160px 120px, rgba(255, 255, 255, 0.2), rgba(0, 0, 0, 0));\n    background-repeat: repeat;\n    background-size: 200px 200px;\n}\n\n.theme-cosmos .import-timetable-content,\n[data-theme=\"cosmos\"] .import-timetable-content {\n    background: linear-gradient(135deg, rgba(30, 40, 70, 0.95), rgba(20, 30, 60, 0.95));\n    border: 1px solid rgba(80, 100, 180, 0.2);\n    box-shadow: 0 8px 30px rgba(10, 15, 30, 0.5), 0 0 20px rgba(84, 199, 252, 0.1);\n}\n\n.theme-cosmos .import-submit-button,\n[data-theme=\"cosmos\"] .import-submit-button {\n    background: linear-gradient(135deg, rgba(84, 199, 252, 0.9), rgba(110, 60, 191, 0.9));\n    box-shadow: 0 0 15px rgba(84, 199, 252, 0.4);\n}\n\n.theme-cosmos .import-submit-button:hover,\n[data-theme=\"cosmos\"] .import-submit-button:hover {\n    background: linear-gradient(135deg, rgba(84, 199, 252, 1), rgba(110, 60, 191, 1));\n    box-shadow: 0 0 20px rgba(84, 199, 252, 0.6);\n}\n\n/* Enhanced Tab Navigation */\n.import-tabs {\n    display: flex;\n    margin-bottom: 20px;\n    border-bottom: 1px solid var(--border-color);\n    position: sticky;\n    top: 0;\n    background-color: var(--bg-primary);\n    padding: 5px 0;\n    z-index: 5;\n}\n\n.import-tab {\n    padding: 10px 20px;\n    background: none;\n    border: none;\n    border-bottom: 3px solid transparent;\n    font-size: 16px;\n    font-weight: 500;\n    color: var(--text-secondary);\n    cursor: pointer;\n    transition: all 0.2s ease;\n    outline: none;\n    flex: 1;\n}\n\n.import-tab:hover {\n    color: var(--accent-color);\n    background-color: rgba(var(--accent-color-rgb), 0.1);\n}\n\n.import-tab.active {\n    color: var(--accent-color);\n    border-bottom: 3px solid var(--accent-color);\n    font-weight: 600;\n}\n\n/* Tab Content */\n.import-tab-content {\n    display: none;\n    animation: importFadeIn 0.25s ease;\n}\n\n.import-tab-content.active {\n    display: block;\n}\n\n.import-format-note {\n    background-color: rgba(var(--accent-color-rgb), 0.1);\n    border-radius: 8px;\n    padding: 15px;\n    margin-top: 15px;\n    border-left: 4px solid var(--accent-color);\n}\n\n/* AI Instructions Styles */\n.ai-instructions {\n    margin-bottom: 20px;\n}\n\n.ai-instructions h3 {\n    font-size: 1.3rem;\n    color: var(--accent-color);\n    margin-bottom: 10px;\n}\n\n.ai-prompt {\n    background-color: var(--bg-secondary);\n    border-radius: 8px;\n    margin: 15px 0;\n    overflow: hidden;\n}\n\n.ai-prompt pre {\n    padding: 15px;\n    white-space: pre-wrap;\n    word-break: break-word;\n    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n    font-size: 0.85rem;\n    color: var(--text-primary);\n    overflow-x: auto;\n    line-height: 1.4;\n}\n\n/* AI Instructions Styles */\n.ai-instructions {\n    margin-bottom: 20px;\n}\n\n.ai-instructions h3 {\n    font-size: 1.3rem;\n    color: var(--accent-color);\n    margin-bottom: 10px;\n}\n\n.ai-prompt {\n    background-color: var(--bg-secondary);\n    border-radius: 8px;\n    margin: 15px 0;\n    overflow: hidden;\n    position: relative;\n}\n\n.ai-prompt pre {\n    padding: 15px;\n    white-space: pre-wrap;\n    word-break: break-word;\n    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n    font-size: 0.85rem;\n    color: var(--text-primary);\n    overflow-x: auto;\n    line-height: 1.4;\n}\n\n.copy-button {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    padding: 8px 16px;\n    background-color: var(--accent-color);\n    color: white;\n    border: none;\n    border-radius: 4px;\n    font-weight: 500;\n    cursor: pointer;\n    transition: background-color 0.2s;\n    margin-top: 10px;\n}\n\n.copy-button:hover {\n    background-color: var(--accent-hover);\n}\n\n.copy-success {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    padding: 30px;\n    font-size: 1.2rem;\n    color: var(--success-color);\n    text-align: center;\n    background-color: var(--bg-secondary);\n    animation: importFadeIn 0.3s ease;\n}\n\n.format-example {\n    font-family: monospace;\n    font-size: 0.85rem;\n    background-color: var(--bg-secondary);\n    border: 1px solid var(--border-color);\n    border-radius: 6px;\n    padding: 12px;\n    margin: 10px 0;\n    white-space: pre;\n    overflow-x: auto;\n    color: var(--text-secondary);\n    display: block;\n    line-height: 1.4;\n    text-align: left;\n}\n\n/* Define all our animations in one place for better management */\n@keyframes importFadeIn {\n    0% { opacity: 0; }\n    100% { opacity: 1; }\n}\n\n@keyframes importFadeOut {\n    0% { opacity: 1; }\n    100% { opacity: 0; }\n}\n\n@keyframes importSlideUp {\n    0% {\n        transform: translateY(50px);\n        opacity: 0;\n    }\n    100% {\n        transform: translateY(0);\n        opacity: 1;\n    }\n}\n\n@keyframes importSlideDown {\n    0% {\n        transform: translateY(0);\n        opacity: 1;\n    }\n    100% {\n        transform: translateY(30px);\n        opacity: 0;\n    }\n}\n\n/* Responsive styles */\n@media (max-width: 768px) {\n    .import-timetable-content {\n        width: 90%;\n        padding: 20px;\n        max-height: 85vh;\n    }\n    \n    .import-timetable-content h2 {\n        font-size: 1.5rem;\n    }\n    \n    /* Special animations for mobile devices */\n    @keyframes importSlideUp {\n        0% {\n            transform: translateY(30px);\n            opacity: 0;\n        }\n        100% {\n            transform: translateY(0);\n            opacity: 1;\n        }\n    }\n    \n    @keyframes importSlideDown {\n        0% {\n            transform: translateY(0);\n            opacity: 1;\n        }\n        100% {\n            transform: translateY(20px);\n            opacity: 0;\n        }\n    }\n}\n\n@media (max-width: 480px) {\n    .import-timetable-content {\n        width: 95%;\n        padding: 15px;\n        max-height: 90vh;\n        border-radius: 12px;\n    }\n    \n    .import-actions {\n        flex-direction: column-reverse;\n        gap: 10px;\n    }\n    \n    .import-cancel-button,\n    .import-submit-button {\n        width: 100%;\n        padding: 12px 20px;\n    }\n}\n\n/* Fix body scrolling when modal is open */\nbody.modal-open {\n    overflow: hidden !important;\n    /* Prevent any interaction with the background content */\n    pointer-events: none;\n    height: auto !important;\n    min-height: 100vh !important;\n    position: relative !important;\n}\n\n/* Allow interaction with the modal itself */\nbody.modal-open .import-timetable-modal,\nbody.modal-open .import-timetable-content,\nbody.modal-open .import-timetable-content * {\n    pointer-events: auto;\n}\n\n/* Additional touch device improvements */\n@media (pointer: coarse) {\n    /* For touch devices */\n    .import-textarea {\n        padding: 15px; /* Larger padding for touch inputs */\n    }\n    \n    .import-cancel-button,\n    .import-submit-button {\n        min-height: 44px; /* Apple recommendation for touch targets */\n    }\n}\n",""]);const a=o},70:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"body {\n    background: linear-gradient(135deg, #f8f9fa, #e9ecef);\n    color: #212529;\n    font-family: 'Arial', sans-serif;\n}\n\n/* Header styling for blob effect */\n.header {\n    background: linear-gradient(135deg, #ffffff, #f8f9fa);\n    padding: 15px;\n    text-align: center;\n    border-bottom: 1px solid #dee2e6;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n    transform: translateZ(0); /* Fixes potential rendering issues */\n    height: auto;\n    min-height: 40px;\n}\n\n/* Blob effect for light theme */\n.header.scrolled {\n    background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(248, 249, 250, 0.9));\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n    border-radius: 0 0 20px 20px;\n    width: 100%; /* Keep width 100% on scroll */\n    left: 0;\n    right: 0;\n    border: none;\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n}\n\nh1 {\n    margin: 0;\n    font-size: 2.5em;\n    color: #212529;\n}\n\n/* Additional header styling for light theme */\n.title-container h1 {\n    color: #212529;\n}\n\n.subtitle {\n    color: #6c757d;\n}\n\n.logo {\n    background: linear-gradient(135deg, #e9ecef, #dee2e6);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n    color: #495057;\n}\n\n.sidebar-toggle:not(.collapsed), \n.calendar-toggle.active {\n    background-color: #007bff;\n    color: white;\n    border-color: #0069d9;\n}\n\n.toggle-icon {\n    text-shadow: none;\n}\n\n.help-button {\n    background-color: #f8f9fa;\n    border: 2px solid #dee2e6;\n    color: #495057;\n}\n\n.timetable {\n    margin: 20px auto;\n    width: 90%;\n    max-width: 800px;\n    border-collapse: collapse;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.timetable th, .timetable td {\n    border: 1px solid #dee2e6;\n    padding: 12px;\n    text-align: center;\n}\n\n.timetable th {\n    background-color: #f1f3f5;\n    color: #495057;\n    font-weight: 600;\n}\n\n.time-slot {\n    background-color: #ffffff;\n    transition: background-color 0.3s;\n}\n\n.time-slot:hover {\n    background-color: #f1f3f5;\n}\n\n.theme-switcher {\n    margin: 20px;\n    text-align: center;\n}\n\n.settings {\n    margin: 20px;\n    text-align: center;\n}\n\n.button {\n    background-color: #4a6cf7;\n    color: white;\n    border: none;\n    padding: 8px 16px;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: background-color 0.2s;\n}\n\n.button:hover {\n    background-color: #3a5ce4;\n}\n\n/* Override some header styles for light theme */\n.header {\n    background-color: #ffffff;\n    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);\n}\n\n.title-container h1 {\n    color: #212529;\n}\n\n.subtitle {\n    color: #6c757d;\n}\n\n.logo {\n    background: linear-gradient(135deg, #4a6cf7, #6c87fc);\n}\n\n.help-button {\n    background-color: #f8f9fa;\n    border: 2px solid #dee2e6;\n    color: #495057;\n}\n\n.help-button:hover {\n    background-color: #e9ecef;\n}\n\n/* Light theme overrides for theme switcher */\n.theme-switcher-container {\n    background-color: #ffffff;\n    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);\n}\n\n.theme-switcher label {\n    color: #212529;\n}\n\n.theme-select {\n    background-color: #f8f9fa;\n    border-color: #dee2e6;\n    color: #212529;\n}\n\n/* Theme-specific styling */",""]);const a=o},72:(e,t,n)=>{var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function i(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],o=0;o<e.length;o++){var s=e[o],l=t.base?s[0]+t.base:s[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=i(u),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(a[d].references++,a[d].updater(h)):a.push({identifier:u,updater:m(h,t),references:1}),r.push(u)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function h(e,t,n){var r=n.css,o=n.media,a=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,p=0;function m(e,t){var n,r,o;if(t.singleton){var a=p++;n=f||(f=l(t)),r=d.bind(null,n,a,!1),o=d.bind(null,n,a,!0)}else n=l(t),r=h.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=i(n[r]);a[o].references--}for(var l=s(e,t),c=0;c<n.length;c++){var u=i(n[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=l}}}},93:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"/* LogoutButton Component Styles */\n.logout-button {\n  background: none;\n  color: var(--text-warning);\n  border: none;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  text-align: left;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  transition: background-color 0.2s;\n}\n\n.logout-button:hover {\n  background-color: var(--hover-bg);\n}\n\n.logout-button:active {\n  transform: translateY(1px);\n}\n\n.logout-button:disabled {\n  background-color: var(--disabled-color);\n  cursor: not-allowed;\n}\n\n/* Add this to match the Header.js styling for the user menu */\n.logout-button .user-menu-icon {\n  margin-right: 8px;\n  font-size: 16px;\n}\n\n/* When used in isolation (not in user menu) */\n.logout-button.standalone {\n  background-color: var(--error-color);\n  color: white;\n  justify-content: center;\n  margin-top: 8px;\n  padding: 10px;\n}\n",""]);const a=o},125:(e,t,n)=>{n.d(t,{h1:()=>s,uA:()=>o});var r=n(126);class o{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const a="[DEFAULT]";class i{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=a){return this.instances.has(e)}getOptions(e=a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===a?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=a){return this.component?this.component.multipleInstances?e:a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new i(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},126:(e,t,n)=>{n.d(t,{cY:()=>p,FA:()=>N,g:()=>_,u:()=>s,Uj:()=>i,Fy:()=>m,tD:()=>R,bD:()=>O,hp:()=>j,T9:()=>h,Tj:()=>u,yU:()=>d,XA:()=>f,mS:()=>l,Ku:()=>F,ZQ:()=>g,Bd:()=>y,sr:()=>x,zJ:()=>U,c1:()=>w,Im:()=>I,lT:()=>E,zW:()=>T,jZ:()=>b,lV:()=>k,nr:()=>S,p7:()=>v,gE:()=>V,Am:()=>D,I9:()=>M,eX:()=>C});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const o=e[t],a=t+1<e.length,i=a?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,c=o>>2,u=(3&o)<<4|i>>4;let d=(15&i)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&a)}else if(o>239&&o<365){const a=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&a)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const o=n[e.charAt(t++)],i=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const l=t<e.length?n[e.charAt(t)]:64;if(++t,null==o||null==i||null==s||null==l)throw new a;const c=o<<2|i>>4;if(r.push(c),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(e){return function(e){const t=r(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")},s=function(e){try{return o.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}const c=()=>{try{return l().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&s(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t[`_${e}`]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[i(JSON.stringify({alg:"none",type:"JWT"})),i(JSON.stringify(a)),""].join(".")}function g(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function b(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){return"undefined"!=typeof window||v()}function v(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function w(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function x(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function k(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function E(){const e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function S(){return!function(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T(){try{return"object"==typeof indexedDB}catch(e){return!1}}function C(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class _ extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?function(e,t){return e.replace(A,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(o,n):"Error",i=`${this.serviceName}: ${a} (${r}).`;return new _(r,i,n)}}const A=/\{\$([^}]+)}/g;function I(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function O(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],a=t[o];if(P(n)&&P(a)){if(!O(n,a))return!1}else if(n!==a)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function P(e){return null!==e&&"object"==typeof e}function D(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function M(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function j(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function R(e,t){const n=new L(e,t);return n.subscribe.bind(n)}class L{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function z(){}function F(e){return e&&e._delegate?e._delegate:e}function U(e){return e.endsWith(".cloudworkstations.dev")}async function V(e){return(await fetch(e,{credentials:"include"})).ok}},171:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'/* Global Reset */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\n/* Apply theme transitions to elements for smoother theme changes */\nhtml, body, .app, * {\n    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;\n}\n\n/* Global overscroll behavior to prevent bouncing */\nhtml {\n    overscroll-behavior: none !important;\n}\n\nbody, html {\n    font-family: \'Poppins\', \'Helvetica\', sans-serif;\n    min-height: 100vh;\n    overflow-x: hidden;\n    background-color: var(--bg-primary, #f4f4f4);\n    /* Prevent overscrolling/bouncing effect */\n    overscroll-behavior-y: none;\n    margin: 0;\n    padding: 0;\n    height: auto !important;\n    overflow-y: auto;\n}\n\n/* Base theme styles that apply to all themes */\n.app {\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n    height: auto !important; /* Ensures it only takes needed height */\n    overflow: visible;\n}\n\n/* Prevent overscrolling in the root element */\n#root {\n    overscroll-behavior: none;\n    min-height: 100vh;\n}\n\n/* Theme variables - Light theme (default) */\n:root,\nhtml[data-theme="light"],\nbody[data-theme="light"],\n.theme-light,\n[data-theme="light"] {\n    --bg-primary: #f4f4f4;\n    --bg-secondary: #ffffff;\n    --text-primary: #333;\n    --text-secondary: #636e72;\n    --border-color: #e0e0e0;\n    --shadow-color: rgba(0, 0, 0, 0.08);\n    --accent-color: #4a6cf7;\n    --header-bg: #ffffff;\n    --footer-bg: #f8f9fa;\n    --button-bg: #f8f9fa;\n    --button-hover: #e9ecef;\n    --content-spacing: 50px; /* Updated spacing between header and content */\n}\n\n/* Dark theme */\nhtml[data-theme="dark"],\nbody[data-theme="dark"],\n.theme-dark,\n[data-theme="dark"] {\n    --bg-primary: #0c0c0c;\n    --bg-secondary: #161718;\n    --text-primary: #f0f0f0;\n    --text-secondary: #b0b3b8;\n    --border-color: rgba(40, 40, 40, 0.5);\n    --border-color-rgb: 40, 40, 40;\n    --shadow-color: rgba(0, 0, 0, 0.35);\n    --accent-color: #4e4376;\n    --accent-color-rgb: 78, 67, 118;\n    --header-bg: #101010;\n    --footer-bg: #101010;\n    --button-bg: #222222;\n    --button-hover: #2a2a2a;\n    --content-spacing: 50px;\n}\n\n/* Remove scrollbars in dark theme for cleaner look */\nbody.theme-dark::-webkit-scrollbar,\nhtml.theme-dark::-webkit-scrollbar,\n[data-theme="dark"]::-webkit-scrollbar {\n    display: none;\n    width: 0;\n    background: transparent;\n}\n\n/* Hide scrollbar for Firefox in dark theme */\nbody.theme-dark,\nhtml.theme-dark,\n[data-theme="dark"] {\n    scrollbar-width: none;\n}\n\n/* Full-width header in dark theme */\nbody.theme-dark .header,\nhtml.theme-dark .header,\n[data-theme="dark"] .header {\n    width: 100% !important;\n    max-width: 100% !important;\n    left: 0 !important;\n    right: 0 !important;\n}\n\n/* Colorful theme */\nhtml[data-theme="colorful"],\nbody[data-theme="colorful"],\n.theme-colorful,\n[data-theme="colorful"] {\n    --bg-primary: #ffeaa7;\n    --bg-secondary: #81ecec;\n    --text-primary: #2d3436;\n    --text-secondary: #2d3436;\n    --border-color: #74b9ff;\n    --shadow-color: rgba(0, 0, 0, 0.1);\n    --accent-color: #6c5ce7;\n    --header-bg: #a29bfe;\n    --footer-bg: #ff7675;\n    --button-bg: rgba(255, 255, 255, 0.7);\n    --button-hover: rgba(255, 255, 255, 0.9);\n}\n\n/* Minimal theme */\nhtml[data-theme="minimal"],\nbody[data-theme="minimal"],\n.theme-minimal,\n[data-theme="minimal"] {\n    --bg-primary: #ffffff;\n    --bg-secondary: #ffffff;\n    --text-primary: #2d3436;\n    --text-secondary: #636e72;\n    --border-color: #dfe6e9;\n    --shadow-color: rgba(0, 0, 0, 0.05);\n    --accent-color: #2d3436;\n    --header-bg: #ffffff;\n    --footer-bg: #ffffff;\n    --button-bg: #ffffff;\n    --button-hover: #f1f2f6;\n}\n\n/* Pastel theme */\nhtml[data-theme="pastel"],\nbody[data-theme="pastel"],\n.theme-pastel,\n[data-theme="pastel"] {\n    --bg-primary: #fdcb6e;\n    --bg-secondary: #55efc4;\n    --text-primary: #2d3436;\n    --text-secondary: #2d3436;\n    --border-color: #fab1a0;\n    --shadow-color: rgba(0, 0, 0, 0.05);\n    --accent-color: #6c5ce7;\n    --header-bg: #fab1a0;\n    --footer-bg: #fab1a0;\n    --button-bg: #ffeaa7;\n    --button-hover: #fdcb6e;\n}\n\n/* Apply theme variables to elements */\nbody {\n    background-color: var(--bg-primary);\n    color: var(--text-primary);\n}\n\n.app {\n    background-color: var(--bg-primary);\n    color: var(--text-primary);\n}\n\n.header {\n    background: var(--header-bg);\n    box-shadow: 0 4px 12px var(--shadow-color);\n}\n\n.title-container h1 {\n    color: var(--text-primary);\n}\n\n.subtitle {\n    color: var(--text-secondary);\n}\n\n.help-button {\n    background-color: var(--button-bg);\n    border: 2px solid var(--border-color);\n    color: var(--text-primary);\n}\n\n.help-button:hover {\n    background-color: var(--button-hover);\n}\n\n.theme-switcher-container {\n    background-color: var(--bg-secondary);\n    box-shadow: 0 4px 15px var(--shadow-color);\n}\n\n.theme-switcher-title {\n    color: var(--text-primary);\n}\n\n.theme-button {\n    background-color: var(--button-bg);\n    color: var(--text-primary);\n}\n\n.timetable-section {\n    flex: 1;\n    max-width: 1200px;\n    border-radius: 12px;\n    padding: 1.5rem;\n    transition: all 0.5s ease;\n    background-color: var(--bg-secondary);\n    box-shadow: 0 4px 15px var(--shadow-color);\n    width: 100%;\n    height: auto !important; /* Ensure it only takes up the height it needs */\n    min-height: 0 !important; /* Prevent excess height */\n    margin-bottom: 20px; /* Add space at the bottom */\n    overflow: visible;\n}\n\n.main-container.sidebar-collapsed .timetable-section {\n    max-width: 1000px;\n    margin: 0 auto;\n    padding: 1.5rem 2.5rem;\n    width: 100%;\n}\n\n.section-title {\n    color: var(--text-primary);\n    border-bottom: 1px solid var(--border-color);\n}\n\n.footer {\n    background-color: var(--footer-bg);\n    border-top: 1px solid var(--border-color);\n    color: var(--text-secondary);\n}\n\n/* Retain the rest of the global styles */\nh1, h2, h3, h4, h5, h6 {\n    margin: 0;\n    padding: 0;\n}\n\na {\n    text-decoration: none;\n    color: inherit;\n}\n\n.container {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\n.button {\n    padding: 10px 15px;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n}\n\n.button-primary {\n    background-color: #007bff;\n    color: white;\n}\n\n.button-secondary {\n    background-color: #6c757d;\n    color: white;\n}\n\n.hidden {\n    display: none;\n}\n\n/* Header Styles in global.css - ensure fixed position */\n.header {\n    padding: 1.2rem 2rem;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    z-index: 1000;\n    transition: background-color 0.3s ease, box-shadow 0.3s ease;\n    will-change: transform; /* Performance optimization */\n}\n\n.header-content {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    max-width: 1400px;\n    margin: 0 auto;\n}\n\n.logo-container {\n    display: flex;\n    align-items: center;\n}\n\n.logo {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 44px;\n    height: 44px;\n    border-radius: 10px;\n    color: white;\n    margin-right: 1rem;\n    box-shadow: 0 2px 10px rgba(108, 92, 231, 0.3);\n    transition: background 0.3s ease;\n}\n\n.logo-icon {\n    font-size: 1.5rem;\n}\n\n.title-container {\n    flex: 1;\n}\n\n.title-container h1 {\n    font-size: 1.8rem;\n    font-weight: 700;\n    margin-bottom: 0.2rem;\n    letter-spacing: -0.5px;\n    transition: color 0.3s ease;\n}\n\n.subtitle {\n    font-size: 0.95rem;\n    font-weight: 400;\n    transition: color 0.3s ease;\n}\n\n.header-actions {\n    display: flex;\n    align-items: center;\n}\n\n.help-button {\n    width: 36px;\n    height: 36px;\n    border-radius: 50%;\n    font-size: 1rem;\n    font-weight: bold;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    transition: all 0.2s ease;\n}\n\n.help-button:hover {\n    transform: translateY(-2px);\n}\n\n/* Main Content */\n.main-content {\n    flex: 1;\n    padding: 20px;\n    max-width: 1400px;\n    margin: var(--content-spacing, 25px) auto 0; /* Using CSS variable for consistent spacing */\n    width: 100%;\n    transition: margin-top 0.4s ease;\n}\n\n/* Main Container Layout */\n.main-container {\n    display: flex;\n    gap: 2rem;\n    max-width: 1400px;\n    margin: 0 auto;\n    padding: 1rem;\n    transition: gap 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), justify-content 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);\n    justify-content: flex-start;\n    height: auto !important;\n    min-height: 0 !important;\n}\n\n.sidebar {\n    flex: 0 0 350px;\n    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.4s cubic-bezier(0.25, 1, 0.5, 1);\n    overflow: hidden;\n    border-radius: 12px;\n}\n\n.sidebar.collapsed {\n    flex: 0 0 0;\n    width: 0;\n    opacity: 0;\n    margin: 0;\n    padding: 0;\n}\n\n.main-container.sidebar-collapsed {\n    gap: 0;\n    justify-content: center;\n    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);\n}\n\n.main-container.sidebar-collapsed .timetable-section {\n    max-width: 1000px;\n    margin: 0 auto;\n    padding-left: 2.5rem;\n    padding-right: 2.5rem;\n    transform: scale(1);\n    transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);\n}\n\n/* Remove the centering for section title */\n.main-container.sidebar-collapsed .section-title {\n    text-align: left;\n}\n\n/* Responsive adjustments for layout */\n@media (max-width: 992px) {\n    .main-container {\n        flex-direction: column;\n    }\n    \n    .sidebar {\n        flex: none;\n        width: 100%;\n        max-height: initial; /* Changed from 800px to initial */\n        transition: all 0.5s ease;\n        margin-bottom: 20px;\n    }\n    \n    .sidebar.collapsed {\n        max-height: 0;\n        margin-bottom: 0;\n    }\n}\n\n/* Footer */\n.footer {\n    text-align: center;\n    padding: 15px;\n    margin-top: 0; /* No margin top */\n    font-size: 0.9rem;\n    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;\n    position: relative;\n    width: 100%;\n    height: auto; /* Only take needed height */\n}\n\n/* Form Elements */\nbutton {\n    cursor: pointer;\n}\n\ninput, select {\n    font-family: inherit;\n}\n\n/* Animation Classes */\n.animated-container {\n    animation-duration: 0.5s;\n    animation-fill-mode: both;\n    animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n    height: auto !important; /* Ensures content fits correctly */\n    min-height: 0 !important; /* Prevents extra space */\n    overflow: visible; /* Ensures content isn\'t cut off */\n    margin-bottom: 20px; /* Adds space at the bottom */\n}\n\n.fade-in-up {\n    animation-name: fadeInUp;\n}\n\n@keyframes fadeInUp {\n    from {\n        opacity: 0;\n        transform: translate3d(0, 30px, 0);\n    }\n    to {\n        opacity: 1;\n        transform: translate3d(0, 0, 0);\n    }\n}\n\n@keyframes slideDown {\n    from {\n        opacity: 0;\n        transform: translateY(-20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n@keyframes slideUp {\n    from {\n        opacity: 0;\n        transform: translateY(20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.slide-down {\n    animation: slideDown 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards;\n}\n\n.slide-up {\n    animation: slideUp 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards;\n}\n\n@keyframes pulse-light {\n    0% {\n        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);\n    }\n    100% {\n        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);\n    }\n}\n\n/* Transition effects for task tracking / timetable view switching */\n.timetable-section > div {\n    width: 100%;\n    height: 100%;\n    transition: all 0.5s cubic-bezier(0.25, 1, 0.5, 1);\n}\n\n@keyframes slideRight {\n    from {\n        opacity: 0;\n        transform: translateX(-20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateX(0);\n    }\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n    .header-content h1 {\n        font-size: 1.8rem;\n    }\n    \n    .main-content {\n        padding: 15px;\n        margin-top: 40px; /* Increased from 20px for mobile */\n        --content-spacing: 40px; /* Updated for mobile */\n    }\n    \n    .settings-panel {\n        padding: 15px;\n    }\n    \n    .setting-actions {\n        flex-direction: column;\n        gap: 10px;\n    }\n    \n    .header {\n        padding: 1rem;\n    }\n    \n    .logo {\n        width: 38px;\n        height: 38px;\n    }\n    \n    .title-container h1 {\n        font-size: 1.4rem;\n    }\n    \n    .subtitle {\n        font-size: 0.85rem;\n    }\n}\n\n/* Media query for dark theme and responsive design */\n@media (max-width: 992px) {\n    .theme-dark .main-content,\n    [data-theme="dark"] .main-content {\n        padding-top: calc(var(--content-spacing, 50px) * 0.8); /* Slightly reduced spacing on tablets */\n    }\n    \n    .theme-dark .header,\n    [data-theme="dark"] .header {\n        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.25) !important;\n    }\n}\n\n@media (max-width: 768px) {\n    .theme-dark .main-content,\n    [data-theme="dark"] .main-content {\n        padding-top: calc(var(--content-spacing, 50px) * 0.7); /* Further reduced spacing on mobile */\n    }\n    \n    .theme-dark .header,\n    [data-theme="dark"] .header {\n        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2) !important;\n    }\n}\n\n/* Global Animation Library */\n@keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n}\n\n@keyframes fadeInUp {\n    from {\n        opacity: 0;\n        transform: translateY(20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n@keyframes fadeInRight {\n    from {\n        opacity: 0;\n        transform: translateX(-20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateX(0);\n    }\n}\n\n@keyframes scaleIn {\n    from {\n        opacity: 0;\n        transform: scale(0.9);\n    }\n    to {\n        opacity: 1;\n        transform: scale(1);\n    }\n}\n\n@keyframes pulse-light {\n    0% {\n        box-shadow: 0 5px 15px rgba(var(--accent-color-rgb), 0.2);\n    }\n    100% {\n        box-shadow: 0 8px 25px rgba(var(--accent-color-rgb), 0.4);\n    }\n}\n\n@keyframes floating {\n    0% {\n        transform: translateY(0);\n    }\n    50% {\n        transform: translateY(-10px);\n    }\n    100% {\n        transform: translateY(0);\n    }\n}\n\n@keyframes shimmer {\n    0% {\n        background-position: -200% 0;\n    }\n    100% {\n        background-position: 200% 0;\n    }\n}\n\n/* Animation utility classes */\n.animate-fadeIn { animation: fadeIn 0.5s ease-in-out forwards; }\n.animate-fadeInUp { animation: fadeInUp 0.6s cubic-bezier(0.25, 1, 0.5, 1) forwards; }\n.animate-fadeInRight { animation: fadeInRight 0.6s cubic-bezier(0.25, 1, 0.5, 1) forwards; }\n.animate-scaleIn { animation: scaleIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }\n.animate-floating { animation: floating 3s ease-in-out infinite; }\n\n/* Animation delays */\n.delay-1 { animation-delay: 0.1s; }\n.delay-2 { animation-delay: 0.2s; }\n.delay-3 { animation-delay: 0.3s; }\n.delay-4 { animation-delay: 0.4s; }\n.delay-5 { animation-delay: 0.5s; }\n\n/* Additional time slot styling - ensuring consistency across themes */\n.time-slot h3 {\n    font-weight: 600;\n    font-size: 0.95rem; /* Standard size across themes */\n}\n\n.time-slot p {\n    font-size: 0.85rem; /* Standard size across themes */\n}\n\n.time-slot .time {\n    font-size: 0.8rem; /* Standard size across themes */\n}',""]);const a=o},195:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'/* filepath: /Users/joshuazheng/Downloads/Vscode/Website/timetable-app/src/assets/themes/pastel.css */\nbody {\n    background: linear-gradient(135deg, #f0e6f6, #e6d7f0);\n    color: #4a4063;\n    font-family: \'Arial\', sans-serif;\n}\n\n/* Header styling for blob effect */\n.header {\n    background: linear-gradient(135deg, #d6c6e1, #c3b1d1);\n    padding: 20px;\n    text-align: center;\n    color: #4a4063;\n    border-bottom: 1px solid #c3b1d1;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n    transform: translateZ(0); /* Fixes potential rendering issues */\n}\n\n/* Blob effect for pastel theme */\n.header.scrolled {\n    background: linear-gradient(135deg, #d6c6e1, #c3b1d1);\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n    border-radius: 0 0 20px 20px;\n    width: 95%;\n    left: 2.5%;\n    right: 2.5%;\n    border: none;\n    box-shadow: 0 4px 15px rgba(211, 190, 223, 0.4);\n}\n\n/* Theme-specific styling */\n\nh1 {\n    margin: 0;\n    font-size: 2.5em;\n    color: #4a4063;\n    font-weight: 400;\n}\n\n/* Additional header styling for pastel theme */\n.title-container h1 {\n    color: #4a4063;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n}\n\n.subtitle {\n    color: #614a85;\n    opacity: 0.9;\n}\n\n.logo {\n    background: linear-gradient(135deg, #d6c6e1, #c3b1d1);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.sidebar-toggle:not(.collapsed), \n.calendar-toggle.active {\n    background: linear-gradient(135deg, #c3b1d1, #a287bc);\n    color: white;\n    border-color: #a287bc;\n}\n\n.toggle-icon {\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n}\n\n.help-button {\n    background-color: rgba(214, 198, 225, 0.5);\n    border: 2px solid rgba(195, 177, 209, 0.7);\n    color: #4a4063;\n}\n\n.timetable-container {\n    margin: 20px auto;\n    width: 95%;\n    max-width: 1200px;\n    background-color: rgba(255, 255, 255, 0.7);\n    padding: 20px;\n    border-radius: 15px;\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);\n}\n\n.timetable-header {\n    margin-bottom: 20px;\n    text-align: center;\n    background-color: #e6d7f0;\n    border-radius: 10px;\n    padding: 15px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.03);\n}\n\n.timetable-header h2 {\n    font-weight: 500;\n    color: #7c7c7c;\n    margin-bottom: 15px;\n}\n\n.template-controls {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: 15px;\n    margin: 15px 0;\n}\n\n.template-controls select, .template-controls input {\n    padding: 8px 15px;\n    border: 1px solid #f7cac9;\n    border-radius: 20px;\n    font-size: 14px;\n    background-color: white;\n    color: #5d5c61;\n}\n\n.template-controls button {\n    background-color: #f7cac9;\n    border: none;\n    color: #5d5c61;\n    padding: 8px 20px;\n    border-radius: 20px;\n    cursor: pointer;\n    font-size: 14px;\n    transition: all 0.3s;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n}\n\n.template-controls button:hover {\n    background-color: #f7c4a5;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.day-selector {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: 8px;\n    margin: 15px 0;\n}\n\n.day-selector button {\n    background: linear-gradient(to bottom, #d8e2dc, #c7d8d0);\n    border: none;\n    color: #5d5c61;\n    padding: 8px 15px;\n    border-radius: 20px;\n    cursor: pointer;\n    transition: all 0.3s;\n    font-size: 14px;\n}\n\n.day-selector button:hover {\n    background: linear-gradient(to bottom, #c7d8d0, #b8d0c5);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.day-selector button.active {\n    background: linear-gradient(135deg, #f7cac9, #f5b2b1);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.timetable {\n    display: flex;\n    border-radius: 15px;\n    overflow: hidden;\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);\n    background-color: #ffffff;\n}\n\n.periods-column {\n    width: 150px;\n    background-color: #f8edeb;\n    border-right: 1px solid #f7e1d7;\n}\n\n.period-label {\n    padding: 15px 10px;\n    border-bottom: 1px solid #f7e1d7;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.period-label span {\n    font-size: 16px;\n    color: #5d5c61;\n    font-weight: 500;\n}\n\n.period-label .time {\n    font-size: 13px;\n    color: #818181;\n    margin-top: 4px;\n}\n\n.day-column {\n    flex: 1;\n}\n\n.period-row {\n    padding: 10px;\n    border-bottom: 1px solid #f7e1d7;\n    min-height: 80px;\n    background-color: rgba(255, 255, 255, 0.7);\n}\n\n.time-slot {\n    border-radius: 12px;\n    padding: 12px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n    transition: all 0.3s;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid rgba(214, 198, 225, 0.5);\n}\n\n.time-slot:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    background-color: rgba(214, 198, 225, 0.7);\n}\n\n/* Override the subject color definitions with pastel colors */\n.time-slot[style*="background-color: #4a90e2"] {\n    background-color: #a2d2ff !important;\n    color: #5d5c61 !important;\n}\n\n.time-slot[style*="background-color: #5c6bc0"] {\n    background-color: #bde0fe !important; \n    color: #5d5c61 !important;\n}\n\n.time-slot[style*="background-color: #43a047"] {\n    background-color: #cdb4db !important;\n    color: #5d5c61 !important;\n}\n\n.time-slot[style*="background-color: #66bb6a"] {\n    background-color: #a2d2ff !important;\n    color: #5d5c61 !important;\n}\n\n.time-slot[style*="background-color: #ec407a"] {\n    background-color: #ffafcc !important;\n    color: #5d5c61 !important;\n}\n\n.time-slot[style*="background-color: #ff7043"] {\n    background-color: #fec89a !important;\n    color: #5d5c61 !important;\n}\n\n.time-slot[style*="background-color: #ffca28"] {\n    background-color: #fdffb6 !important;\n    color: #5d5c61 !important;\n}\n\n.time-slot[style*="background-color: #bdbdbd"] {\n    background-color: #e5e5e5 !important;\n    color: #5d5c61 !important;\n}\n\n.time-slot-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 8px;\n}\n\n.time-slot h3 {\n    margin: 0 0 5px 0;\n    font-size: 16px;\n    font-weight: 600;\n}\n\n.time-slot p {\n    margin: 3px 0;\n    font-size: 13px;\n}\n\n.time-slot .code {\n    opacity: 0.8;\n    font-size: 12px;\n}\n\n.time-slot-actions button {\n    background: transparent;\n    border: none;\n    font-size: 14px;\n    cursor: pointer;\n    padding: 2px 8px;\n    color: inherit;\n    opacity: 0.6;\n}\n\n.time-slot-actions button:hover {\n    opacity: 1;\n}\n\n.add-time-slot button {\n    background: linear-gradient(135deg, #f8edeb, #f7e1d7);\n    border: 2px dashed #f7cac9;\n    color: #7c7c7c;\n    padding: 10px 15px;\n    border-radius: 12px;\n    width: 100%;\n    cursor: pointer;\n    transition: all 0.3s;\n    font-weight: 500;\n}\n\n.add-time-slot button:hover {\n    background: linear-gradient(135deg, #f7e1d7, #f7cac9);\n    color: #5d5c61;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n    transform: translateY(-2px);\n}\n\n.theme-switcher {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 15px;\n    margin: 25px auto;\n    background-color: white;\n    padding: 10px 20px;\n    border-radius: 25px;\n    width: fit-content;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\n}\n\n.theme-switcher label {\n    font-weight: 500;\n    color: #7c7c7c;\n}\n\n.theme-switcher select {\n    padding: 6px 15px;\n    border: 1px solid #f7cac9;\n    border-radius: 20px;\n    font-size: 14px;\n    background-color: white;\n    color: #5d5c61;\n}\n\n/* Editing mode styles */\n.time-slot.editing {\n    background-color: white !important;\n    border: 2px solid #f7cac9;\n    padding: 15px;\n}\n\n.time-slot-edit-header h4 {\n    color: #7c7c7c;\n    text-align: center;\n    margin-top: 0;\n    font-weight: 500;\n}\n\n.time-slot-edit-form .form-group {\n    margin-bottom: 10px;\n}\n\n.time-slot-edit-form label {\n    display: block;\n    margin-bottom: 5px;\n    color: #7c7c7c;\n    font-size: 14px;\n}\n\n.time-slot-edit-form input {\n    width: 100%;\n    padding: 8px;\n    border: 1px solid #f7e1d7;\n    border-radius: 8px;\n    font-size: 14px;\n}\n\n.form-actions {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 15px;\n}\n\n.form-actions button {\n    padding: 8px 15px;\n    border-radius: 20px;\n    cursor: pointer;\n    border: none;\n    font-size: 14px;\n}\n\n.form-actions .save-button {\n    background-color: #f7cac9;\n    color: #5d5c61;\n}\n\n.form-actions .cancel-button {\n    background-color: #e5e5e5;\n    color: #5d5c61;\n}\n\n.header {\n    background-color: #d6c6e1;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n}\n\n.title-container h1 {\n    color: #4a4063;\n}\n\n.subtitle {\n    color: #614a85;\n    opacity: 0.9;\n}\n\n.logo {\n    background: linear-gradient(135deg, #a287bc, #c3b1d1);\n}\n\n.timetable {\n    margin: 20px auto;\n    width: 90%;\n    max-width: 800px;\n    border-collapse: collapse;\n    background-color: #f8f2ff;\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);\n    border-radius: 10px;\n    overflow: hidden;\n}\n\n.timetable th, .timetable td {\n    border: 1px solid #e3d5ed;\n    padding: 12px;\n    text-align: center;\n}\n\n.timetable th {\n    background-color: #d6c6e1;\n    color: #4a4063;\n    font-weight: 600;\n}\n\n.time-slot {\n    background-color: #f8f2ff;\n    border: 1px solid #e3d5ed;\n    padding: 12px;\n    margin: 5px;\n    border-radius: 6px;\n    transition: all 0.3s ease;\n}\n\n.time-slot:hover {\n    background-color: #e3d5ed;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);\n}\n\n.theme-switcher {\n    margin: 20px;\n    text-align: center;\n}\n\n.settings {\n    margin: 20px;\n    text-align: center;\n}\n\n.button {\n    background-color: #a287bc;\n    color: white;\n    border: none;\n    padding: 8px 16px;\n    border-radius: 5px;\n    cursor: pointer;\n    font-weight: 500;\n    transition: all 0.2s ease;\n}\n\n.button:hover {\n    background-color: #8b6ca8;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(139, 108, 168, 0.2);\n}\n\n.help-button {\n    background-color: #f8f2ff;\n    border: 2px solid #e3d5ed;\n    color: #4a4063;\n}\n\n.help-button:hover {\n    background-color: #e3d5ed;\n}\n\n/* Theme switcher */\n.theme-switcher-container {\n    background: linear-gradient(135deg, #f8f2ff, #f0e6f6);\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);\n    border-radius: 10px;\n    padding: 20px;\n    margin: 20px 0;\n    border: 1px solid #e3d5ed;\n}\n\n.theme-switcher-title {\n    color: #4a4063;\n    font-weight: 600;\n    margin-bottom: 15px;\n}\n\n.theme-button {\n    background-color: #f0e6f6;\n    color: #4a4063;\n    border: 2px solid #e3d5ed;\n    padding: 8px 16px;\n    margin: 5px;\n    border-radius: 6px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    background: linear-gradient(135deg, #f0e6f6, #e3d5ed);\n}\n\n.theme-button:hover, .theme-button.active {\n    background-color: #a287bc;\n    color: white;\n    border-color: #8b6ca8;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(139, 108, 168, 0.2);\n    background: linear-gradient(135deg, #a287bc, #8b6ca8);\n}\n\n/* Period rows */\n.period-row {\n    background-color: #f8f2ff;\n}\n\n.period-label {\n    background-color: #e9ddf2;\n    color: #4a4063;\n    font-weight: 500;\n}',""]);const a=o},223:(e,t,n)=>{n.r(t),n.d(t,{FirebaseError:()=>r.g,SDK_VERSION:()=>r.MF,_DEFAULT_ENTRY_NAME:()=>r.iF,_addComponent:()=>r.yi,_addOrOverwriteComponent:()=>r.mq,_apps:()=>r.SV,_clearComponents:()=>r.HG,_components:()=>r.yX,_getProvider:()=>r.j6,_isFirebaseApp:()=>r.U6,_isFirebaseServerApp:()=>r.xZ,_registerComponent:()=>r.om,_removeServiceInstance:()=>r.Us,_serverApps:()=>r.Tj,deleteApp:()=>r.NM,getApp:()=>r.Sx,getApps:()=>r.Dk,initializeApp:()=>r.Wp,initializeServerApp:()=>r.pN,onLog:()=>r.aP,registerVersion:()=>r.KO,setLogLevel:()=>r.He});var r=n(990);(0,r.KO)("firebase","11.7.1","app")},228:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,i,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(s[c]=a[c]);if(t){i=t(a);for(var u=0;u<i.length;u++)r.call(a,i[u])&&(s[i[u]]=a[i[u]])}}return s}},231:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"/* Signup Component Styles */\n.signup-form {\n  background-color: var(--card-bg);\n  border-radius: 12px;\n  padding: 30px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n  width: 100%;\n  max-width: 450px;\n}\n\n.signup-form h2 {\n  color: var(--text-primary);\n  text-align: center;\n  margin-bottom: 25px;\n  font-size: 24px;\n}\n\n.signup-form .form-group {\n  margin-bottom: 20px;\n}\n\n.signup-form label {\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 500;\n  color: var(--text-secondary);\n}\n\n.signup-form input {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid var(--border-color);\n  border-radius: 6px;\n  font-size: 16px;\n  transition: border-color 0.2s, box-shadow 0.2s;\n  background-color: var(--input-bg);\n  color: var(--text-primary);\n}\n\n.signup-form input:focus {\n  border-color: var(--primary-color);\n  box-shadow: 0 0 0 3px var(--primary-light);\n  outline: none;\n}\n\n.signup-form input:disabled {\n  background-color: var(--disabled-bg);\n  cursor: not-allowed;\n}\n\n.signup-form .input-hint {\n  font-size: 12px;\n  color: var(--text-tertiary);\n  margin-top: 4px;\n  margin-bottom: 0;\n}\n\n.signup-form .error-message {\n  background-color: var(--error-bg);\n  color: var(--error-color);\n  padding: 12px;\n  border-radius: 6px;\n  margin-bottom: 20px;\n  font-size: 14px;\n}\n\n.signup-form .success-message {\n  background-color: var(--success-bg);\n  color: var(--success-color);\n  padding: 12px;\n  border-radius: 6px;\n  margin-bottom: 20px;\n  font-size: 14px;\n}\n\n.signup-form .signup-button {\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  padding: 12px 20px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: 500;\n  width: 100%;\n  transition: background-color 0.2s, transform 0.1s;\n  margin-top: 10px;\n}\n\n.signup-form .signup-button:hover {\n  background-color: var(--primary-dark);\n}\n\n.signup-form .signup-button:active {\n  transform: translateY(1px);\n}\n\n.signup-form .signup-button:disabled {\n  background-color: var(--disabled-color);\n  cursor: not-allowed;\n}\n\n.signup-form .switch-form {\n  text-align: center;\n  margin-top: 20px;\n  color: var(--text-secondary);\n}\n\n.signup-form .switch-button {\n  background: none;\n  border: none;\n  color: var(--primary-color);\n  cursor: pointer;\n  font-weight: 500;\n  padding: 0;\n  text-decoration: underline;\n  transition: color 0.2s;\n}\n\n.signup-form .switch-button:hover {\n  color: var(--primary-dark);\n}\n\n.signup-form .switch-button:disabled {\n  color: var(--disabled-color);\n  cursor: not-allowed;\n}\n\n/* Responsive adjustments */\n@media (max-width: 576px) {\n  .signup-form {\n    padding: 20px;\n  }\n  \n  .signup-form h2 {\n    font-size: 20px;\n  }\n  \n  .signup-form input {\n    padding: 10px;\n    font-size: 14px;\n  }\n  \n  .signup-form .signup-button {\n    padding: 10px;\n    font-size: 14px;\n  }\n}\n",""]);const a=o},287:(e,t,n)=>{var r=n(228),o=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;o=d("react.element"),a=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),i=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,r(v,g.prototype),v.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)x.call(t,r)&&!k.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:o,type:e,key:i,ref:s,props:a,_owner:w.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var T=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case o:case a:l=!0}}if(l)return i=i(l=e),e=""===r?"."+C(l,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),_(i,t,n,"",(function(e){return e}))):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(T,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+C(s=e[c],c);l+=_(s,t,n,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=_(s=s.value,t,n,u=r+C(s,c++),i);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function N(e,t,n){if(null==e)return e;var r=[],o=0;return _(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function O(){var e=I.current;if(null===e)throw Error(f(321));return e}var P={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var a=r({},e.props),i=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)x.call(t,u)&&!k.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:o,type:e.type,key:i,ref:s,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},353:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'.theme-switcher-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin: 2rem auto;\n    padding: 1.5rem;\n    background-color: #ffffff;\n    border-radius: 12px;\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);\n    max-width: 400px;\n    position: relative;\n    z-index: 1;\n}\n\n.theme-switcher-title {\n    font-size: 1.2rem;\n    font-weight: 600;\n    margin-bottom: 1.5rem;\n    color: #333;\n}\n\n.theme-buttons {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 12px;\n    justify-content: center;\n    margin-bottom: 1.5rem;\n    width: 100%;\n}\n\n.theme-button {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 10px;\n    border-radius: 10px;\n    border: 2px solid transparent;\n    cursor: pointer;\n    background-color: #f8f9fa;\n    width: calc(50% - 6px);\n    position: relative;\n    z-index: 2;\n    user-select: none;\n    outline: none;\n    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n}\n\n.theme-button:focus-visible {\n    outline: 2px solid #4a6cf7;\n    outline-offset: 2px;\n}\n\n.theme-button:active {\n    transform: scale(0.98);\n}\n\n.theme-button:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\n    border-color: rgba(74, 108, 247, 0.5);\n}\n\n.theme-button.active {\n    border: 2px solid var(--accent-color) !important;\n    box-shadow: 0 0 12px rgba(74, 108, 247, 0.5);\n    position: relative;\n    transform: translateY(-4px) scale(1.03);\n    animation: pulse 1.5s ease-in-out infinite alternate;\n}\n\n@keyframes pulse {\n    0% {\n        box-shadow: 0 0 8px rgba(74, 108, 247, 0.4);\n    }\n    100% {\n        box-shadow: 0 0 16px rgba(74, 108, 247, 0.6);\n    }\n}\n\n.theme-button.active::after {\n    content: \'✓\';\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    background-color: var(--accent-color);\n    color: white;\n    border-radius: 50%;\n    width: 20px;\n    height: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 0.8rem;\n    animation: fadeInCheckmark 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\n}\n\n@keyframes fadeInCheckmark {\n    from {\n        transform: scale(0) rotate(-90deg);\n        opacity: 0;\n    }\n    to {\n        transform: scale(1) rotate(0);\n        opacity: 1;\n    }\n}\n\n.theme-button-preview {\n    width: 100%;\n    height: 70px;\n    border-radius: 7px;\n    margin-bottom: 10px;\n    pointer-events: none;\n    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n.theme-button:hover .theme-button-preview {\n    transform: translateY(-5px);\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);\n}\n\n.theme-button span {\n    font-size: 0.9rem;\n    font-weight: 500;\n    color: #333;\n    pointer-events: none;\n    transition: all 0.3s ease;\n}\n\n.theme-button:hover span {\n    transform: translateY(-2px);\n    font-weight: 600;\n}\n\n.theme-button-preview {\n    width: 100%;\n    height: 70px;\n    border-radius: 7px;\n    margin-bottom: 10px;\n    pointer-events: none;\n}\n\n.theme-button span {\n    font-size: 0.9rem;\n    font-weight: 500;\n    color: #333;\n    pointer-events: none;\n}\n\n/* Light theme preview */\n.theme-button.light .theme-button-preview {\n    background: linear-gradient(135deg, #ffffff, #f8f9fa);\n    border: 1px solid #e9ecef;\n}\n\n/* Dark theme preview */\n.theme-button.dark .theme-button-preview {\n    background: linear-gradient(135deg, #343a40, #212529);\n    border: 1px solid #495057;\n}\n\n/* Colorful theme preview */\n.theme-button.colorful .theme-button-preview {\n    background: linear-gradient(135deg, #a29bfe, #74b9ff, #55efc4);\n    border: 1px solid #74b9ff;\n}\n\n/* Minimal theme preview */\n.theme-button.minimal .theme-button-preview {\n    background: linear-gradient(135deg, #f1f3f5, #e9ecef);\n    border: 1px solid #ced4da;\n}\n\n/* Pastel theme preview */\n.theme-button.pastel .theme-button-preview {\n    background: linear-gradient(135deg, #ffeaa7, #fab1a0, #a29bfe);\n    border: 1px solid #fab1a0;\n}\n\n/* Cosmos theme preview */\n.theme-button.cosmos .theme-button-preview {\n    background: linear-gradient(135deg, #050e23, #1a1a4a);\n    border: 1px solid #6e3cbf;\n    box-shadow: 0 0 10px rgba(154, 79, 230, 0.4);\n    position: relative;\n    overflow: hidden;\n}\n\n/* Add starry background to cosmos preview */\n.theme-button.cosmos .theme-button-preview::before {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-image: radial-gradient(white 1px, transparent 0);\n    background-size: 10px 10px;\n    opacity: 0.3;\n}\n\n/* Add a little star effect in the preview */\n.theme-button.cosmos .theme-button-preview::after {\n    content: \'\';\n    position: absolute;\n    top: 5px;\n    left: 5px;\n    width: 2px;\n    height: 2px;\n    background-color: white;\n    border-radius: 50%;\n    box-shadow: \n        10px 5px 0 0 rgba(255, 255, 255, 0.8),\n        5px 15px 0 0 rgba(255, 255, 255, 0.7),\n        15px 15px 0 0 rgba(255, 255, 255, 0.9),\n        25px 20px 0 0 rgba(255, 255, 255, 0.5),\n        35px 5px 0 0 rgba(255, 255, 255, 0.6),\n        45px 30px 0 0 rgba(255, 255, 255, 0.8),\n        25px 40px 0 0 rgba(255, 255, 255, 0.7);\n}\n\n/* Theme button animations */\n@keyframes themeButtonHover {\n    from { transform: scale(1); }\n    to { transform: scale(1.05); }\n}\n\n.current-theme-label {\n    margin-top: 1rem;\n    font-size: 0.95rem;\n    color: #666;\n    user-select: none;\n}\n\n.current-theme-label span {\n    font-weight: 600;\n    color: #4a6cf7;\n}\n\n/* Responsive styles */\n@media (max-width: 400px) {\n    .theme-button {\n        width: 100%;\n    }\n}\n\n/* Hover effect for the entire container */\n.theme-switcher-container:hover {\n    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);\n}\n\n/* Dark theme styling for theme switcher */\n.theme-dark .theme-switcher-container,\n[data-theme="dark"] .theme-switcher-container {\n    background-color: var(--bg-secondary);\n    border: 1px solid var(--border-color);\n    box-shadow: 0 8px 25px var(--shadow-color);\n}\n\n.theme-dark .theme-switcher-title,\n[data-theme="dark"] .theme-switcher-title {\n    color: var(--text-primary);\n    font-weight: 600;\n    letter-spacing: 0.2px;\n}\n\n.theme-dark .theme-button,\n[data-theme="dark"] .theme-button {\n    background-color: var(--bg-primary);\n    border: 1px solid var(--border-color);\n    box-shadow: 0 2px 6px var(--shadow-color);\n}\n\n.theme-dark .theme-button:hover,\n[data-theme="dark"] .theme-button:hover {\n    background-color: var(--button-hover);\n    box-shadow: 0 4px 10px var(--shadow-color);\n    transform: translateY(-2px);\n    border-color: var(--border-color);\n}\n\n.theme-dark .theme-button.active,\n[data-theme="dark"] .theme-button.active {\n    border: 2px solid var(--accent-color) !important;\n    box-shadow: 0 4px 12px rgba(var(--accent-color-rgb), 0.3);\n}\n\n.theme-dark .theme-button-label,\n[data-theme="dark"] .theme-button-label {\n    color: #ffffff;\n    font-weight: 500;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);\n    font-size: 1.05rem;\n    letter-spacing: 0.5px;\n    margin-top: 5px;\n    transition: all 0.3s ease;\n}\n\n.theme-dark .theme-button span,\n[data-theme="dark"] .theme-button span {\n    color: var(--text-primary);\n    font-weight: 500;\n}\n\n.theme-dark .theme-button-preview,\n[data-theme="dark"] .theme-button-preview {\n    border: 1px solid var(--border-color);\n    box-shadow: inset 0 1px 3px var(--shadow-color);\n}\n\n/* Style the select dropdown in dark theme */\n.theme-dark .theme-select-container,\n[data-theme="dark"] .theme-select-container {\n    background-color: var(--bg-primary);\n    border: 1px solid var(--border-color);\n    box-shadow: 0 2px 6px var(--shadow-color);\n    border-radius: 8px;\n    padding: 6px 10px;\n}\n\n.theme-dark .theme-select,\n[data-theme="dark"] .theme-select {\n    background-color: var(--bg-primary);\n    color: var(--text-primary);\n    border: 1px solid var(--border-color);\n    box-shadow: inset 0 1px 3px var(--shadow-color);\n}\n\n.theme-dark .current-theme-label,\n[data-theme="dark"] .current-theme-label {\n    color: var(--text-secondary);\n}\n\n.theme-dark .current-theme-label span,\n[data-theme="dark"] .current-theme-label span {\n    color: var(--accent-color);\n    font-weight: 600;\n}',""]);const a=o},394:(e,t,n)=>{n.r(t),n.d(t,{createUserDocument:()=>wl,default:()=>El,getUserData:()=>xl,initializeFirestore:()=>gl,isDisposableEmail:()=>yl,isUsernameAvailable:()=>vl,updateUserDocument:()=>kl});var r,o,a=n(990),i=n(125),s=n(424),l=n(126),c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var o=0;16>o;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var a=e.g[3],i=t+(a^n&(o^a))+r[0]+3614090360&4294967295;i=(n=(o=(a=(t=(n=(o=(a=(t=(n=(o=(a=(t=(n=(o=(a=(t=(n=(o=(a=(t=(n=(o=(a=(t=(n=(o=(a=(t=(n=(o=(a=(t=(n=(o=(a=(t=(n=(o=(a=(t=(n=(o=(a=(t=(n=(o=(a=(t=(n=(o=(a=(t=(n=(o=(a=(t=(n=(o=(a=(t=n+(i<<7&4294967295|i>>>25))+((i=a+(o^t&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|i>>>20))+((i=o+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^o&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^n&(o^a))+r[4]+4118548399&4294967295)<<7&4294967295|i>>>25))+((i=a+(o^t&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|i>>>20))+((i=o+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^o&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^n&(o^a))+r[8]+1770035416&4294967295)<<7&4294967295|i>>>25))+((i=a+(o^t&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|i>>>20))+((i=o+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^o&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^n&(o^a))+r[12]+1804603682&4294967295)<<7&4294967295|i>>>25))+((i=a+(o^t&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|i>>>20))+((i=o+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^o&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|i>>>10))+((i=t+(o^a&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|i>>>27))+((i=a+(n^o&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|i>>>23))+((i=o+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|i>>>18))+((i=n+(a^t&(o^a))+r[0]+3921069994&4294967295)<<20&4294967295|i>>>12))+((i=t+(o^a&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|i>>>27))+((i=a+(n^o&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|i>>>23))+((i=o+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|i>>>18))+((i=n+(a^t&(o^a))+r[4]+3889429448&4294967295)<<20&4294967295|i>>>12))+((i=t+(o^a&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|i>>>27))+((i=a+(n^o&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|i>>>23))+((i=o+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|i>>>18))+((i=n+(a^t&(o^a))+r[8]+1163531501&4294967295)<<20&4294967295|i>>>12))+((i=t+(o^a&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|i>>>27))+((i=a+(n^o&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|i>>>23))+((i=o+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|i>>>18))+((i=n+(a^t&(o^a))+r[12]+2368359562&4294967295)<<20&4294967295|i>>>12))+((i=t+(n^o^a)+r[5]+4294588738&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|i>>>21))+((i=o+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|i>>>16))+((i=n+(o^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^o^a)+r[1]+2763975236&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|i>>>21))+((i=o+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|i>>>16))+((i=n+(o^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^o^a)+r[13]+681279174&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|i>>>21))+((i=o+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|i>>>16))+((i=n+(o^a^t)+r[6]+76029189&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^o^a)+r[9]+3654602809&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|i>>>21))+((i=o+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|i>>>16))+((i=n+(o^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|i>>>9))+((i=t+(o^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|i>>>26))+((i=a+(n^(t|~o))+r[7]+1126891415&4294967295)<<10&4294967295|i>>>22))+((i=o+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|i>>>17))+((i=n+(a^(o|~t))+r[5]+4237533241&4294967295)<<21&4294967295|i>>>11))+((i=t+(o^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|i>>>26))+((i=a+(n^(t|~o))+r[3]+2399980690&4294967295)<<10&4294967295|i>>>22))+((i=o+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|i>>>17))+((i=n+(a^(o|~t))+r[1]+2240044497&4294967295)<<21&4294967295|i>>>11))+((i=t+(o^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|i>>>26))+((i=a+(n^(t|~o))+r[15]+4264355552&4294967295)<<10&4294967295|i>>>22))+((i=o+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|i>>>17))+((i=n+(a^(o|~t))+r[13]+1309151649&4294967295)<<21&4294967295|i>>>11))+((a=(t=n+((i=t+(o^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|i>>>26))+((i=a+(n^(t|~o))+r[11]+3174756917&4294967295)<<10&4294967295|i>>>22))^((o=a+((i=o+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+a&4294967295}function a(e,t){this.h=t;for(var n=[],r=!0,o=e.length-1;0<=o;o--){var a=0|e[o];r&&a==t||(n[o]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[n].apply(e,o)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,o=this.B,a=this.h,i=0;i<t;){if(0==a)for(;i<=r;)n(this,e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(o[a++]=e.charCodeAt(i++),a==this.blockSize){n(this,o),a=0;break}}else for(;i<t;)if(o[a++]=e[i++],a==this.blockSize){n(this,o),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e){var t=i;return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=function(e){return new a([0|e],0>e?-1:0)}(e)}(e):new a([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return m(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new a(t,0)}var c=s(0),d=s(1),h=s(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function m(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new a(n,~e.h).add(d)}function g(e,t){return e.add(m(t))}function b(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function v(e,t){if(f(t))throw Error("division by zero");if(f(e))return new y(c,c);if(p(e))return t=v(m(e),t),new y(m(t.g),m(t.h));if(p(t))return t=v(e,m(t)),new y(m(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=d,r=t;0>=r.l(e);)n=w(n),r=w(r);var o=x(n,1),a=x(r,1);for(r=x(r,2),n=x(n,2);!f(r);){var i=a.add(r);0>=i.l(e)&&(o=o.add(n),a=i),r=x(r,1),n=x(n,1)}return t=g(e,o.j(t)),new y(o,t)}for(o=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),i=(a=l(n)).j(t);p(i)||0<i.l(e);)i=(a=l(n-=r)).j(t);f(a)&&(a=d),o=o.add(a),e=g(e,i)}return new y(o,e)}function w(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new a(n,e.h)}function x(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,o=[],i=0;i<r;i++)o[i]=0<t?e.i(i+n)>>>t|e.i(i+n+1)<<32-t:e.i(i+n);return new a(o,e.h)}(e=a.prototype).m=function(){if(p(this))return-m(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+m(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var o=v(n,t).g,a=((0<(n=g(n,o.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(f(n=o))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?m(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,o=0;o<=t;o++){var i=r+(65535&this.i(o))+(65535&e.i(o)),s=(i>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);r=s>>>16,i&=65535,s&=65535,n[o]=s<<16|i}return new a(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return c;if(p(this))return p(e)?m(this).j(m(e)):m(m(this).j(e));if(p(e))return m(this.j(m(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<e.g.length;o++){var i=this.i(r)>>>16,s=65535&this.i(r),u=e.i(o)>>>16,d=65535&e.i(o);n[2*r+2*o]+=s*d,b(n,2*r+2*o),n[2*r+2*o+1]+=i*d,b(n,2*r+2*o+1),n[2*r+2*o+1]+=s*u,b(n,2*r+2*o+1),n[2*r+2*o+2]+=i*u,b(n,2*r+2*o+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new a(n,0)},e.A=function(e){return v(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new a(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new a(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new a(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,o=u.Md5=t,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),o=c,a=0;a<t.length;a+=8){var i=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+i),n);8>i?(i=l(Math.pow(n,i)),o=o.j(i).add(l(s))):o=(o=o.j(r)).add(l(s))}return o},r=u.Integer=a}).apply(void 0!==c?c:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var d,h,f,p,m,g,b,y,v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},w={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof v&&v];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var o=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var i=e[a];if(!(i in o))break e;o=o[i]}(r=r(a=o[e=e[e.length-1]]))!=a&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(0,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,(function(e,t){return t}))}}));var r=r||{},o=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function i(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function x(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[n].apply(e,o)}}function k(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function E(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(a(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let o=0;o<r;o++)e[t+o]=n[o]}else e.push(n)}}function S(e){return/^[\s\xa0]*$/.test(e)}function T(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function C(e){return C[" "](e),e}C[" "]=function(){};var _=!(-1==T().indexOf("Gecko")||-1!=T().toLowerCase().indexOf("webkit")&&-1==T().indexOf("Edge")||-1!=T().indexOf("Trident")||-1!=T().indexOf("MSIE")||-1!=T().indexOf("Edge"));function N(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function A(e){const t={};for(const n in e)t[n]=e[n];return t}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<I.length;t++)n=I[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function P(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function D(e){o.setTimeout((()=>{throw e}),0)}function M(){var e=F;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var j=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new R),(e=>e.reset()));class R{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let L,z=!1,F=new class{constructor(){this.h=this.g=null}add(e,t){const n=j.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},U=()=>{const e=o.Promise.resolve(void 0);L=()=>{e.then(V)}};var V=()=>{for(var e;e=M();){try{e.h.call(e.g)}catch(e){D(e)}var t=j;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}z=!1};function B(){this.s=this.s,this.C=this.C}function $(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},$.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(e){}return e}();function H(e,t){if($.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(_){e:{try{C(t.nodeName);var o=!0;break e}catch(e){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:G[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&H.aa.h.call(this)}}x(H,$);var G={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),Y=0;function W(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++Y,this.da=this.fa=!1}function Q(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function J(e){this.src=e,this.g={},this.h=0}function X(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],a=Array.prototype.indexOf.call(o,t,void 0);(r=0<=a)&&Array.prototype.splice.call(o,a,1),r&&(Q(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Z(e,t,n,r){for(var o=0;o<e.length;++o){var a=e[o];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return o}return-1}J.prototype.add=function(e,t,n,r,o){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var i=Z(e,t,r,o);return-1<i?(t=e[i],n||(t.fa=!1)):((t=new W(t,this.src,a,!!r,o)).fa=n,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function ne(e,t,n,r,o){if(r&&r.once)return oe(e,t,n,r,o);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ne(e,t[a],n,r,o);return null}return n=de(n),e&&e[K]?e.K(t,n,i(r)?!!r.capture:!!r,o):re(e,t,n,!1,r,o)}function re(e,t,n,r,o,a){if(!t)throw Error("Invalid event type");var s=i(o)?!!o.capture:!!o,l=ce(e);if(l||(e[ee]=l=new J(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){const e=le;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)q||(o=s),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(se(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function oe(e,t,n,r,o){if(Array.isArray(t)){for(var a=0;a<t.length;a++)oe(e,t[a],n,r,o);return null}return n=de(n),e&&e[K]?e.L(t,n,i(r)?!!r.capture:!!r,o):re(e,t,n,!0,r,o)}function ae(e,t,n,r,o){if(Array.isArray(t))for(var a=0;a<t.length;a++)ae(e,t[a],n,r,o);else r=i(r)?!!r.capture:!!r,n=de(n),e&&e[K]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Z(a=e.g[t],n,r,o))&&(Q(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--))):e&&(e=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Z(t,n,r,o)),(n=-1<e?t[e]:null)&&ie(n))}function ie(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[K])X(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(se(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ce(t))?(X(n,e),0==n.h&&(n.src=null,t[ee]=null)):Q(e)}}}function se(e){return e in te?te[e]:te[e]="on"+e}function le(e,t){if(e.da)e=!0;else{t=new H(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ie(e),e=n.call(r,t)}return e}function ce(e){return(e=e[ee])instanceof J?e:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(e){return"function"==typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function he(){B.call(this),this.i=new J(this),this.M=this,this.F=null}function fe(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new $(t,e);else if(t instanceof $)t.target=t.target||e;else{var o=t;O(t=new $(r,e),o)}if(o=!0,n)for(var a=n.length-1;0<=a;a--){var i=t.g=n[a];o=pe(i,r,!0,t)&&o}if(o=pe(i=t.g=e,r,!0,t)&&o,o=pe(i,r,!1,t)&&o,n)for(a=0;a<n.length;a++)o=pe(i=t.g=n[a],r,!1,t)&&o}function pe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,a=0;a<t.length;++a){var i=t[a];if(i&&!i.da&&i.capture==n){var s=i.listener,l=i.ha||i.src;i.fa&&X(e.i,i),o=!1!==s.call(l,r)&&o}}return o&&!r.defaultPrevented}function me(e,t,n){if("function"==typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function ge(e){e.g=me((()=>{e.g=null,e.i&&(e.i=!1,ge(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}x(he,B),he.prototype[K]=!0,he.prototype.removeEventListener=function(e,t,n,r){ae(this,e,t,n,r)},he.prototype.N=function(){if(he.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Q(n[r]);delete t.g[e],t.h--}}this.F=null},he.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},he.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class be extends B{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ye(e){B.call(this),this.h=e,this.g={}}x(ye,B);var ve=[];function we(e){N(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ie(e)}),e),e.g={}}ye.prototype.N=function(){ye.aa.N.call(this),we(this)},ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=o.JSON.stringify,ke=o.JSON.parse,Ee=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function Se(){}function Te(e){return e.h||(e.h=e.i())}function Ce(){}Se.prototype.h=null;var _e={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ne(){$.call(this,"d")}function Ae(){$.call(this,"c")}x(Ne,$),x(Ae,$);var Ie={},Oe=null;function Pe(){return Oe=Oe||new he}function De(e){$.call(this,Ie.La,e)}function Me(e){const t=Pe();fe(t,new De(t))}function je(e,t){$.call(this,Ie.STAT_EVENT,e),this.stat=t}function Re(e){const t=Pe();fe(t,new je(t,e))}function Le(e,t){$.call(this,Ie.Ma,e),this.size=t}function ze(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){e()}),t)}function Fe(){this.g=!0}function Ue(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var i=1;i<o.length;i++)o[i]=""}}}return xe(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Ie.La="serverreachability",x(De,$),Ie.STAT_EVENT="statevent",x(je,$),Ie.Ma="timingevent",x(Le,$),Fe.prototype.xa=function(){this.g=!1},Fe.prototype.info=function(){};var Ve,Be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function qe(){}function He(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ye(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ge}function Ge(){this.i=null,this.g="",this.h=!1}x(qe,Se),qe.prototype.g=function(){return new XMLHttpRequest},qe.prototype.i=function(){return{}},Ve=new qe;var Ke={},Ye={};function We(e,t,n){e.L=1,e.v=xt(gt(t)),e.m=n,e.P=!0,Qe(e,null)}function Qe(e,t){e.F=Date.now(),Ze(e),e.A=gt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),jt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Ge,e.g=En(e.j,n?t:null,!e.m),0<e.O&&(e.M=new be(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var o="readystatechange";Array.isArray(o)||(o&&(ve[0]=o.toString()),o=ve);for(var a=0;a<o.length;a++){var i=ne(n,o[a],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}t=e.H?A(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Me(),function(e,t,n,r,o,a){e.info((function(){if(e.g)if(a)for(var i="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");i=2<=d.length&&"type"==d[1]?i+(u+"=")+c+"&":i+(u+"=redacted&")}}else i=null;else i=a;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+i}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Je(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function Xe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ye:(n=Number(t.substring(n,r)),isNaN(n)?Ke:(r+=1)+n>t.length?Ye:(t=t.slice(r,r+n),e.C=r+n,t))}function Ze(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ze(c(e.ba,e),t)}function tt(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function nt(e){0==e.j.G||e.J||yn(e.j,e)}function rt(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,we(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function ot(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ct(n.h,e)))if(!e.K&&ct(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;bn(n),sn(n)}pn(n),Re(18)}}else n.za=o[1],0<n.za-n.T&&37500>o[2]&&n.F&&0==n.v&&!n.C&&(n.C=ze(c(n.Za,n),6e3));if(1>=lt(n.h)&&n.ca){try{n.ca()}catch(e){}n.ca=void 0}}else wn(n,11)}else if((e.K||n.g==e)&&bn(n),!S(t))for(o=n.Da.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const o=c[4];null!=o&&(n.Aa=o,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(ut(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,wt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var i=e;if((r=n).qa=kn(r,r.J?r.ia:null,r.W),i.K){dt(r.h,i);var s=i,l=r.L;l&&(s.I=l),s.B&&(tt(s),Ze(s)),r.g=i}else fn(r);0<n.i.length&&cn(n)}else"stop"!=c[0]&&"close"!=c[0]||wn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wn(n,7):an(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Me()}catch(e){}}He.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==tn(e)?t.j():this.Y(e)},He.prototype.Y=function(e){try{if(e==this.g)e:{const h=tn(this.g);var t=this.g.Ba();if(this.g.Z(),!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=h||7==t||Me(),tt(this);var n=this.g.Z();this.X=n;t:if(Je(this)){var r=nn(this.g);e="";var a=r.length,i=4==tn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){rt(this),nt(this);var s="";break t}this.h.i=new o.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(i&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,o,a,i){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+a+" "+i}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Re(12),rt(this),nt(this);break e}Ue(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ot(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Xe(this,s),e==Ye){4==h&&(this.s=4,Re(14),n=!1),Ue(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ke){this.s=4,Re(15),Ue(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ue(this.i,this.l,e,null),ot(this,e)}if(Je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Re(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),mn(d),d.M=!0,Re(11))}}else Ue(this.i,this.l,s,"[Invalid Chunked Response]"),rt(this),nt(this)}else Ue(this.i,this.l,s,null),ot(this,s);4==h&&rt(this),this.o&&!this.J&&(4==h?yn(this.j,this):(this.o=!1,Ze(this)))}else(function(e){const t={};e=(e.g&&2<=tn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(S(e[r]))continue;var n=P(e[r]);const o=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const a=t[o]||[];t[o]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Re(12)):(this.s=0,Re(13)),rt(this),nt(this)}}}catch(e){}},He.prototype.cancel=function(){this.J=!0,rt(this)},He.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Me(),Re(17)),rt(this),this.s=2,nt(this)):et(this,this.S-e)};var at=class{constructor(e,t){this.g=e,this.map=t}};function it(e){this.l=e||10,e=o.PerformanceNavigationTiming?0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function st(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lt(e){return e.h?1:e.g?e.g.size:0}function ct(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ut(e,t){e.g?e.g.add(t):e.h=t}function dt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ht(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return k(e.i)}function ft(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(a(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),o=r.length,i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}it.prototype.cancel=function(){if(this.i=ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof mt){this.h=e.h,bt(this,e.j),this.o=e.o,this.g=e.g,yt(this,e.s),this.l=e.l;var t=e.i,n=new Ot;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),vt(this,n),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,bt(this,t[1]||"",!0),this.o=kt(t[2]||""),this.g=kt(t[3]||"",!0),yt(this,t[4]),this.l=kt(t[5]||"",!0),vt(this,t[6]||"",!0),this.m=kt(t[7]||"")):(this.h=!1,this.i=new Ot(null,this.h))}function gt(e){return new mt(e)}function bt(e,t,n){e.j=n?kt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function vt(e,t,n){t instanceof Ot?(e.i=t,function(e,t){t&&!e.j&&(Pt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Dt(this,t),jt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Et(t,At)),e.i=new Ot(t,e.h))}function wt(e,t,n){e.i.set(t,n)}function xt(e){return wt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Et(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,St),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function St(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Et(t,Ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(Et(t,Ct,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Et(n,"/"==n.charAt(0)?Nt:_t,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",Et(n,It)),e.join("")};var Tt,Ct=/[#\/\?@]/g,_t=/[#\?:]/g,Nt=/[#\?]/g,At=/[#\?@]/g,It=/#/g;function Ot(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var a=e[n].substring(0,r);o=e[n].substring(r+1)}else a=e[n];t(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Dt(e,t){Pt(e),t=Rt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Mt(e,t){return Pt(e),t=Rt(e,t),e.g.has(t)}function jt(e,t,n){Dt(e,t),0<n.length&&(e.i=null,e.g.set(Rt(e,t),k(n)),e.h+=n.length)}function Rt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Lt(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(e){}}function zt(){this.g=new Ee}function Ft(e,t,n){const r=n||"";try{ft(e,(function(e,n){let o=e;i(e)&&(o=xe(e)),t.push(r+n+"="+encodeURIComponent(o))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Ut(e){this.l=e.Ub||null,this.j=e.eb||!1}function Vt(e,t){he.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Bt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function $t(e){e.readyState=4,e.l=null,e.j=null,e.v=null,qt(e)}function qt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ht(e){let t="";return N(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Gt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ht(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):wt(e,t,n))}function Kt(e){he.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Ot.prototype).add=function(e,t){Pt(this),this.i=null,e=Rt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Pt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Pt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const o=e[r];for(let e=0;e<o.length;e++)n.push(t[r])}return n},e.V=function(e){Pt(this);let t=[];if("string"==typeof e)Mt(this,e)&&(t=t.concat(this.g.get(Rt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Pt(this),this.i=null,Mt(this,e=Rt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),i=this.V(r);for(r=0;r<i.length;r++){var o=a;""!==i[r]&&(o+="="+encodeURIComponent(String(i[r]))),e.push(o)}}return this.i=e.join("&")},x(Ut,Se),Ut.prototype.g=function(){return new Vt(this.l,this.j)},Ut.prototype.i=(Tt={},function(){return Tt}),x(Vt,he),(e=Vt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,qt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$t(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qt(this)),this.g&&(this.readyState=3,qt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?$t(this):qt(this),3==this.readyState&&Bt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,$t(this))},e.Qa=function(e){this.g&&(this.response=e,$t(this))},e.ga=function(){this.g&&$t(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),x(Kt,he);var Yt=/^https?$/i,Wt=["POST","PUT"];function Qt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Jt(e),Zt(e)}function Jt(e){e.A||(e.A=!0,fe(e,"complete"),fe(e,"error"))}function Xt(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=tn(e)||2!=e.Z()))if(e.u&&4==tn(e))me(e.Ea,0,e);else if(fe(e,"readystatechange"),4==tn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var i=String(e.D).match(pt)[1]||null;!i&&o.self&&o.self.location&&(i=o.self.location.protocol.slice(0,-1)),a=!Yt.test(i?i.toLowerCase():"")}n=a}if(n)fe(e,"complete"),fe(e,"success");else{e.m=6;try{var s=2<tn(e)?e.g.statusText:""}catch(e){s=""}e.l=s+" ["+e.Z()+"]",Jt(e)}}finally{Zt(e)}}}function Zt(e,t){if(e.g){en(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||fe(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function en(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function tn(e){return e.g?e.g.readyState:0}function nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function on(e){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,e),this.cb=rn("retryDelaySeedMs",1e4,e),this.Wa=rn("forwardChannelMaxRetries",2,e),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new it(e&&e.concurrentRequestLimit),this.Da=new zt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function an(e){if(ln(e),3==e.G){var t=e.U++,n=gt(e.I);if(wt(n,"SID",e.K),wt(n,"RID",t),wt(n,"TYPE","terminate"),dn(e,n),(t=new He(e,e.j,t)).L=2,t.v=xt(gt(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=En(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ze(t)}xn(e)}function sn(e){e.g&&(mn(e),e.g.cancel(),e.g=null)}function ln(e){sn(e),e.u&&(o.clearTimeout(e.u),e.u=null),bn(e),e.h.cancel(),e.s&&("number"==typeof e.s&&o.clearTimeout(e.s),e.s=null)}function cn(e){if(!st(e.h)&&!e.s){e.s=!0;var t=e.Ga;L||U(),z||(L(),z=!0),F.add(t,e),e.B=0}}function un(e,t){var n;n=t?t.l:e.U++;const r=gt(e.I);wt(r,"SID",e.K),wt(r,"RID",n),wt(r,"AID",e.T),dn(e,r),e.m&&e.o&&Gt(r,e.m,e.o),n=new He(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ut(e.h,n),We(n,r,t)}function dn(e,t){e.H&&N(e.H,(function(e,n){wt(t,n,e)})),e.l&&ft({},(function(e,n){wt(t,n,e)}))}function hn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let i=0;i<n;i++){let n=o[i].g;const s=o[i].map;if(n-=t,0>n)t=Math.max(0,o[i].g-100),a=!1;else try{Ft(s,e,"req"+n+"_")}catch(e){r&&r(s)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function fn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;L||U(),z||(L(),z=!0),F.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v||(e.Y++,e.u=ze(c(e.Fa,e),vn(e,e.v)),e.v++,0))}function mn(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function gn(e){e.g=new He(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=gt(e.qa);wt(t,"RID","rpc"),wt(t,"SID",e.K),wt(t,"AID",e.T),wt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&wt(t,"TO",e.ja),wt(t,"TYPE","xmlhttp"),dn(e,t),e.m&&e.o&&Gt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=xt(gt(t)),n.m=null,n.P=!0,Qe(n,e)}function bn(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function yn(e,t){var n=null;if(e.g==t){bn(e),mn(e),e.g=null;var r=2}else{if(!ct(e.h,t))return;n=t.D,dt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var o=e.B;fe(r=Pe(),new Le(r,n)),cn(e)}else fn(e);else if(3==(o=t.s)||0==o&&0<t.X||!(1==r&&function(e,t){return!(lt(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=ze(c(e.Ga,e,t),vn(e,e.B)),e.B++,0)))}(e,t)||2==r&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),o){case 1:wn(e,5);break;case 4:wn(e,10);break;case 3:wn(e,6);break;default:wn(e,2)}}function vn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function wn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new mt(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||bt(r,"https"),xt(r),t?function(e,t){const n=new Fe;if(o.Image){const r=new Image;r.onload=u(Lt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Lt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Lt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Lt,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Fe;const n=new AbortController,r=setTimeout((()=>{n.abort(),Lt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Lt(0,0,!0,t):Lt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Lt(0,0,!1,t)}))}(r.toString(),n)}else Re(2);e.G=0,e.l&&e.l.sa(t),xn(e),ln(e)}function xn(e){if(e.G=0,e.ka=[],e.l){const t=ht(e.h);0==t.length&&0==e.i.length||(E(e.ka,t),E(e.ka,e.i),e.h.i.length=0,k(e.i),e.i.length=0),e.l.ra()}}function kn(e,t,n){var r=n instanceof mt?gt(n):new mt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),yt(r,r.s);else{var a=o.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var i=new mt(null);r&&bt(i,r),t&&(i.g=t),a&&yt(i,a),n&&(i.l=n),r=i}return n=e.D,t=e.ya,n&&t&&wt(r,n,t),wt(r,"VER",e.la),dn(e,r),r}function En(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Kt(new Ut({eb:n})):new Kt(e.pa)).Ha(e.J),t}function Sn(){}function Tn(){}function Cn(e,t){he.call(this),this.g=new on(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!S(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new An(this)}function _n(e){Ne.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Nn(){Ae.call(this),this.status=1}function An(e){this.g=e}(e=Kt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ve.g(),this.v=this.o?Te(this.o):Te(Ve),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){return void Qt(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),a=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Wt,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{en(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){Qt(this,e)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,fe(this,"complete"),fe(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Xt(this):this.bb())},e.bb=function(){Xt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ke(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=on.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Re(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=kn(this,null,this.W),cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const o=new He(this,this.j,e);let a=this.o;if(this.S&&(a?(a=A(a),O(a,this.S)):a=this.S),null!==this.m||this.O||(o.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hn(this,o,t),wt(n=gt(this.I),"RID",e),wt(n,"CVER",22),this.D&&wt(n,"X-HTTP-Session-Id",this.D),dn(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Ht(a)))+"&"+t:this.m&&Gt(n,this.m,a)),ut(this.h,o),this.Ua&&wt(n,"TYPE","init"),this.P?(wt(n,"$req",t),wt(n,"SID","null"),o.T=!0,We(o,n,null)):We(o,n,t),this.G=2}}else 3==this.G&&(e?un(this,e):0==this.i.length||st(this.h)||un(this))},e.Fa=function(){if(this.u=null,gn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=ze(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Re(10),sn(this),gn(this))},e.Za=function(){null!=this.C&&(this.C=null,sn(this),pn(this),Re(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Sn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Tn.prototype.g=function(e,t){return new Cn(e,t)},x(Cn,he),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){an(this.g)},Cn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=xe(e),e=n);t.i.push(new at(t.Ya++,e)),3==t.G&&cn(t)},Cn.prototype.N=function(){this.g.l=null,delete this.j,an(this.g),delete this.g,Cn.aa.N.call(this)},x(_n,Ne),x(Nn,Ae),x(An,Sn),An.prototype.ua=function(){fe(this.g,"a")},An.prototype.ta=function(e){fe(this.g,new _n(e))},An.prototype.sa=function(e){fe(this.g,new Nn)},An.prototype.ra=function(){fe(this.g,"b")},Tn.prototype.createWebChannel=Tn.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,y=w.createWebChannelTransport=function(){return new Tn},b=w.getStatEventTarget=function(){return Pe()},g=w.Event=Ie,m=w.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Be.NO_ERROR=0,Be.TIMEOUT=8,Be.HTTP_ERROR=6,p=w.ErrorCode=Be,$e.COMPLETE="complete",f=w.EventType=$e,Ce.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",he.prototype.listen=he.prototype.K,h=w.WebChannel=Ce,w.FetchXmlHttpFactory=Ut,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,d=w.XhrIo=Kt}).apply(void 0!==v?v:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const x="@firebase/firestore",k="4.7.12";class E{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}E.UNAUTHENTICATED=new E(null),E.GOOGLE_CREDENTIALS=new E("google-credentials-uid"),E.FIRST_PARTY=new E("first-party-uid"),E.MOCK_USER=new E("mock-user");let S="11.7.0";const T=new s.Vy("@firebase/firestore");function C(){return T.logLevel}function _(e,...t){if(T.logLevel<=s.$b.DEBUG){const n=t.map(I);T.debug(`Firestore (${S}): ${e}`,...n)}}function N(e,...t){if(T.logLevel<=s.$b.ERROR){const n=t.map(I);T.error(`Firestore (${S}): ${e}`,...n)}}function A(e,...t){if(T.logLevel<=s.$b.WARN){const n=t.map(I);T.warn(`Firestore (${S}): ${e}`,...n)}}function I(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function O(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,P(e,r,n)}function P(e,t,n){let r=`FIRESTORE (${S}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw N(r),new Error(r)}function D(e,t,n,r){let o="Unexpected state";"string"==typeof n?o=n:r=n,e||P(t,o,r)}function M(e,t){return e}const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class R extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class L{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class z{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(E.UNAUTHENTICATED)))}shutdown(){}}class U{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class V{constructor(e){this.t=e,this.currentUser=E.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){D(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new L;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new L,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=o;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},i=e=>{_("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>i(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(_("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new L)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(_("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(D("string"==typeof t.accessToken,31837,{l:t}),new z(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return D(null===e||"string"==typeof e,2055,{h:e}),new E(e)}}class B{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=E.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ${constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new B(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(E.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class q{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,a.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){D(void 0===this.o,3512);const n=e=>{null!=e.error&&_("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,_("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{_("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):_("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new q(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(D("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new q(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function G(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}function K(){return new TextEncoder}class Y{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=G(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function W(e,t){return e<t?-1:e>t?1:0}function Q(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),o=t.codePointAt(n);if(r!==o){if(r<128&&o<128)return W(r,o);{const a=K(),i=X(a.encode(J(e,n)),a.encode(J(t,n)));return 0!==i?i:W(r,o)}}n+=r>65535?2:1}return W(e.length,t.length)}function J(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function X(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return W(e[n],t[n]);return W(e.length,t.length)}function Z(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const ee=-62135596800,te=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*te);return new ne(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new R(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new R(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ee)throw new R(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/te}_compareTo(e){return this.seconds===e.seconds?W(this.nanoseconds,e.nanoseconds):W(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ee;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new ne(0,0))}static max(){return new re(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const oe="__name__";class ae{constructor(e,t,n){void 0===t?t=0:t>e.length&&O(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&O(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ae.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ae?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ae.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return W(e.length,t.length)}static compareSegments(e,t){const n=ae.isNumericId(e),r=ae.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ae.extractNumericId(e).compare(ae.extractNumericId(t)):Q(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class ie extends ae{construct(e,t,n){return new ie(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new R(j.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new ie(t)}static emptyPath(){return new ie([])}}const se=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class le extends ae{construct(e,t,n){return new le(e,t,n)}static isValidIdentifier(e){return se.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),le.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===oe}static keyField(){return new le([oe])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new R(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new R(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new R(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(o(),r++)}if(o(),a)throw new R(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new le(t)}static emptyPath(){return new le([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(ie.fromString(e))}static fromName(e){return new ce(ie.fromString(e).popFirst(5))}static empty(){return new ce(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ie.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ie.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new ie(e.slice()))}}function ue(e){return new de(e.readTime,e.key,-1)}class de{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new de(re.min(),ce.empty(),-1)}static max(){return new de(re.max(),ce.empty(),-1)}}function he(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ce.comparator(e.documentKey,t.documentKey),0!==n?n:W(e.largestBatchId,t.largestBatchId))}class fe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function pe(e){if(e.code!==j.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;_("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&O(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(e){return me.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):me.reject(t)}static resolve(e){return new me(((t,n)=>{t(e)}))}static reject(e){return new me(((t,n)=>{n(e)}))}static waitFor(e){return new me(((t,n)=>{let r=0,o=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++o,a&&o===r&&t()}),(e=>n(e)))})),a=!0,o===r&&t()}))}static or(e){let t=me.resolve(!1);for(const n of e)t=t.next((e=>e?me.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new me(((n,r)=>{const o=e.length,a=new Array(o);let i=0;for(let s=0;s<o;s++){const l=s;t(e[l]).next((e=>{a[l]=e,++i,i===o&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new me(((n,r)=>{const o=()=>{!0===e()?t().next((()=>{o()}),r):n()};o()}))}}function ge(e){return"IndexedDbTransactionError"===e.name}class be{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}be.le=-1;function ye(e){return null==e}function ve(e){return 0===e&&1/e==-1/0}function we(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function xe(e){return e+""}const ke="owner",Ee="mutationQueues",Se="mutations",Te="documentMutations",Ce="remoteDocumentGlobal",_e="targets",Ne="targetDocuments",Ae="targetGlobal",Ie="collectionParents",Oe="clientMetadata",Pe="bundles",De="namedQueries";function Me(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function je(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Re(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Le{constructor(e,t){this.comparator=e,this.root=t||Fe.EMPTY}insert(e,t){return new Le(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ze(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ze(this.root,e,this.comparator,!1)}getReverseIterator(){return new ze(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ze(this.root,e,this.comparator,!0)}}class ze{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fe{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:Fe.RED,this.left=null!=r?r:Fe.EMPTY,this.right=null!=o?o:Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new Fe(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Fe.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw O(43730,{key:this.key,value:this.value});if(this.right.isRed())throw O(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw O(27949);return e+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1,Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw O(57766)}get value(){throw O(16141)}get color(){throw O(16727)}get left(){throw O(29726)}get right(){throw O(36894)}copy(e,t,n,r,o){return this}insert(e,t,n){return new Fe(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ve(this.data.getIterator())}getIteratorFrom(e){return new Ve(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ue))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ue(this.comparator);return t.data=e,t}}class Ve{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Be{constructor(e){this.fields=e,e.sort(le.comparator)}static empty(){return new Be([])}unionWith(e){let t=new Ue(le.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new Be(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Z(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class $e extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $e("Invalid base64 string: "+e):e}}(e);return new qe(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new qe(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return W(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const He=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ge(e){if(D(!!e,39018),"string"==typeof e){let t=0;const n=He.exec(e);if(D(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ke(e.seconds),nanos:Ke(e.nanos)}}function Ke(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ye(e){return"string"==typeof e?qe.fromBase64String(e):qe.fromUint8Array(e)}const We="server_timestamp",Qe="__type__",Je="__previous_value__",Xe="__local_write_time__";function Ze(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Qe])||void 0===n?void 0:n.stringValue)===We}function et(e){const t=e.mapValue.fields[Je];return Ze(t)?et(t):t}function tt(e){const t=Ge(e.mapValue.fields[Xe].timestampValue);return new ne(t.seconds,t.nanos)}class nt{constructor(e,t,n,r,o,a,i,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=i,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const rt="(default)";class ot{constructor(e,t){this.projectId=e,this.database=t||rt}static empty(){return new ot("","")}get isDefaultDatabase(){return this.database===rt}isEqual(e){return e instanceof ot&&e.projectId===this.projectId&&e.database===this.database}}const at="__type__",it="__max__",st={fields:{__type__:{stringValue:it}}},lt="__vector__",ct="value";function ut(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ze(e)?4:_t(e)?9007199254740991:Tt(e)?10:11:O(28295,{value:e})}function dt(e,t){if(e===t)return!0;const n=ut(e);if(n!==ut(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return tt(e).isEqual(tt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ge(e.timestampValue),r=Ge(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ye(e.bytesValue).isEqual(Ye(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ke(e.geoPointValue.latitude)===Ke(t.geoPointValue.latitude)&&Ke(e.geoPointValue.longitude)===Ke(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ke(e.integerValue)===Ke(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ke(e.doubleValue),r=Ke(t.doubleValue);return n===r?ve(n)===ve(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Z(e.arrayValue.values||[],t.arrayValue.values||[],dt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Me(n)!==Me(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!dt(n[e],r[e])))return!1;return!0}(e,t);default:return O(52216,{left:e})}}function ht(e,t){return void 0!==(e.values||[]).find((e=>dt(e,t)))}function ft(e,t){if(e===t)return 0;const n=ut(e),r=ut(t);if(n!==r)return W(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return W(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ke(e.integerValue||e.doubleValue),r=Ke(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return pt(e.timestampValue,t.timestampValue);case 4:return pt(tt(e),tt(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ye(e),r=Ye(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=W(n[e],r[e]);if(0!==t)return t}return W(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=W(Ke(e.latitude),Ke(t.latitude));return 0!==n?n:W(Ke(e.longitude),Ke(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return mt(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,o,a;const i=e.fields||{},s=t.fields||{},l=null===(n=i[ct])||void 0===n?void 0:n.arrayValue,c=null===(r=s[ct])||void 0===r?void 0:r.arrayValue,u=W((null===(o=null==l?void 0:l.values)||void 0===o?void 0:o.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:mt(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===st&&t===st)return 0;if(e===st)return 1;if(t===st)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},a=Object.keys(o);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){const t=Q(r[e],a[e]);if(0!==t)return t;const i=ft(n[r[e]],o[a[e]]);if(0!==i)return i}return W(r.length,a.length)}(e.mapValue,t.mapValue);default:throw O(23264,{Pe:n})}}function pt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return W(e,t);const n=Ge(e),r=Ge(t),o=W(n.seconds,r.seconds);return 0!==o?o:W(n.nanos,r.nanos)}function mt(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=ft(n[e],r[e]);if(t)return t}return W(n.length,r.length)}function gt(e){return bt(e)}function bt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ge(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ye(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ce.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=bt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+=`${o}:${bt(e.fields[o])}`;return n+"}"}(e.mapValue):O(61005,{value:e})}function yt(e){switch(ut(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=et(e);return t?16+yt(t):16;case 5:return 2*e.stringValue.length;case 6:return Ye(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+yt(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return je(e.fields,((e,n)=>{t+=e.length+yt(n)})),t}(e.mapValue);default:throw O(13486,{value:e})}}function vt(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function wt(e){return!!e&&"integerValue"in e}function xt(e){return!!e&&"arrayValue"in e}function kt(e){return!!e&&"nullValue"in e}function Et(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function St(e){return!!e&&"mapValue"in e}function Tt(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[at])||void 0===n?void 0:n.stringValue)===lt}function Ct(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return je(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ct(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ct(e.arrayValue.values[n]);return t}return Object.assign({},e)}function _t(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===it}class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!St(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ct(t)}setAll(e){let t=le.emptyPath(),n={},r=[];e.forEach(((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=Ct(e):r.push(o.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());St(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return dt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];St(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){je(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Nt(Ct(this.value))}}function At(e){const t=[];return je(e.fields,((e,n)=>{const r=new le([e]);if(St(n)){const e=At(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Be(t)}class It{constructor(e,t,n,r,o,a,i){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=a,this.documentState=i}static newInvalidDocument(e){return new It(e,0,re.min(),re.min(),re.min(),Nt.empty(),0)}static newFoundDocument(e,t,n,r){return new It(e,1,t,re.min(),n,r,0)}static newNoDocument(e,t){return new It(e,2,t,re.min(),re.min(),Nt.empty(),0)}static newUnknownDocument(e,t){return new It(e,3,t,re.min(),re.min(),Nt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ot{constructor(e,t){this.position=e,this.inclusive=t}}function Pt(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const a=t[o],i=e.position[o];if(r=a.field.isKeyField()?ce.comparator(ce.fromName(i.referenceValue),n.key):ft(i,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Dt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!dt(e.position[n],t.position[n]))return!1;return!0}class Mt{constructor(e,t="asc"){this.field=e,this.dir=t}}function jt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Rt{}class Lt extends Rt{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new qt(e,t,n):"array-contains"===t?new Yt(e,n):"in"===t?new Wt(e,n):"not-in"===t?new Qt(e,n):"array-contains-any"===t?new Jt(e,n):new Lt(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ht(e,n):new Gt(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(ft(t,this.value)):null!==t&&ut(this.value)===ut(t)&&this.matchesComparison(ft(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zt extends Rt{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new zt(e,t)}matches(e){return Ft(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ft(e){return"and"===e.op}function Ut(e){return function(e){for(const t of e.filters)if(t instanceof zt)return!1;return!0}(e)&&Ft(e)}function Vt(e){if(e instanceof Lt)return e.field.canonicalString()+e.op.toString()+gt(e.value);if(Ut(e))return e.filters.map((e=>Vt(e))).join(",");{const t=e.filters.map((e=>Vt(e))).join(",");return`${e.op}(${t})`}}function Bt(e,t){return e instanceof Lt?function(e,t){return t instanceof Lt&&e.op===t.op&&e.field.isEqual(t.field)&&dt(e.value,t.value)}(e,t):e instanceof zt?function(e,t){return t instanceof zt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Bt(n,t.filters[r])),!0)}(e,t):void O(19439)}function $t(e){return e instanceof Lt?function(e){return`${e.field.canonicalString()} ${e.op} ${gt(e.value)}`}(e):e instanceof zt?function(e){return e.op.toString()+" {"+e.getFilters().map($t).join(" ,")+"}"}(e):"Filter"}class qt extends Lt{constructor(e,t,n){super(e,t,n),this.key=ce.fromName(n.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ht extends Lt{constructor(e,t){super(e,"in",t),this.keys=Kt(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Gt extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=Kt(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Kt(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ce.fromName(e.referenceValue)))}class Yt extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xt(t)&&ht(t.arrayValue,this.value)}}class Wt extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ht(this.value.arrayValue,t)}}class Qt extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ht(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!ht(this.value.arrayValue,t)}}class Jt extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xt(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ht(this.value.arrayValue,e)))}}class Xt{constructor(e,t=null,n=[],r=[],o=null,a=null,i=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=a,this.endAt=i,this.Ie=null}}function Zt(e,t=null,n=[],r=[],o=null,a=null,i=null){return new Xt(e,t,n,r,o,a,i)}function en(e){const t=M(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Vt(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ye(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>gt(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>gt(e))).join(",")),t.Ie=e}return t.Ie}function tn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!jt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Bt(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Dt(e.startAt,t.startAt)&&Dt(e.endAt,t.endAt)}function nn(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class rn{constructor(e,t=null,n=[],r=[],o=null,a="F",i=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=a,this.startAt=i,this.endAt=s,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function on(e){return new rn(e)}function an(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function sn(e){return null!==e.collectionGroup}function ln(e){const t=M(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const n of t.explicitOrderBy)t.Ee.push(n),e.add(n.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ue(le.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Mt(r,n))})),e.has(le.keyField().canonicalString())||t.Ee.push(new Mt(le.keyField(),n))}return t.Ee}function cn(e){const t=M(e);return t.de||(t.de=function(e,t){if("F"===e.limitType)return Zt(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Mt(e.field,t)}));const n=e.endAt?new Ot(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ot(e.startAt.position,e.startAt.inclusive):null;return Zt(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,ln(e))),t.de}function un(e,t){const n=e.filters.concat([t]);return new rn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function dn(e,t,n){return new rn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hn(e,t){return tn(cn(e),cn(t))&&e.limitType===t.limitType}function fn(e){return`${en(cn(e))}|lt:${e.limitType}`}function pn(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>$t(e))).join(", ")}]`),ye(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>gt(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>gt(e))).join(",")),`Target(${t})`}(cn(e))}; limitType=${e.limitType})`}function mn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ce.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ln(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Pt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ln(e),t)||e.endAt&&!function(e,t,n){const r=Pt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ln(e),t))}(e,t)}function gn(e){return(t,n)=>{let r=!1;for(const o of ln(e)){const e=bn(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function bn(e,t,n){const r=e.field.isKeyField()?ce.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?ft(r,o):O(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return O(19790,{direction:e.dir})}}class yn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){je(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return Re(this.inner)}size(){return this.innerSize}}const vn=new Le(ce.comparator);function wn(){return vn}const xn=new Le(ce.comparator);function kn(...e){let t=xn;for(const n of e)t=t.insert(n.key,n);return t}function En(e){let t=xn;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Sn(){return Cn()}function Tn(){return Cn()}function Cn(){return new yn((e=>e.toString()),((e,t)=>e.isEqual(t)))}const _n=new Le(ce.comparator),Nn=new Ue(ce.comparator);function An(...e){let t=Nn;for(const n of e)t=t.add(n);return t}const In=new Ue(W);function On(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ve(t)?"-0":t}}function Pn(e){return{integerValue:""+e}}function Dn(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!ve(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Pn(t):On(e,t)}class Mn{constructor(){this._=void 0}}function jn(e,t,n){return e instanceof zn?function(e,t){const n={fields:{[Qe]:{stringValue:We},[Xe]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ze(t)&&(t=et(t)),t&&(n.fields[Je]=t),{mapValue:n}}(n,t):e instanceof Fn?Un(e,t):e instanceof Vn?Bn(e,t):function(e,t){const n=Ln(e,t),r=qn(n)+qn(e.Re);return wt(n)&&wt(e.Re)?Pn(r):On(e.serializer,r)}(e,t)}function Rn(e,t,n){return e instanceof Fn?Un(e,t):e instanceof Vn?Bn(e,t):n}function Ln(e,t){return e instanceof $n?function(e){return wt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class zn extends Mn{}class Fn extends Mn{constructor(e){super(),this.elements=e}}function Un(e,t){const n=Hn(t);for(const t of e.elements)n.some((e=>dt(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Vn extends Mn{constructor(e){super(),this.elements=e}}function Bn(e,t){let n=Hn(t);for(const t of e.elements)n=n.filter((e=>!dt(e,t)));return{arrayValue:{values:n}}}class $n extends Mn{constructor(e,t){super(),this.serializer=e,this.Re=t}}function qn(e){return Ke(e.integerValue||e.doubleValue)}function Hn(e){return xt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Gn{constructor(e,t){this.version=e,this.transformResults=t}}class Kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yn(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Wn{}function Qn(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ir(e.key,Kn.none()):new tr(e.key,e.data,Kn.none());{const n=e.data,r=Nt.empty();let o=new Ue(le.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new nr(e.key,r,new Be(o.toArray()),Kn.none())}}function Jn(e,t,n){e instanceof tr?function(e,t,n){const r=e.value.clone(),o=or(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof nr?function(e,t,n){if(!Yn(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=or(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(rr(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Xn(e,t,n,r){return e instanceof tr?function(e,t,n,r){if(!Yn(e.precondition,t))return n;const o=e.value.clone(),a=ar(e.fieldTransforms,r,t);return o.setAll(a),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof nr?function(e,t,n,r){if(!Yn(e.precondition,t))return n;const o=ar(e.fieldTransforms,r,t),a=t.data;return a.setAll(rr(e)),a.setAll(o),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Yn(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Zn(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),o=Ln(r.transform,e||null);null!=o&&(null===n&&(n=Nt.empty()),n.set(r.field,o))}return n||null}function er(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Z(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Fn&&t instanceof Fn||e instanceof Vn&&t instanceof Vn?Z(e.elements,t.elements,dt):e instanceof $n&&t instanceof $n?dt(e.Re,t.Re):e instanceof zn&&t instanceof zn}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class tr extends Wn{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class nr extends Wn{constructor(e,t,n,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rr(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function or(e,t,n){const r=new Map;D(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let o=0;o<n.length;o++){const a=e[o],i=a.transform,s=t.data.field(a.field);r.set(a.field,Rn(i,s,n[o]))}return r}function ar(e,t,n){const r=new Map;for(const o of e){const e=o.transform,a=n.data.field(o.field);r.set(o.field,jn(e,a,t))}return r}class ir extends Wn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sr extends Wn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Jn(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Xn(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Xn(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Tn();return this.mutations.forEach((r=>{const o=e.get(r.key),a=o.overlayedDocument;let i=this.applyToLocalView(a,o.mutatedFields);i=t.has(r.key)?null:i;const s=Qn(a,i);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(re.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),An())}isEqual(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations,((e,t)=>er(e,t)))&&Z(this.baseMutations,e.baseMutations,((e,t)=>er(e,t)))}}class cr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){D(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=_n;const o=e.mutations;for(let e=0;e<o.length;e++)r=r.insert(o[e].key,n[e].version);return new cr(e,t,n,r)}}class ur{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dr{constructor(e,t){this.count=e,this.unchangedNames=t}}var hr,fr;function pr(e){if(void 0===e)return N("GRPC error has no .code"),j.UNKNOWN;switch(e){case hr.OK:return j.OK;case hr.CANCELLED:return j.CANCELLED;case hr.UNKNOWN:return j.UNKNOWN;case hr.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case hr.INTERNAL:return j.INTERNAL;case hr.UNAVAILABLE:return j.UNAVAILABLE;case hr.UNAUTHENTICATED:return j.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case hr.NOT_FOUND:return j.NOT_FOUND;case hr.ALREADY_EXISTS:return j.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return j.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case hr.ABORTED:return j.ABORTED;case hr.OUT_OF_RANGE:return j.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return j.UNIMPLEMENTED;case hr.DATA_LOSS:return j.DATA_LOSS;default:return O(39323,{code:e})}}(fr=hr||(hr={}))[fr.OK=0]="OK",fr[fr.CANCELLED=1]="CANCELLED",fr[fr.UNKNOWN=2]="UNKNOWN",fr[fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fr[fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fr[fr.NOT_FOUND=5]="NOT_FOUND",fr[fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",fr[fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",fr[fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",fr[fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fr[fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fr[fr.ABORTED=10]="ABORTED",fr[fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",fr[fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",fr[fr.INTERNAL=13]="INTERNAL",fr[fr.UNAVAILABLE=14]="UNAVAILABLE",fr[fr.DATA_LOSS=15]="DATA_LOSS";const mr=new r([4294967295,4294967295],0);function gr(e){const t=K().encode(e),n=new o;return n.update(t),new Uint8Array(n.digest())}function br(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),o=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new r([n,o],0),new r([a,i],0)]}class yr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new vr(`Invalid padding: ${t}`);if(n<0)throw new vr(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new vr(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new vr(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=r.fromNumber(this.pe)}we(e,t,n){let o=e.add(t.multiply(r.fromNumber(n)));return 1===o.compare(mr)&&(o=new r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=gr(e),[n,r]=br(t);for(let e=0;e<this.hashCount;e++){const t=this.we(n,r,e);if(!this.be(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new yr(o,r,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.pe)return;const t=gr(e),[n,r]=br(t);for(let e=0;e<this.hashCount;e++){const t=this.we(n,r,e);this.Se(t)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class vr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wr{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,xr.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new wr(re.min(),r,new Le(W),wn(),An())}}class xr{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new xr(n,t,An(),An(),An())}}class kr{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class Er{constructor(e,t){this.targetId=e,this.Ce=t}}class Sr{constructor(e,t,n=qe.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Tr{constructor(){this.Fe=0,this.Me=Nr(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=An(),t=An(),n=An();return this.Me.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:O(38017,{changeType:o})}})),new xr(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=Nr()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,D(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Cr{constructor(e){this.ze=e,this.je=new Map,this.He=wn(),this.Je=_r(),this.Ye=_r(),this.Ze=new Le(W)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:O(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const o=r.target;if(nn(o))if(0===n){const e=new ce(o.path);this.tt(t,e,It.newNoDocument(e,re.min()))}else D(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),o=n?this.lt(n,e,r):1;if(0!==o){this.st(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let a,i;try{a=Ye(n).toUint8Array()}catch(e){if(e instanceof $e)return A("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{i=new yr(a,r,o)}catch(e){return A(e instanceof vr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===i.pe?null:i}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const o=this._t(r);if(o){if(n.current&&nn(o.target)){const t=new ce(o.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,It.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=An();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new wr(e,t,this.Ze,this.He,n);return this.He=wn(),this.Je=_r(),this.Ye=_r(),this.Ze=new Le(W),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Tr,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ue(W),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ue(W),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||_("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Tr),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function _r(){return new Le(ce.comparator)}function Nr(){return new Le(ce.comparator)}const Ar={asc:"ASCENDING",desc:"DESCENDING"},Ir={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Or={and:"AND",or:"OR"};class Pr{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dr(e,t){return e.useProto3Json||ye(t)?t:{value:t}}function Mr(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jr(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Rr(e,t){return Mr(e,t.toTimestamp())}function Lr(e){return D(!!e,49232),re.fromTimestamp(function(e){const t=Ge(e);return new ne(t.seconds,t.nanos)}(e))}function zr(e,t){return Fr(e,t).canonicalString()}function Fr(e,t){const n=function(e){return new ie(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ur(e){const t=ie.fromString(e);return D(oo(t),10190,{key:t.toString()}),t}function Vr(e,t){return zr(e.databaseId,t.path)}function Br(e,t){const n=Ur(t);if(n.get(1)!==e.databaseId.projectId)throw new R(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new R(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ce(Hr(n))}function $r(e,t){return zr(e.databaseId,t)}function qr(e){return new ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Hr(e){return D(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Gr(e,t,n){return{name:Vr(e,t),fields:n.value.mapValue.fields}}function Kr(e,t){return{documents:[$r(e,t.path)]}}function Yr(e,t){const n={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$r(e,o);const a=function(e){if(0!==e.length)return no(zt.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const i=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:eo(e.field),direction:Jr(e.dir)}}(e)))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const s=Dr(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:o}}function Wr(e){let t=function(e){const t=Ur(e);return 4===t.length?ie.emptyPath():Hr(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){D(1===r,65062);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Qr(e);return t instanceof zt&&Ut(t)?t.getFilters():[t]}(n.where));let i=[];n.orderBy&&(i=function(e){return e.map((e=>function(e){return new Mt(to(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,ye(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ot(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ot(n,t)}(n.endAt)),function(e,t,n,r,o,a,i,s){return new rn(e,t,n,r,o,a,i,s)}(t,o,i,a,s,"F",l,c)}function Qr(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=to(e.unaryFilter.field);return Lt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=to(e.unaryFilter.field);return Lt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=to(e.unaryFilter.field);return Lt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=to(e.unaryFilter.field);return Lt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return O(61313);default:return O(60726)}}(e):void 0!==e.fieldFilter?function(e){return Lt.create(to(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return O(58110);default:return O(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return zt.create(e.compositeFilter.filters.map((e=>Qr(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return O(1026)}}(e.compositeFilter.op))}(e):O(30097,{filter:e})}function Jr(e){return Ar[e]}function Xr(e){return Ir[e]}function Zr(e){return Or[e]}function eo(e){return{fieldPath:e.canonicalString()}}function to(e){return le.fromServerFormat(e.fieldPath)}function no(e){return e instanceof Lt?function(e){if("=="===e.op){if(Et(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NAN"}};if(kt(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Et(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NOT_NAN"}};if(kt(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(e.field),op:Xr(e.op),value:e.value}}}(e):e instanceof zt?function(e){const t=e.getFilters().map((e=>no(e)));return 1===t.length?t[0]:{compositeFilter:{op:Zr(e.op),filters:t}}}(e):O(54877,{filter:e})}function ro(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function oo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ao{constructor(e,t,n,r,o=re.min(),a=re.min(),i=qe.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=i,this.expectedCount=s}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class io{constructor(e){this.wt=e}}function so(e){const t=Wr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?dn(t,t.limit,"L"):t}class lo{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Ke(e.integerValue));else if("doubleValue"in e){const n=Ke(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),ve(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=Ge(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Ye(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?_t(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Tt(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):O(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const e of Object.keys(n))this.Nt(e,t),this.Ct(n[e],t)}qt(e,t){var n,r;const o=e.fields||{};this.Mt(t,53);const a=ct,i=(null===(r=null===(n=o[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Ke(i)),this.Nt(a,t),this.Ct(o[a],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const e of n)this.Ct(e,t)}kt(e,t){this.Mt(t,37),ce.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}lo.Wt=new lo;class co{constructor(){this.yn=new uo}addToCollectionParentIndex(e,t){return this.yn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(de.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(de.min())}updateCollectionGroup(e,t,n){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class uo{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ue(ie.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ue(ie.comparator)).toArray()}}new Uint8Array(0);const ho={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fo=41943040;class po{static withCacheSize(e){return new po(e,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}po.DEFAULT_COLLECTION_PERCENTILE=10,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,po.DEFAULT=new po(fo,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),po.DISABLED=new po(-1,0,0);class mo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new mo(0)}static ir(){return new mo(-1)}}const go="LruGarbageCollector";function bo([e,t],[n,r]){const o=W(e,n);return 0===o?W(t,r):o}class yo{constructor(e){this.cr=e,this.buffer=new Ue(bo),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();bo(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vo{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(e){_(go,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ge(e)?_(go,"Ignoring IndexedDB error during garbage collection: ",e):await pe(e)}await this.Ir(3e5)}))}}class wo{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return me.resolve(be.le);const n=new yo(t);return this.Er.forEachTarget(e,(e=>n.Pr(e.sequenceNumber))).next((()=>this.Er.Ar(e,(e=>n.Pr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(_("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(ho)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(_("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ho):this.Rr(e,t)))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,r,o,a,i,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(_("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,i=Date.now(),this.removeTargets(e,n,t)))).next((t=>(o=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),C()<=s.$b.DEBUG&&_("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-u}ms\n\tDetermined least recently used ${r} in `+(i-a)+"ms\n"+`\tRemoved ${o} targets in `+(l-i)+"ms\n"+`\tRemoved ${e} documents in `+(c-l)+"ms\n"+`Total Duration: ${c-u}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e}))))}}class xo{constructor(){this.changes=new yn((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?me.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ko{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Eo{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Xn(n.mutation,e,Be.empty(),ne.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,An()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=An()){const r=Sn();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=kn();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Sn();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,An())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let o=wn();const a=Cn(),i=Cn();return t.forEach(((e,t)=>{const i=n.get(t.key);r.has(t.key)&&(void 0===i||i.mutation instanceof nr)?o=o.insert(t.key,t):void 0!==i?(a.set(t.key,i.mutation.getFieldMask()),Xn(i.mutation,t,i.mutation.getFieldMask(),ne.now())):a.set(t.key,Be.empty())})),this.recalculateAndSaveOverlays(e,o).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return i.set(e,new ko(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),i)))}recalculateAndSaveOverlays(e,t){const n=Cn();let r=new Le(((e,t)=>e-t)),o=An();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const o of e)o.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let i=n.get(e)||Be.empty();i=o.applyToLocalView(a,i),n.set(e,i);const s=(r.get(o.batchId)||An()).add(e);r=r.insert(o.batchId,s)}))})).next((()=>{const a=[],i=r.getReverseIterator();for(;i.hasNext();){const r=i.getNext(),s=r.key,l=r.value,c=Tn();l.forEach((e=>{if(!o.has(e)){const r=Qn(t.get(e),n.get(e));null!==r&&c.set(e,r),o=o.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return me.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((o=>{const a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):me.resolve(Sn());let i=-1,s=o;return a.next((t=>me.forEach(t,((t,n)=>(i<n.largestBatchId&&(i=n.largestBatchId),o.get(t)?me.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,o))).next((()=>this.computeViews(e,s,t,An()))).next((e=>({batchId:i,changes:En(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next((e=>{let t=kn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let a=kn();return this.indexManager.getCollectionParents(e,o).next((i=>me.forEach(i,(i=>{const s=function(e,t){return new rn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(o));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r)))).next((e=>{o.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,It.newInvalidDocument(r)))}));let n=kn();return e.forEach(((e,r)=>{const a=o.get(e);void 0!==a&&Xn(a.mutation,r,Be.empty(),ne.now()),mn(t,r)&&(n=n.insert(e,r))})),n}))}}class So{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return me.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Lr(e.createTime)}}(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(e){return{name:e.name,query:so(e.bundledQuery),readTime:Lr(e.readTime)}}(t)),me.resolve()}}class To{constructor(){this.overlays=new Le(ce.comparator),this.Or=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Sn();return me.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),me.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Or.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Or.delete(n)),me.resolve()}getOverlaysForCollection(e,t,n){const r=Sn(),o=t.length+1,a=new ce(t.child("")),i=this.overlays.getIteratorFrom(a);for(;i.hasNext();){const e=i.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return me.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new Le(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=Sn(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=Sn(),s=o.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>i.set(e,t))),!(i.size()>=r)););return me.resolve(i)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Or.get(r.largestBatchId).delete(n.key);this.Or.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ur(t,n));let o=this.Or.get(t);void 0===o&&(o=An(),this.Or.set(t,o)),this.Or.set(t,o.add(n.key))}}class Co{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}class _o{constructor(){this.Nr=new Ue(No.Br),this.Lr=new Ue(No.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new No(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Qr(new No(e,t))}$r(e,t){e.forEach((e=>this.removeReference(e,t)))}Ur(e){const t=new ce(new ie([])),n=new No(t,e),r=new No(t,e+1),o=[];return this.Lr.forEachInRange([n,r],(e=>{this.Qr(e),o.push(e.key)})),o}Kr(){this.Nr.forEach((e=>this.Qr(e)))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ce(new ie([])),n=new No(t,e),r=new No(t,e+1);let o=An();return this.Lr.forEachInRange([n,r],(e=>{o=o.add(e.key)})),o}containsKey(e){const t=new No(e,0),n=this.Nr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class No{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ce.comparator(e.key,t.key)||W(e.Gr,t.Gr)}static kr(e,t){return W(e.Gr,t.Gr)||ce.comparator(e.key,t.key)}}class Ao{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Ue(No.Br)}checkEmpty(e){return me.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new lr(o,t,n,r);this.mutationQueue.push(a);for(const t of r)this.zr=this.zr.add(new No(t.key,o)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return me.resolve(a)}lookupMutationBatch(e,t){return me.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Hr(n),o=r<0?0:r;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.mutationQueue.length?-1:this.Jn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new No(t,0),r=new No(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([n,r],(e=>{const t=this.jr(e.Gr);o.push(t)})),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ue(W);return t.forEach((e=>{const t=new No(e,0),r=new No(e,Number.POSITIVE_INFINITY);this.zr.forEachInRange([t,r],(e=>{n=n.add(e.Gr)}))})),me.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;ce.isDocumentKey(o)||(o=o.child(""));const a=new No(new ce(o),0);let i=new Ue(W);return this.zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.Gr)),!0)}),a),me.resolve(this.Jr(i))}Jr(e){const t=[];return e.forEach((e=>{const n=this.jr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){D(0===this.Yr(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.zr;return me.forEach(t.mutations,(r=>{const o=new No(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.zr=n}))}Xn(e){}containsKey(e,t){const n=new No(t,0),r=this.zr.firstAfterOrEqual(n);return me.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Io{constructor(e){this.Zr=e,this.docs=new Le(ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,a=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return me.resolve(n?n.document.mutableCopy():It.newInvalidDocument(t))}getEntries(e,t){let n=wn();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():It.newInvalidDocument(e))})),me.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=wn();const a=t.path,i=new ce(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||he(ue(i),n)<=0||(r.has(i.key)||mn(t,i))&&(o=o.insert(i.key,i.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,t,n,r){O(9500)}Xr(e,t){return me.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Oo(this)}getSize(e){return me.resolve(this.size)}}class Oo extends xo{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.vr.addEntry(e,r)):this.vr.removeEntry(n)})),me.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}class Po{constructor(e){this.persistence=e,this.ei=new yn((e=>en(e)),tn),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.ti=0,this.ni=new _o,this.targetCount=0,this.ri=mo.rr()}forEachTarget(e,t){return this.ei.forEach(((e,n)=>t(n))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),me.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new mo(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.ar(t),me.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.ei.forEach(((a,i)=>{i.sequenceNumber<=t&&null===n.get(i.targetId)&&(this.ei.delete(a),o.push(this.removeMatchingKeysForTargetId(e,i.targetId)),r++)})),me.waitFor(o).next((()=>r))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return me.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),me.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((t=>{o.push(r.markPotentiallyOrphaned(e,t))})),me.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),me.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return me.resolve(n)}containsKey(e,t){return me.resolve(this.ni.containsKey(t))}}class Do{constructor(e,t){this.ii={},this.overlays={},this.si=new be(0),this.oi=!1,this.oi=!0,this._i=new Co,this.referenceDelegate=e(this),this.ai=new Po(this),this.indexManager=new co,this.remoteDocumentCache=function(e){return new Io(e)}((e=>this.referenceDelegate.ui(e))),this.serializer=new io(t),this.ci=new So(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new To,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new Ao(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){_("MemoryPersistence","Starting transaction:",e);const r=new Mo(this.si.next());return this.referenceDelegate.li(),n(r).next((e=>this.referenceDelegate.hi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Pi(e,t){return me.or(Object.values(this.ii).map((n=>()=>n.containsKey(e,t))))}}class Mo extends fe{constructor(e){super(),this.currentSequenceNumber=e}}class jo{constructor(e){this.persistence=e,this.Ti=new _o,this.Ii=null}static Ei(e){return new jo(e)}get di(){if(this.Ii)return this.Ii;throw O(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),me.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),me.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach((e=>this.di.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,(n=>{const r=ce.fromPath(n);return this.Ai(e,r).next((e=>{e||t.removeEntry(r,re.min())}))})).next((()=>(this.Ii=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ai(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}ui(e){return 0}Ai(e,t){return me.or([()=>me.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Ro{constructor(e,t){this.persistence=e,this.Ri=new yn((e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=xe(t)),t=we(e.get(n),t);return xe(t)}(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=function(e,t){return new wo(e,t)}(this,t)}static Ei(e,t){return new Ro(e,t)}li(){}hi(e){return me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}Ar(e,t){return me.forEach(this.Ri,((n,r)=>this.gr(e,n,r).next((e=>e?me.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.Xr(e,(r=>this.gr(e,r,t).next((e=>{e||(n++,o.removeEntry(r,re.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),me.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yt(e.data.value)),t}gr(e,t,n){return me.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Ri.get(t);return me.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Lo{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=r}static Ps(e,t){let n=An(),r=An();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Lo(e,t.fromCache,n,r)}}class zo{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Fo{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=(0,l.nr)()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}((0,l.ZQ)())>0?6:4}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.Rs(e,t).next((e=>{o.result=e})).next((()=>{if(!o.result)return this.Vs(e,t,r,n).next((e=>{o.result=e}))})).next((()=>{if(o.result)return;const n=new zo;return this.fs(e,t,n).next((r=>{if(o.result=r,this.Is)return this.gs(e,t,n,r.size)}))})).next((()=>o.result))}gs(e,t,n,r){return n.documentReadCount<this.Es?(C()<=s.$b.DEBUG&&_("QueryEngine","SDK will not create cache indexes for query:",pn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),me.resolve()):(C()<=s.$b.DEBUG&&_("QueryEngine","Query:",pn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(C()<=s.$b.DEBUG&&_("QueryEngine","The SDK decides to create cache indexes for query:",pn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(t))):me.resolve())}Rs(e,t){if(an(t))return me.resolve(null);let n=cn(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=dn(t,null,"F"),n=cn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const o=An(...r);return this.As.getDocuments(e,o).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.ps(t,r);return this.ys(t,a,o,n.readTime)?this.Rs(e,dn(t,null,"F")):this.ws(e,a,t,n)}))))})))))}Vs(e,t,n,r){return an(t)||r.isEqual(re.min())?me.resolve(null):this.As.getDocuments(e,n).next((o=>{const a=this.ps(t,o);return this.ys(t,a,n,r)?me.resolve(null):(C()<=s.$b.DEBUG&&_("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),pn(t)),this.ws(e,a,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=re.fromTimestamp(1e9===r?new ne(n+1,0):new ne(n,r));return new de(o,ce.empty(),t)}(r,-1)).next((e=>e)))}))}ps(e,t){let n=new Ue(gn(e));return t.forEach(((t,r)=>{mn(e,r)&&(n=n.add(r))})),n}ys(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}fs(e,t,n){return C()<=s.$b.DEBUG&&_("QueryEngine","Using full collection scan to execute query:",pn(t)),this.As.getDocumentsMatchingQuery(e,t,de.min(),n)}ws(e,t,n,r){return this.As.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Uo="LocalStore";class Vo{constructor(e,t,n,r){this.persistence=e,this.bs=t,this.serializer=r,this.Ss=new Le(W),this.Ds=new yn((e=>en(e)),tn),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Eo(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ss)))}}async function Bo(e,t){const n=M(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((o=>(r=o,n.Fs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const o=[],a=[];let i=An();for(const e of r){o.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return n.localDocuments.getDocuments(e,i).next((e=>({Ms:e,removedBatchIds:o,addedBatchIds:a})))}))}))}function $o(e){const t=M(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ai.getLastRemoteSnapshotVersion(e)))}function qo(e,t){const n=M(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function Ho(e,t,n){const r=M(e),o=r.Ss.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,o)))}catch(e){if(!ge(e))throw e;_(Uo,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(o.target)}function Go(e,t,n){const r=M(e);let o=re.min(),a=An();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=M(e),o=r.Ds.get(n);return void 0!==o?me.resolve(r.Ss.get(o)):r.ai.getTargetData(t,n)}(r,e,cn(t)).next((t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.bs.getDocumentsMatchingQuery(e,t,n?o:re.min(),n?a:An()))).next((e=>(function(e,t,n){let r=e.vs.get(t)||re.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.vs.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Ns:a})))))}class Ko{constructor(){this.activeTargetIds=In}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yo{constructor(){this.So=new Ko,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Ko,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wo{vo(e){}shutdown(){}}const Qo="ConnectivityMonitor";class Jo{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){_(Qo,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){_(Qo,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xo=null;function Zo(){return null===Xo?Xo=268435456+Math.round(2147483648*Math.random()):Xo++,"0x"+Xo.toString(16)}const ea="RestConnection",ta={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class na{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${r}`,this.qo=this.databaseId.database===rt?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Qo(e,t,n,r,o){const a=Zo(),i=this.$o(e,t.toUriEncodedString());_(ea,`Sending RPC '${e}' ${a}:`,i,n);const s={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(s,r,o);const{host:c}=new URL(i),u=(0,l.zJ)(c);return this.Ko(e,i,s,n,u).then((t=>(_(ea,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw A(ea,`RPC '${e}' ${a} failed with error: `,t,"url: ",i,"request:",n),t}))}Wo(e,t,n,r,o,a){return this.Qo(e,t,n,r,o)}Uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+S,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}$o(e,t){const n=ta[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}class ra{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const oa="WebChannelConnection";class aa extends na{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,r,o){const a=Zo();return new Promise(((o,i)=>{const s=new d;s.setWithCredentials(!0),s.listenOnce(f.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case p.NO_ERROR:const t=s.getResponseJson();_(oa,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),o(t);break;case p.TIMEOUT:_(oa,`RPC '${e}' ${a} timed out`),i(new R(j.DEADLINE_EXCEEDED,"Request time out"));break;case p.HTTP_ERROR:const n=s.getStatus();if(_(oa,`RPC '${e}' ${a} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(t)>=0?t:j.UNKNOWN}(t.status);i(new R(e,t.message))}else i(new R(j.UNKNOWN,"Server responded with status "+s.getStatus()))}else i(new R(j.UNAVAILABLE,"Connection failed."));break;default:O(9055,{s_:e,streamId:a,o_:s.getLastErrorCode(),__:s.getLastError()})}}finally{_(oa,`RPC '${e}' ${a} completed.`)}}));const l=JSON.stringify(r);_(oa,`RPC '${e}' ${a} sending request:`,r),s.send(t,"POST",l,n,15)}))}a_(e,t,n){const r=Zo(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=y(),i=b(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Uo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=o.join("");_(oa,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=a.createWebChannel(c,s);let d=!1,f=!1;const p=new ra({Go:t=>{f?_(oa,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(_(oa,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),_(oa,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},zo:()=>u.close()}),v=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return v(u,h.EventType.OPEN,(()=>{f||(_(oa,`RPC '${e}' stream ${r} transport opened.`),p.t_())})),v(u,h.EventType.CLOSE,(()=>{f||(f=!0,_(oa,`RPC '${e}' stream ${r} transport closed`),p.r_())})),v(u,h.EventType.ERROR,(t=>{f||(f=!0,A(oa,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),p.r_(new R(j.UNAVAILABLE,"The operation could not be completed")))})),v(u,h.EventType.MESSAGE,(t=>{var n;if(!f){const o=t.data[0];D(!!o,16349);const a=o,i=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(i){_(oa,`RPC '${e}' stream ${r} received error:`,i);const t=i.status;let n=function(e){const t=hr[e];if(void 0!==t)return pr(t)}(t),o=i.message;void 0===n&&(n=j.INTERNAL,o="Unknown error status: "+t+" with message "+i.message),f=!0,p.r_(new R(n,o)),u.close()}else _(oa,`RPC '${e}' stream ${r} received:`,o),p.i_(o)}})),v(i,g.STAT_EVENT,(t=>{t.stat===m.PROXY?_(oa,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===m.NOPROXY&&_(oa,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.n_()}),0),p}}function ia(){return"undefined"!=typeof document?document:null}function sa(e){return new Pr(e,!0)}class la{constructor(e,t,n=1e3,r=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=n,this.c_=r,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),r=Math.max(0,t-n);r>0&&_("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,(()=>(this.T_=Date.now(),e()))),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const ca="PersistentStream";class ua{constructor(e,t,n,r,o,a,i,s){this.bi=e,this.R_=n,this.V_=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=i,this.listener=s,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new la(e,t)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,(()=>this.C_())))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,4!==e?this.y_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(N(t.toString()),N("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===j.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.m_===t&&this.B_(e,n)}),(t=>{e((()=>{const e=new R(j.UNKNOWN,"Fetching auth token failed: "+t.message);return this.L_(e)}))}))}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo((()=>{n((()=>this.listener.jo()))})),this.stream.Jo((()=>{n((()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,(()=>(this.b_()&&(this.state=3),Promise.resolve()))),this.listener.Jo())))})),this.stream.Zo((e=>{n((()=>this.L_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.p_?this.q_(e):this.onNext(e)))}))}S_(){this.state=5,this.y_.E_((async()=>{this.state=0,this.start()}))}L_(e){return _(ca,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget((()=>this.m_===e?t():(_(ca,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class da extends ua{constructor(e,t,n,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:O(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(D(void 0===t||"string"==typeof t,58123),qe.fromBase64String(t||"")):(D(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),qe.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,s=i&&function(e){const t=void 0===e.code?j.UNKNOWN:pr(e.code);return new R(t,e.message||"")}(i);n=new Sr(r,o,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Br(e,r.document.name),a=Lr(r.document.updateTime),i=r.document.createTime?Lr(r.document.createTime):re.min(),s=new Nt({mapValue:{fields:r.document.fields}}),l=It.newFoundDocument(o,a,i,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new kr(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Br(e,r.document),a=r.readTime?Lr(r.readTime):re.min(),i=It.newNoDocument(o,a),s=r.removedTargetIds||[];n=new kr([],s,i.key,i)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Br(e,r.document),a=r.removedTargetIds||[];n=new kr([],a,o,null)}else{if(!("filter"in t))return O(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:o}=e,a=new dr(r,o),i=e.targetId;n=new Er(i,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return re.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?re.min():t.readTime?Lr(t.readTime):re.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=qr(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=nn(r)?{documents:Kr(e,r)}:{query:Yr(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=jr(e,t.resumeToken);const r=Dr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(re.min())>0){n.readTime=Mr(e,t.snapshotVersion.toTimestamp());const r=Dr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=qr(this.serializer),t.removeTarget=e,this.F_(t)}}class ha extends ua{constructor(e,t,n,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return D(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,D(!e.writeResults||0===e.writeResults.length,55816),this.listener.z_()}onNext(e){D(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=function(e,t){return e&&e.length>0?(D(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?Lr(e.updateTime):Lr(t);return n.isEqual(re.min())&&(n=Lr(t)),new Gn(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Lr(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=qr(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof tr)n={update:Gr(e,t.key,t.value)};else if(t instanceof ir)n={delete:Vr(e,t.key)};else if(t instanceof nr)n={update:Gr(e,t.key,t.data),updateMask:ro(t.fieldMask)};else{if(!(t instanceof sr))return O(16599,{ft:t.type});n={verify:Vr(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof zn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Vn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $n)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw O(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Rr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:O(27497)}(e,t.precondition)),n}(this.serializer,e)))};this.F_(t)}}class fa{}class pa extends fa{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new R(j.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Qo(e,Fr(t,n),r,o,a))).catch((e=>{throw"FirebaseError"===e.name?(e.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new R(j.UNKNOWN,e.toString())}))}Wo(e,t,n,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,i])=>this.connection.Wo(e,Fr(t,n),r,a,i,o))).catch((e=>{throw"FirebaseError"===e.name?(e.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new R(j.UNKNOWN,e.toString())}))}terminate(){this.J_=!0,this.connection.terminate()}}class ma{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve()))))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(N(t),this.ea=!1):_("OnlineStateTracker",t)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const ga="RemoteStore";class ba{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo((e=>{n.enqueueAndForget((async()=>{Ca(this)&&(_(ga,"Restarting streams for network reachability change."),await async function(e){const t=M(e);t.aa.add(4),await va(t),t.la.set("Unknown"),t.aa.delete(4),await ya(t)}(this))}))})),this.la=new ma(n,r)}}async function ya(e){if(Ca(e))for(const t of e.ua)await t(!0)}async function va(e){for(const t of e.ua)await t(!1)}function wa(e,t){const n=M(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Ta(n)?Sa(n):qa(n).b_()&&ka(n,t))}function xa(e,t){const n=M(e),r=qa(n);n._a.delete(t),r.b_()&&Ea(n,t),0===n._a.size&&(r.b_()?r.v_():Ca(n)&&n.la.set("Unknown"))}function ka(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(re.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}qa(e).U_(t)}function Ea(e,t){e.ha.Ke(t),qa(e).K_(t)}function Sa(e){e.ha=new Cr({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),qa(e).start(),e.la.ta()}function Ta(e){return Ca(e)&&!qa(e).w_()&&e._a.size>0}function Ca(e){return 0===M(e).aa.size}function _a(e){e.ha=void 0}async function Na(e){e.la.set("Online")}async function Aa(e){e._a.forEach(((t,n)=>{ka(e,t)}))}async function Ia(e,t){_a(e),Ta(e)?(e.la.ia(t),Sa(e)):e.la.set("Unknown")}async function Oa(e,t,n){if(e.la.set("Online"),t instanceof Sr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e._a.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e._a.delete(r),e.ha.removeTarget(r))}(e,t)}catch(n){_(ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Pa(e,n)}else if(t instanceof kr?e.ha.Xe(t):t instanceof Er?e.ha.ot(t):e.ha.nt(t),!n.isEqual(re.min()))try{const t=await $o(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ha.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=e._a.get(r);o&&e._a.set(r,o.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e._a.get(t);if(!r)return;e._a.set(t,r.withResumeToken(qe.EMPTY_BYTE_STRING,r.snapshotVersion)),Ea(e,t);const o=new ao(r.target,t,n,r.sequenceNumber);ka(e,o)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){_(ga,"Failed to raise snapshot:",t),await Pa(e,t)}}async function Pa(e,t,n){if(!ge(t))throw t;e.aa.add(1),await va(e),e.la.set("Offline"),n||(n=()=>$o(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{_(ga,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await ya(e)}))}function Da(e,t){return t().catch((n=>Pa(e,n,t)))}async function Ma(e){const t=M(e),n=Ha(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:-1;for(;ja(t);)try{const e=await qo(t.localStore,r);if(null===e){0===t.oa.length&&n.v_();break}r=e.batchId,Ra(t,e)}catch(e){await Pa(t,e)}La(t)&&za(t)}function ja(e){return Ca(e)&&e.oa.length<10}function Ra(e,t){e.oa.push(t);const n=Ha(e);n.b_()&&n.W_&&n.G_(t.mutations)}function La(e){return Ca(e)&&!Ha(e).w_()&&e.oa.length>0}function za(e){Ha(e).start()}async function Fa(e){Ha(e).H_()}async function Ua(e){const t=Ha(e);for(const n of e.oa)t.G_(n.mutations)}async function Va(e,t,n){const r=e.oa.shift(),o=cr.from(r,t,n);await Da(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await Ma(e)}async function Ba(e,t){t&&Ha(e).W_&&await async function(e,t){if(function(e){return function(e){switch(e){case j.OK:return O(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return O(15467,{code:e})}}(e)&&e!==j.ABORTED}(t.code)){const n=e.oa.shift();Ha(e).D_(),await Da(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ma(e)}}(e,t),La(e)&&za(e)}async function $a(e,t){const n=M(e);n.asyncQueue.verifyOperationInProgress(),_(ga,"RemoteStore received new credentials");const r=Ca(n);n.aa.add(3),await va(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await ya(n)}function qa(e){return e.Pa||(e.Pa=function(e,t,n){const r=M(e);return r.Y_(),new da(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:Na.bind(null,e),Jo:Aa.bind(null,e),Zo:Ia.bind(null,e),Q_:Oa.bind(null,e)}),e.ua.push((async t=>{t?(e.Pa.D_(),Ta(e)?Sa(e):e.la.set("Unknown")):(await e.Pa.stop(),_a(e))}))),e.Pa}function Ha(e){return e.Ta||(e.Ta=function(e,t,n){const r=M(e);return r.Y_(),new ha(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:Fa.bind(null,e),Zo:Ba.bind(null,e),z_:Ua.bind(null,e),j_:Va.bind(null,e)}),e.ua.push((async t=>{t?(e.Ta.D_(),await Ma(e)):(await e.Ta.stop(),e.oa.length>0&&(_(ga,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))}))),e.Ta}class Ga{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new L,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const a=Date.now()+n,i=new Ga(e,t,a,r,o);return i.start(n),i}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new R(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ka(e,t){if(N("AsyncQueue",`${t}: ${e}`),ge(e))return new R(j.UNAVAILABLE,`${t}: ${e}`);throw e}class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ce.comparator(t.key,n.key):(e,t)=>ce.comparator(e.key,t.key),this.keyedMap=kn(),this.sortedSet=new Le(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ya))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ya;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Wa{constructor(){this.Ia=new Le(ce.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?0!==e.type&&3===n.type?this.Ia=this.Ia.insert(t,e):3===e.type&&1!==n.type?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Ia=this.Ia.remove(t):1===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):O(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Qa{constructor(e,t,n,r,o,a,i,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=i,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,o){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new Qa(e,t,Ya.emptySet(t),a,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class Ja{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some((e=>e.ma()))}}class Xa{constructor(){this.queries=Za(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(e,t){const n=M(e),r=n.queries;n.queries=Za(),r.forEach(((e,n)=>{for(const e of n.Ra)e.onError(t)}))}(this,new R(j.ABORTED,"Firestore shutting down"))}}function Za(){return new yn((e=>fn(e)),hn)}async function ei(e,t){const n=M(e);let r=3;const o=t.query;let a=n.queries.get(o);a?!a.Va()&&t.ma()&&(r=2):(a=new Ja,r=t.ma()?0:1);try{switch(r){case 0:a.Aa=await n.onListen(o,!0);break;case 1:a.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(e){const n=Ka(e,`Initialization of query '${pn(t.query)}' failed`);return void t.onError(n)}n.queries.set(o,a),a.Ra.push(t),t.ga(n.onlineState),a.Aa&&t.pa(a.Aa)&&oi(n)}async function ti(e,t){const n=M(e),r=t.query;let o=3;const a=n.queries.get(r);if(a){const e=a.Ra.indexOf(t);e>=0&&(a.Ra.splice(e,1),0===a.Ra.length?o=t.ma()?0:1:!a.Va()&&t.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ni(e,t){const n=M(e);let r=!1;for(const e of t){const t=e.query,o=n.queries.get(t);if(o){for(const t of o.Ra)t.pa(e)&&(r=!0);o.Aa=e}}r&&oi(n)}function ri(e,t,n){const r=M(e),o=r.queries.get(t);if(o)for(const e of o.Ra)e.onError(n);r.queries.delete(t)}function oi(e){e.fa.forEach((e=>{e.next()}))}var ai,ii;(ii=ai||(ai={})).ya="default",ii.Cache="cache";class si{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Qa(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache)return!0;if(!this.ma())return!0;const n="Offline"!==t;return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ca(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==ai.Cache}}class li{constructor(e){this.key=e}}class ci{constructor(e){this.key=e}}class ui{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=An(),this.mutatedKeys=An(),this.Ua=gn(e),this.Ka=new Ya(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new Wa,r=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,a=r,i=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=mn(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ja(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Ua(u,s)>0||l&&this.Ua(u,l)<0)&&(i=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(i=!0)),f&&(u?(a=a.add(u),o=h?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),o=o.delete(e.key),n.track({type:1,doc:e})}return{Ka:a,za:n,ys:i,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const a=e.za.da();a.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ua(e.doc,t.doc))),this.Ha(n),r=null!=r&&r;const i=t&&!r?this.Ja():[],s=0===this.$a.size&&this.current&&!r?1:0,l=s!==this.Qa;return this.Qa=s,0!==a.length||l?{snapshot:new Qa(this.query,e.Ka,o,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:i}:{Ya:i}}ga(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Wa,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach((e=>this.qa=this.qa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qa=this.qa.delete(e))),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=An(),this.Ka.forEach((e=>{this.Za(e.key)&&(this.$a=this.$a.add(e.key))}));const t=[];return e.forEach((e=>{this.$a.has(e)||t.push(new ci(e))})),this.$a.forEach((n=>{e.has(n)||t.push(new li(n))})),t}Xa(e){this.qa=e.Ns,this.$a=An();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Qa.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const di="SyncEngine";class hi{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class fi{constructor(e){this.key=e,this.tu=!1}}class pi{constructor(e,t,n,r,o,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.nu={},this.ru=new yn((e=>fn(e)),hn),this.iu=new Map,this.su=new Set,this.ou=new Le(ce.comparator),this._u=new Map,this.au=new _o,this.uu={},this.cu=new Map,this.lu=mo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}async function mi(e,t,n=!0){const r=ji(e);let o;const a=r.ru.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.eu()):o=await bi(r,t,n,!0),o}async function gi(e,t){const n=ji(e);await bi(n,t,!0,!1)}async function bi(e,t,n,r){const o=await function(e,t){const n=M(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ai.getTargetData(e,t).next((o=>o?(r=o,me.resolve(r)):n.ai.allocateTargetId(e).next((o=>(r=new ao(t,o,"TargetPurposeListen",e.currentSequenceNumber),n.ai.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ss.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(e.targetId,e),n.Ds.set(t,e.targetId)),e}))}(e.localStore,cn(t)),a=o.targetId,i=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await async function(e,t,n,r,o){e.Pu=(t,n,r)=>async function(e,t,n,r){let o=t.view.Ga(n);o.ys&&(o=await Go(e.localStore,t.query,!1).then((({documents:e})=>t.view.Ga(e,o))));const a=r&&r.targetChanges.get(t.targetId),i=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(o,e.isPrimaryClient,a,i);return Ai(e,t.targetId,s.Ya),s.snapshot}(e,t,n,r);const a=await Go(e.localStore,t,!0),i=new ui(t,a.Ns),s=i.Ga(a.documents),l=xr.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,o),c=i.applyChanges(s,e.isPrimaryClient,l);Ai(e,n,c.Ya);const u=new hi(t,n,i);return e.ru.set(t,u),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),c.snapshot}(e,t,a,"current"===i,o.resumeToken)),e.isPrimaryClient&&n&&wa(e.remoteStore,o),s}async function yi(e,t,n){const r=M(e),o=r.ru.get(t),a=r.iu.get(o.targetId);if(a.length>1)return r.iu.set(o.targetId,a.filter((e=>!hn(e,t)))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ho(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&xa(r.remoteStore,o.targetId),_i(r,o.targetId)})).catch(pe)):(_i(r,o.targetId),await Ho(r.localStore,o.targetId,!0))}async function vi(e,t){const n=M(e),r=n.ru.get(t),o=n.iu.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xa(n.remoteStore,r.targetId))}async function wi(e,t){const n=M(e);try{const e=await function(e,t){const n=M(e),r=t.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const i=[];t.targetChanges.forEach(((a,s)=>{const l=o.get(s);if(!l)return;i.push(n.ai.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.ai.addMatchingKeys(e,a.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(qe.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),o=o.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,a)&&i.push(n.ai.updateTargetData(e,c))}));let s=wn(),l=An();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),i.push(function(e,t,n){let r=An(),o=An();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=wn();return n.forEach(((n,a)=>{const i=e.get(n);a.isFoundDocument()!==i.isFoundDocument()&&(o=o.add(n)),a.isNoDocument()&&a.version.isEqual(re.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!i.isValidDocument()||a.version.compareTo(i.version)>0||0===a.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):_(Uo,"Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",a.version)})),{xs:r,Os:o}}))}(e,a,t.documentUpdates).next((e=>{s=e.xs,l=e.Os}))),!r.isEqual(re.min())){const t=n.ai.getLastRemoteSnapshotVersion(e).next((t=>n.ai.setTargetsMetadata(e,e.currentSequenceNumber,r)));i.push(t)}return me.waitFor(i).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.Ss=o,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n._u.get(t);r&&(D(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.tu=!0:e.modifiedDocuments.size>0?D(r.tu,14607):e.removedDocuments.size>0&&(D(r.tu,42227),r.tu=!1))})),await Pi(n,e,t)}catch(e){await pe(e)}}function xi(e,t,n){const r=M(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ru.forEach(((n,r)=>{const o=r.view.ga(t);o.snapshot&&e.push(o.snapshot)})),function(e,t){const n=M(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.Ra)e.ga(t)&&(r=!0)})),r&&oi(n)}(r.eventManager,t),e.length&&r.nu.Q_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ki(e,t,n){const r=M(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r._u.get(t),a=o&&o.key;if(a){let e=new Le(ce.comparator);e=e.insert(a,It.newNoDocument(a,re.min()));const n=An().add(a),o=new wr(re.min(),new Map,new Le(W),e,n);await wi(r,o),r.ou=r.ou.remove(a),r._u.delete(t),Oi(r)}else await Ho(r.localStore,t,!1).then((()=>_i(r,t,n))).catch(pe)}async function Ei(e,t){const n=M(e),r=t.batch.batchId;try{const e=await function(e,t){const n=M(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const o=n.batch,a=o.keys();let i=me.resolve();return a.forEach((e=>{i=i.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);D(null!==a,48541),t.version.compareTo(a)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),i.next((()=>e.mutationQueue.removeMutationBatch(t,o)))}(n,e,t,o).next((()=>o.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=An();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Ci(n,r,null),Ti(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pi(n,e)}catch(e){await pe(e)}}async function Si(e,t,n){const r=M(e);try{const e=await function(e,t){const n=M(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(D(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Ci(r,t,n),Ti(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Pi(r,e)}catch(n){await pe(n)}}function Ti(e,t){(e.cu.get(t)||[]).forEach((e=>{e.resolve()})),e.cu.delete(t)}function Ci(e,t,n){const r=M(e);let o=r.uu[r.currentUser.toKey()];if(o){const e=o.get(t);e&&(n?e.reject(n):e.resolve(),o=o.remove(t)),r.uu[r.currentUser.toKey()]=o}}function _i(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach((t=>{e.au.containsKey(t)||Ni(e,t)}))}function Ni(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);null!==n&&(xa(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),Oi(e))}function Ai(e,t,n){for(const r of n)r instanceof li?(e.au.addReference(r.key,t),Ii(e,r)):r instanceof ci?(_(di,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||Ni(e,r.key)):O(19791,{Iu:r})}function Ii(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(_(di,"New document in limbo: "+n),e.su.add(r),Oi(e))}function Oi(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new ce(ie.fromString(t)),r=e.lu.next();e._u.set(r,new fi(n)),e.ou=e.ou.insert(n,r),wa(e.remoteStore,new ao(cn(on(n.path)),r,"TargetPurposeLimboResolution",be.le))}}async function Pi(e,t,n){const r=M(e),o=[],a=[],i=[];r.ru.isEmpty()||(r.ru.forEach(((e,s)=>{i.push(r.Pu(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const o=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,o?"current":"not-current")}if(e){o.push(e);const t=Lo.Ps(s.targetId,e);a.push(t)}})))})),await Promise.all(i),r.nu.Q_(o),await async function(e,t){const n=M(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>me.forEach(t,(t=>me.forEach(t.ls,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>me.forEach(t.hs,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!ge(e))throw e;_(Uo,"Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Ss.get(t),r=e.snapshotVersion,o=e.withLastLimboFreeSnapshotVersion(r);n.Ss=n.Ss.insert(t,o)}}}(r.localStore,a))}async function Di(e,t){const n=M(e);if(!n.currentUser.isEqual(t)){_(di,"User change. New user:",t.toKey());const e=await Bo(n.localStore,t);n.currentUser=t,function(e){e.cu.forEach((e=>{e.forEach((e=>{e.reject(new R(j.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.cu.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Pi(n,e.Ms)}}function Mi(e,t){const n=M(e),r=n._u.get(t);if(r&&r.tu)return An().add(r.key);{let e=An();const r=n.iu.get(t);if(!r)return e;for(const t of r){const r=n.ru.get(t);e=e.unionWith(r.view.Wa)}return e}}function ji(e){const t=M(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wi.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mi.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ki.bind(null,t),t.nu.Q_=ni.bind(null,t.eventManager),t.nu.Tu=ri.bind(null,t.eventManager),t}function Ri(e){const t=M(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ei.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Si.bind(null,t),t}class Li{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sa(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return function(e,t,n,r){return new Vo(e,t,n,r)}(this.persistence,new Fo,e.initialUser,this.serializer)}Ru(e){return new Do(jo.Ei,this.serializer)}Au(e){return new Yo}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Li.provider={build:()=>new Li};class zi extends Li{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){D(this.persistence.referenceDelegate instanceof Ro,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new vo(n,e.asyncQueue,t)}Ru(e){const t=void 0!==this.cacheSizeBytes?po.withCacheSize(this.cacheSizeBytes):po.DEFAULT;return new Do((e=>Ro.Ei(e,t)),this.serializer)}}class Fi{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>xi(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Di.bind(null,this.syncEngine),await async function(e,t){const n=M(e);t?(n.aa.delete(2),await ya(n)):t||(n.aa.add(2),await va(n),n.la.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Xa}createDatastore(e){const t=sa(e.databaseInfo.databaseId),n=function(e){return new aa(e)}(e.databaseInfo);return function(e,t,n,r){return new pa(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new ba(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,(e=>xi(this.syncEngine,e,0)),Jo.C()?new Jo:new Wo)}createSyncEngine(e,t){return function(e,t,n,r,o,a,i){const s=new pi(e,t,n,r,o,a);return i&&(s.hu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=M(e);_(ga,"RemoteStore shutting down."),t.aa.add(5),await va(t),t.ca.shutdown(),t.la.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Fi.provider={build:()=>new Fi};class Ui{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):N("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Vi="FirestoreClient";class Bi{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=E.UNAUTHENTICATED,this.clientId=Y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async e=>{_(Vi,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(_(Vi,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new L;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ka(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function $i(e,t){e.asyncQueue.verifyOperationInProgress(),_(Vi,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Bo(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function qi(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){_(Vi,"Using user provided OfflineComponentProvider");try{await $i(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===j.FAILED_PRECONDITION||e.code===j.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;A("Error using user provided cache. Falling back to memory cache: "+n),await $i(e,new Li)}}else _(Vi,"Using default OfflineComponentProvider"),await $i(e,new zi(void 0));return e._offlineComponents}(e);_(Vi,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>$a(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>$a(t.remoteStore,n))),e._onlineComponents=t}async function Hi(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(_(Vi,"Using user provided OnlineComponentProvider"),await qi(e,e._uninitializedComponentsProvider._online)):(_(Vi,"Using default OnlineComponentProvider"),await qi(e,new Fi))),e._onlineComponents}async function Gi(e){const t=await Hi(e),n=t.eventManager;return n.onListen=mi.bind(null,t.syncEngine),n.onUnlisten=yi.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=gi.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=vi.bind(null,t.syncEngine),n}function Ki(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Yi=new Map;function Wi(e,t,n){if(!n)throw new R(j.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Qi(e){if(!ce.isDocumentKey(e))throw new R(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ji(e){if(ce.isDocumentKey(e))throw new R(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Xi(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":O(12329,{type:typeof e})}function Zi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new R(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xi(e);throw new R(j.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const es="firestore.googleapis.com",ts=!0;class ns{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new R(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=es,this.ssl=ts}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:ts;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=fo;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new R(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new R(j.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ki(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new R(j.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new R(j.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new R(j.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rs{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ns({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new R(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new R(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ns(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new F;switch(e.type){case"firstParty":return new $(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new R(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yi.get(e);t&&(_("ComponentProvider","Removing Datastore"),Yi.delete(e),t.terminate())}(this),Promise.resolve()}}class os{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class as{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new as(this.firestore,e,this._key)}}class is extends os{constructor(e,t,n){super(e,t,on(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new as(this.firestore,null,new ce(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function ss(e,t,...n){if(e=(0,l.Ku)(e),Wi("collection","path",t),e instanceof rs){const r=ie.fromString(t,...n);return Ji(r),new is(e,null,r)}{if(!(e instanceof as||e instanceof is))throw new R(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ie.fromString(t,...n));return Ji(r),new is(e.firestore,null,r)}}function ls(e,t,...n){if(e=(0,l.Ku)(e),1===arguments.length&&(t=Y.newId()),Wi("doc","path",t),e instanceof rs){const r=ie.fromString(t,...n);return Qi(r),new as(e,null,new ce(r))}{if(!(e instanceof as||e instanceof is))throw new R(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ie.fromString(t,...n));return Qi(r),new as(e.firestore,e instanceof is?e.converter:null,new ce(r))}}const cs="AsyncQueue";class us{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new la(this,"async_queue_retry"),this.ju=()=>{const e=ia();e&&_(cs,"Visibility state changed to "+e.visibilityState),this.y_.A_()},this.Hu=e;const t=ia();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=ia();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise((()=>{}));const t=new L;return this.Yu((()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qu.push(e),this.Zu())))}async Zu(){if(0!==this.Qu.length){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ge(e))throw e;_(cs,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_((()=>this.Zu()))}}Yu(e){const t=this.Hu.then((()=>(this.Wu=!0,e().catch((e=>{throw this.Ku=e,this.Wu=!1,N("INTERNAL UNHANDLED ERROR: ",ds(e)),e})).then((e=>(this.Wu=!1,e))))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const r=Ga.createAndSchedule(this,e,t,n,(e=>this.Xu(e)));return this.Uu.push(r),r}Ju(){this.Ku&&O(47125,{ec:ds(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do{e=this.Hu,await e}while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then((()=>{this.Uu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.tc()}))}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function ds(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class hs extends rs{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new us,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new us(e),this._firestoreClient=void 0,await e}}}function fs(e){if(e._terminated)throw new R(j.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const o=e._freezeSettings(),a=function(e,t,n,r){return new nt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ki(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||(null===(n=o.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=o.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new Bi(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}(e),e._firestoreClient}class ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ps(qe.fromBase64String(e))}catch(e){throw new R(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ps(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ms{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new R(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new le(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gs{constructor(e){this._methodName=e}}class bs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new R(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new R(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return W(this._lat,e._lat)||W(this._long,e._long)}}class ys{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const vs=/^__.*__$/;class ws{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new nr(e,this.data,this.fieldMask,t,this.fieldTransforms):new tr(e,this.data,t,this.fieldTransforms)}}class xs{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new nr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ks(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O(40011,{oc:e})}}class Es{constructor(e,t,n,r,o,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this._c(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Es(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r.lc(e),r}hc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return js(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(0===e.length)throw this.Tc("Document fields must not be empty");if(ks(this.oc)&&vs.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Ss{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||sa(e)}dc(e,t,n,r=!1){return new Es({oc:e,methodName:t,Ec:n,path:le.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ts(e){const t=e._freezeSettings(),n=sa(e._databaseId);return new Ss(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Cs(e,t,n,r,o,a={}){const i=e.dc(a.merge||a.mergeFields?2:0,t,n,o);Os("Data must be an object, but it was:",i,r);const s=As(r,i);let l,c;if(a.merge)l=new Be(i.fieldMask),c=i.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const o=Ps(t,r,n);if(!i.contains(o))throw new R(j.INVALID_ARGUMENT,`Field '${o}' is specified in your field mask but missing from your input data.`);Rs(e,o)||e.push(o)}l=new Be(e),c=i.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=i.fieldTransforms;return new ws(new Nt(s),l,c)}class _s extends gs{_toFieldTransform(e){if(2!==e.oc)throw 1===e.oc?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _s}}function Ns(e,t){if(Is(e=(0,l.Ku)(e)))return Os("Unsupported field value:",t,e),As(e,t);if(e instanceof gs)return function(e,t){if(!ks(t.oc))throw t.Tc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Tc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&4!==t.oc)throw t.Tc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=Ns(o,t.Pc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Dn(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ne.fromDate(e);return{timestampValue:Mr(t.serializer,n)}}if(e instanceof ne){const n=new ne(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Mr(t.serializer,n)}}if(e instanceof bs)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ps)return{bytesValue:jr(t.serializer,e._byteString)};if(e instanceof as){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Tc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:zr(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ys)return function(e,t){return{mapValue:{fields:{[at]:{stringValue:lt},[ct]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Tc("VectorValues must only contain numeric values.");return On(t.serializer,e)}))}}}}}}(e,t);throw t.Tc(`Unsupported field value: ${Xi(e)}`)}(e,t)}function As(e,t){const n={};return Re(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):je(e,((e,r)=>{const o=Ns(r,t.uc(e));null!=o&&(n[e]=o)})),{mapValue:{fields:n}}}function Is(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ne||e instanceof bs||e instanceof ps||e instanceof as||e instanceof gs||e instanceof ys)}function Os(e,t,n){if(!Is(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Xi(n);throw"an object"===r?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}}function Ps(e,t,n){if((t=(0,l.Ku)(t))instanceof ms)return t._internalPath;if("string"==typeof t)return Ms(e,t);throw js("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ds=new RegExp("[~\\*/\\[\\]]");function Ms(e,t,n){if(t.search(Ds)>=0)throw js(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ms(...t.split("."))._internalPath}catch(r){throw js(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function js(e,t,n,r,o){const a=r&&!r.isEmpty(),i=void 0!==o;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||i)&&(l+=" (found",a&&(l+=` in field ${r}`),i&&(l+=` in document ${o}`),l+=")"),new R(j.INVALID_ARGUMENT,s+e+l)}function Rs(e,t){return e.some((e=>e.isEqual(t)))}class Ls{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new as(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zs(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fs("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zs extends Ls{data(){return super.data()}}function Fs(e,t){return"string"==typeof t?Ms(e,t):t instanceof ms?t._internalPath:t._delegate._internalPath}class Us{}class Vs extends Us{}function Bs(e,t,...n){let r=[];t instanceof Us&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof Hs)).length,n=e.filter((e=>e instanceof $s)).length;if(t>1||t>0&&n>0)throw new R(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const t of r)e=t._apply(e);return e}class $s extends Vs{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new $s(e,t,n)}_apply(e){const t=this._parse(e);return Ys(e._query,t),new os(e.firestore,e.converter,un(e._query,t))}_parse(e){const t=Ts(e.firestore),n=function(e,t,n,r,o,a,i){let s;if(o.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new R(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){Ks(i,a);const t=[];for(const n of i)t.push(Gs(r,e,n));s={arrayValue:{values:t}}}else s=Gs(r,e,i)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Ks(i,a),s=function(e,t,n,r=!1){return Ns(n,e.dc(r?4:3,t))}(n,"where",i,"in"===a||"not-in"===a);return Lt.create(o,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function qs(e,t,n){const r=t,o=Fs("where",e);return $s._create(o,r,n)}class Hs extends Us{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hs(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:zt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)Ys(n,e),n=un(n,e)}(e._query,t),new os(e.firestore,e.converter,un(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Gs(e,t,n){if("string"==typeof(n=(0,l.Ku)(n))){if(""===n)throw new R(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sn(t)&&-1!==n.indexOf("/"))throw new R(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ie.fromString(n));if(!ce.isDocumentKey(r))throw new R(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vt(e,new ce(r))}if(n instanceof as)return vt(e,n._key);throw new R(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xi(n)}.`)}function Ks(e,t){if(!Array.isArray(e)||0===e.length)throw new R(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Ys(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new R(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new R(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Ws{convertValue(e,t="none"){switch(ut(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ye(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw O(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return je(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const o=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[ct].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Ke(e.doubleValue)));return new ys(o)}convertGeoPoint(e){return new bs(Ke(e.latitude),Ke(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=et(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(tt(e));default:return null}}convertTimestamp(e){const t=Ge(e);return new ne(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ie.fromString(e);D(oo(n),9688,{name:e});const r=new ot(n.get(1),n.get(3)),o=new ce(n.popFirst(5));return r.isEqual(t)||N(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Qs{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends Ls{constructor(e,t,n,r,o,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Fs("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Xs extends Js{data(e={}){return super.data(e)}}class Zs{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Qs(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Xs(this._firestore,this._userDataWriter,n.key,n,new Qs(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new R(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Xs(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Qs(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Xs(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qs(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,a=-1;return 0!==t.type&&(o=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:el(t.type),doc:r,oldIndex:o,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function el(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O(61501,{type:e})}}function tl(e){e=Zi(e,as);const t=Zi(e.firestore,hs);return function(e,t,n={}){const r=new L;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,o){const a=new Ui({next:s=>{a.yu(),t.enqueueAndForget((()=>ti(e,i)));const l=s.docs.has(n);!l&&s.fromCache?o.reject(new R(j.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?o.reject(new R(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(s)},error:e=>o.reject(e)}),i=new si(on(n.path),a,{includeMetadataChanges:!0,Fa:!0});return ei(e,i)}(await Gi(e),e.asyncQueue,t,n,r))),r.promise}(fs(t),e._key).then((n=>function(e,t,n){const r=n.docs.get(t._key),o=new nl(e);return new Js(e,o,t._key,r,new Qs(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n)))}class nl extends Ws{constructor(e){super(),this.firestore=e}convertBytes(e){return new ps(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new as(this.firestore,null,t)}}function rl(e){e=Zi(e,os);const t=Zi(e.firestore,hs),n=fs(t),r=new nl(t);return function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new R(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),function(e,t,n={}){const r=new L;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,o){const a=new Ui({next:n=>{a.yu(),t.enqueueAndForget((()=>ti(e,i))),n.fromCache&&"server"===r.source?o.reject(new R(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:e=>o.reject(e)}),i=new si(n,a,{includeMetadataChanges:!0,Fa:!0});return ei(e,i)}(await Gi(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new Zs(t,r,e,n)))}function ol(e,t,n){e=Zi(e,as);const r=Zi(e.firestore,hs),o=function(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}(e.converter,t,n);return il(r,[Cs(Ts(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,Kn.none())])}function al(e,t,n,...r){e=Zi(e,as);const o=Zi(e.firestore,hs),a=Ts(o);let i;return i="string"==typeof(t=(0,l.Ku)(t))||t instanceof ms?function(e,t,n,r,o,a){const i=e.dc(1,t,n),s=[Ps(t,r,n)],c=[o];if(a.length%2!=0)throw new R(j.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)s.push(Ps(t,a[e])),c.push(a[e+1]);const u=[],d=Nt.empty();for(let e=s.length-1;e>=0;--e)if(!Rs(u,s[e])){const t=s[e];let n=c[e];n=(0,l.Ku)(n);const r=i.hc(t);if(n instanceof _s)u.push(t);else{const e=Ns(n,r);null!=e&&(u.push(t),d.set(t,e))}}const h=new Be(u);return new xs(d,h,i.fieldTransforms)}(a,"updateDoc",e._key,t,n,r):function(e,t,n,r){const o=e.dc(1,t,n);Os("Data must be an object, but it was:",o,r);const a=[],i=Nt.empty();je(r,((e,r)=>{const s=Ms(t,e,n);r=(0,l.Ku)(r);const c=o.hc(s);if(r instanceof _s)a.push(s);else{const e=Ns(r,c);null!=e&&(a.push(s),i.set(s,e))}}));const s=new Be(a);return new xs(i,s,o.fieldTransforms)}(a,"updateDoc",e._key,t),il(o,[i.toMutation(e._key,Kn.exists(!0))])}function il(e,t){return function(e,t){const n=new L;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Ri(e);try{const e=await function(e,t){const n=M(e),r=ne.now(),o=t.reduce(((e,t)=>e.add(t.key)),An());let a,i;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=wn(),l=An();return n.Cs.getEntries(e,o).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((o=>{a=o;const i=[];for(const e of t){const t=Zn(e,a.get(e.key).overlayedDocument);null!=t&&i.push(new nr(e.key,t,At(t.value.mapValue),Kn.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,i,t)})).next((t=>{i=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:i.batchId,changes:En(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.uu[e.currentUser.toKey()];r||(r=new Le(W)),r=r.insert(t,n),e.uu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Pi(r,e.changes),await Ma(r.remoteStore)}catch(e){const t=Ka(e,"Failed to persist write");n.reject(t)}}(await function(e){return Hi(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(fs(e),t)}new WeakMap,function(e,t=!0){!function(e){S=e}(a.MF),(0,a.om)(new i.uA("firestore",((e,{instanceIdentifier:n,options:r})=>{const o=e.getProvider("app").getImmediate(),a=new hs(new V(e.getProvider("auth-internal")),new H(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new R(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ot(e.options.projectId,t)}(o,n),o);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC").setMultipleInstances(!0)),(0,a.KO)(x,k,e),(0,a.KO)(x,k,"esm2017")}();var sl,ll=n(223);function cl(e){return cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(e)}function ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(n),!0).forEach((function(t){hl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hl(e,t,n){return(t=function(e){var t=function(e){if("object"!=cl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=cl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==cl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fl(){fl=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(t,n,r,o){var a=n&&n.prototype instanceof h?n:h,i=Object.create(a.prototype);return l(i,"_invoke",function(t,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var c=u(t,n,r);if("normal"===c.type){if(o=r.done?4:2,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=4,r.method="throw",r.arg=c.arg)}}}(t,r,new S(o||[])),!0),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d={};function h(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==n&&r.call(b,a)&&(m=b);var y=p.prototype=h.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,s){var l=u(e[o],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==cl(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;l(this,"_invoke",(function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(t,n){var r=n.method,o=t.i[r];if(o===e)return n.delegate=null,"throw"===r&&t.i.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(o,t.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,d;var i=a.arg;return i?i.done?(n[t.r]=i.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function k(e){this.tryEntries.push(e)}function E(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function S(e){this.tryEntries=[[-1]],e.forEach(k,this),this.reset(!0)}function T(t){if(null!=t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(cl(t)+" is not iterable")}return f.prototype=p,l(y,"constructor",p),l(p,"constructor",f),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},v(w.prototype),l(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new w(c(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e){i.type="throw",i.arg=t,n.next=e}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,l=a[1],c=a[2];if(-1===a[0])return r("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<l)return this.method="next",this.arg=e,r(l),!0;if(s<c)return r(c),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={i:T(t),r:n,n:r},"next"===this.method&&(this.arg=e),d}},t}function pl(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ml(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){pl(a,r,o,i,s,"next",e)}function s(e){pl(a,r,o,i,s,"throw",e)}i(void 0)}))}}var gl=function(){try{var e=(0,ll.getApp)();return sl=function(e,t){const n="object"==typeof e?e:(0,a.Sx)(),r="string"==typeof e?e:t||rt,o=(0,a.j6)(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=(0,l.yU)("firestore");e&&function(e,t,n,r={}){var o;e=Zi(e,rs);const a=(0,l.zJ)(t),i=e._getSettings(),s=Object.assign(Object.assign({},i),{emulatorOptions:e._getEmulatorOptions()}),c=`${t}:${n}`;a&&(0,l.gE)(`https://${c}`),i.host!==es&&i.host!==c&&A("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},i),{host:c,ssl:a,emulatorOptions:r});if(!(0,l.bD)(u,s)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=E.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new R(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new E(a)}e._authCredentials=new U(new z(t,n))}}(o,...e)}return o}(e)}catch(e){throw console.error("Error initializing Firestore:",e),e}},bl=["mailinator.com","tempmail.com","10minutemail.com","guerrillamail.com","sharklasers.com","yopmail.com","throwawaymail.com","getairmail.com","mailnesia.com","maildrop.cc"],yl=function(e){var t=e.split("@")[1];return bl.includes(t)},vl=function(){var e=ml(fl().mark((function e(t){var n,r,o,a,i,s;return fl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sl||gl(),"JZ"!==t){e.next=8;break}return n=ss(sl,"users"),r=Bs(n,qs("username","==",t)),e.next=6,rl(r);case 6:return o=e.sent,e.abrupt("return",o.empty);case 8:return a=ss(sl,"users"),i=Bs(a,qs("username","==",t)),e.next=12,rl(i);case 12:return s=e.sent,e.abrupt("return",s.empty);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wl=function(){var e=ml(fl().mark((function e(t,n){return fl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sl||gl(),e.next=3,ol(ls(sl,"users",t),dl(dl({},n),{},{createdAt:(new Date).toISOString()}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xl=function(){var e=ml(fl().mark((function e(t){var n;return fl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sl||gl(),e.next=3,tl(ls(sl,"users",t));case 3:if(!(n=e.sent).exists()){e.next=6;break}return e.abrupt("return",n.data());case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kl=function(){var e=ml(fl().mark((function e(t,n){var r;return fl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sl||gl(),r=ls(sl,"users",t),e.next=4,tl(r);case 4:if(!e.sent.exists()){e.next=10;break}return e.next=8,al(r,dl(dl({},n),{},{updatedAt:(new Date).toISOString()}));case 8:e.next=12;break;case 10:return e.next=12,ol(r,dl(dl({},n),{},{createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();const El={initializeFirestore:gl,isDisposableEmail:yl,isUsernameAvailable:vl,createUserDocument:wl,getUserData:xl,updateUserDocument:kl}},424:(e,t,n)=>{n.d(t,{$b:()=>o,Ey:()=>d,He:()=>u,Vy:()=>c});const r=[];var o;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));const a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},i=o.INFO,s={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),o=s[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${r}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=i,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in o))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?a[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...e),this._logHandler(this,o.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...e),this._logHandler(this,o.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,o.INFO,...e),this._logHandler(this,o.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,o.WARN,...e),this._logHandler(this,o.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...e),this._logHandler(this,o.ERROR,...e)}}function u(e){r.forEach((t=>{t.setLogLevel(e)}))}function d(e,t){for(const n of r){let r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:(t,n,...a)=>{const i=a.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:i,args:a,type:t.name})}}}},427:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".help-page-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 9999;\n  animation: fadeIn 0.3s ease;\n}\n\n.help-page-container {\n  background-color: var(--bg-secondary, white);\n  border-radius: 8px;\n  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);\n  width: 90%;\n  max-width: 800px;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  animation: slideUp 0.3s ease;\n}\n\n.help-page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid var(--border-color, #eee);\n  background-color: var(--bg-accent, #f5f5f5);\n}\n\n.help-page-header h2 {\n  margin: 0;\n  color: var(--text-primary, #333);\n  font-size: 1.5rem;\n}\n\n.help-close-button {\n  background: none;\n  border: none;\n  font-size: 1.8rem;\n  color: var(--text-secondary, #777);\n  cursor: pointer;\n  padding: 0.2rem 0.5rem;\n  line-height: 1;\n  border-radius: 50%;\n  transition: background-color 0.2s, color 0.2s;\n}\n\n.help-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.1);\n  color: var(--text-primary, #333);\n}\n\n.help-content {\n  padding: 1.5rem;\n  overflow-y: auto;\n  flex-grow: 1;\n}\n\n.help-section {\n  margin-bottom: 2rem;\n}\n\n.help-section h3 {\n  margin-top: 0;\n  margin-bottom: 1rem;\n  color: var(--accent-color, #0077ff);\n  border-bottom: 1px solid var(--border-color, #eee);\n  padding-bottom: 0.5rem;\n}\n\n.help-item {\n  margin-bottom: 1.5rem;\n}\n\n.help-item h4 {\n  margin: 0 0 0.5rem 0;\n  color: var(--text-primary, #333);\n  font-size: 1.1rem;\n}\n\n.help-item p {\n  margin: 0;\n  color: var(--text-secondary, #555);\n  line-height: 1.5;\n}\n\n.help-footer {\n  padding: 1rem 1.5rem;\n  border-top: 1px solid var(--border-color, #eee);\n  background-color: var(--bg-accent, #f5f5f5);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.help-footer p {\n  margin: 0;\n  color: var(--text-secondary, #777);\n  font-size: 0.9rem;\n}\n\n.help-close-btn {\n  background-color: var(--accent-color, #0077ff);\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 0.5rem 1rem;\n  font-size: 0.9rem;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.help-close-btn:hover {\n  background-color: var(--accent-hover, #0066dd);\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n@keyframes slideUp {\n  from { transform: translateY(30px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n}\n\n@media (max-width: 600px) {\n  .help-page-container {\n    width: 95%;\n    max-height: 95vh;\n  }\n  \n  .help-page-header {\n    padding: 0.8rem 1rem;\n  }\n  \n  .help-content {\n    padding: 1rem;\n  }\n  \n  .help-footer {\n    padding: 0.8rem 1rem;\n    flex-direction: column;\n    gap: 0.8rem;\n  }\n}",""]);const a=o},428:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'.header {\n    background-color: var(--header-bg, rgba(255, 255, 255, 1));\n    background-image: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0));\n    box-shadow: 0 4px 30px var(--shadow-color, rgba(0, 0, 0, 0.1));\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n    padding: 1.2rem 2rem;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    z-index: 1000;\n    transition: all 0.3s cubic-bezier(0.2, 0, 0.2, 1);\n    will-change: transform, width, left, right, border-radius, padding, background-color;\n    height: auto;\n    min-height: 40px;\n    border-bottom: 1px solid rgba(var(--border-color-rgb, 0, 0, 0), 0.08);\n    transform: translateZ(0);\n    -webkit-transform: translateZ(0);\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden;\n    perspective: 1000;\n    -webkit-perspective: 1000;\n    transform-style: preserve-3d;\n    -webkit-transform-style: preserve-3d;\n}\n\n/* Add an invisible zone for better header detection */\n.header-trigger-zone {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 5px;\n    z-index: 999;\n}\n\n.header.expanding {\n    animation: expandHeader 0.3s cubic-bezier(0.2, 0, 0.2, 1);\n    animation-fill-mode: forwards;\n    will-change: border-radius, padding, min-height;\n    transition: all 0.5s cubic-bezier(0.2, 0, 0.2, 1) !important;\n}\n\n@keyframes expandHeader {\n    0% {\n        border-radius: 0 0 25px 25px;\n        padding: 0.8rem 2rem;\n        min-height: 30px;\n    }\n    100% {\n        border-radius: 0;\n        padding: 1.2rem 2rem;\n        min-height: 40px;\n    }\n}\n/* When scrolled, transform header into a compact "blob" */\n.header.scrolled {\n    padding: 0.8rem 2rem;\n    transform: translateY(0) translateZ(0);\n    opacity: 1;\n    backdrop-filter: blur(15px);\n    -webkit-backdrop-filter: blur(15px);\n    border-radius: 0 0 25px 25px;\n    width: 90%;\n    left: 5%;\n    right: 5%;\n    box-shadow: 0 10px 30px var(--shadow-color, rgba(0, 0, 0, 0.15));\n    border-bottom: none;\n    transition: all 0.3s cubic-bezier(0.2, 0, 0.2, 1);\n    will-change: transform, width, border-radius, padding, left, right;\n    min-height: 30px;\n}\n\n/* Ensure transparency effect for scrolled or shrunk header */\n.header.scrolled, .header.shrunk {\n    background-color: rgba(255, 255, 255, 0.7) !important;\n    backdrop-filter: blur(8px) !important;\n    -webkit-backdrop-filter: blur(8px) !important;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08) !important;\n    transition: background-color 0.3s ease, backdrop-filter 0.3s ease;\n    /* Keep width full when scrolled */\n    width: 100% !important;\n    left: 0 !important;\n    right: 0 !important;\n    border-radius: 0 0 25px 25px !important;\n}\n\n/* Theme-specific transparent header styles */\nbody.theme-dark .header.scrolled, \nbody.theme-dark .header.shrunk,\n[data-theme="dark"] .header.scrolled,\n[data-theme="dark"] .header.shrunk {\n    background-color: rgba(10, 10, 10, 0.9) !important;\n    backdrop-filter: blur(12px) !important;\n    -webkit-backdrop-filter: blur(12px) !important;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;\n}\n\n/* Ensure all themes support transparency */\nbody[data-theme] .header.scrolled,\nbody[data-theme] .header.shrunk,\nhtml[data-theme] .header.scrolled,\nhtml[data-theme] .header.shrunk {\n    opacity: 0.95;\n}\n\n/* Additional styling for the blob header mode */\n.header.scrolled .logo-container {\n    transform: scale(0.9) translateZ(0);\n    transition: transform 0.3s cubic-bezier(0.2, 0, 0.2, 1);\n    will-change: transform;\n}\n\n.header.scrolled .title-container {\n    opacity: 1;\n    transform: scale(0.95) translateZ(0);\n    white-space: nowrap;\n    transition: transform 0.3s cubic-bezier(0.2, 0, 0.2, 1), opacity 0.3s cubic-bezier(0.2, 0, 0.2, 1);\n    will-change: transform, opacity;\n}\n\n.header:not(.scrolled) .logo-container,\n.header:not(.scrolled) .title-container {\n    transform: scale(1) translateZ(0);\n    transition: transform 0.3s cubic-bezier(0.2, 0, 0.2, 1);\n    will-change: transform;\n}\n\n.header.scrolled .title-container h1 {\n    font-size: 1.5rem;\n}\n\n.header.scrolled .title-container .subtitle {\n    font-size: 0.85rem;\n}\n\n/* We\'re handling header hover in React now */\n.header-content {\n    display: flex;\n    align-items: center;\n    position: relative;\n    max-width: 1400px;\n    margin: 0 auto;\n    transition: all 0.3s ease;\n}\n\n.logo-container {\n    display: flex;\n    align-items: center;\n    /* Fix width to match the right side for balance */\n    min-width: 140px;\n}\n\n.logo {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 44px;\n    height: 44px;\n    border-radius: 10px;\n    background: linear-gradient(135deg, #6c5ce7, #a29bfe);\n    color: white;\n    margin-right: 1rem;\n    box-shadow: 0 2px 10px rgba(108, 92, 231, 0.3);\n}\n\n.logo-icon {\n    font-size: 1.5rem;\n}\n\n/* Sidebar and Calendar Toggle Button Styles */\n.sidebar-toggle,\n.calendar-toggle {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 32px;\n    height: 32px;\n    border-radius: 6px;\n    background-color: var(--button-bg, #f8f9fa);\n    border: 2px solid var(--border-color, #e9ecef);\n    color: var(--text-primary, #495057);\n    font-size: 0.9rem;\n    margin-left: 0.5rem;\n    cursor: pointer;\n    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n}\n\n.sidebar-toggle:hover,\n.calendar-toggle:hover {\n    background-color: var(--button-hover, #e9ecef);\n    transform: translateY(-3px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n/* Make sidebar toggle button blue when open instead of when closed */\n.sidebar-toggle:not(.collapsed) {\n    background-color: var(--accent-color);\n    color: white;\n    border-color: var(--accent-color);\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(var(--accent-color-rgb), 0.3);\n}\n\n.sidebar-toggle:not(.collapsed):hover {\n    transform: translateY(-4px);\n    box-shadow: 0 8px 20px rgba(var(--accent-color-rgb), 0.4);\n}\n\n.sidebar-toggle:not(.collapsed) .toggle-icon {\n    filter: brightness(1.5);\n}\n\n.sidebar-toggle:not(.collapsed)::before {\n    background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 70%);\n}\n\n/* Similar styling for active calendar toggle */\n.calendar-toggle.active {\n    background-color: var(--accent-color);\n    color: white;\n    border-color: var(--accent-color);\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(var(--accent-color-rgb), 0.3);\n}\n\n.calendar-toggle.active:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 8px 20px rgba(var(--accent-color-rgb), 0.4);\n}\n\n.calendar-toggle.active .toggle-icon {\n    filter: brightness(1.5);\n}\n\n/* Active button pulse animation */\n.calendar-toggle.active,\n.sidebar-toggle:not(.collapsed) {\n    animation: pulse-light 2s ease-in-out infinite alternate;\n}\n\n.toggle-icon {\n    display: inline-block;\n    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n}\n\n.sidebar-toggle.collapsed .toggle-icon {\n    transform: rotate(180deg);\n}\n\n.title-container {\n    flex: 1;\n    text-align: center;\n    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);\n}\n\n.title-container h1,\n.title-container .subtitle {\n    pointer-events: auto; /* Make text clickable again */\n    transition: all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);\n}\n\n.title-container h1 {\n    font-size: 1.8rem;\n    font-weight: 700;\n    margin-bottom: 0.2rem;\n    color: #2d3436;\n    letter-spacing: -0.5px;\n    transition: all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);\n    position: relative;\n    display: inline-block;\n}\n\n.title-container .subtitle {\n    font-size: 0.95rem;\n    color: var(--text-secondary);\n    font-weight: 400;\n    transition: all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);\n    opacity: 0.9;\n}\n\n.header-actions {\n    display: flex;\n    align-items: center;\n    /* Fix width to match the left side for balance */\n    min-width: 140px;\n    justify-content: flex-end;\n}\n\n.help-button {\n    width: 36px;\n    height: 36px;\n    border-radius: 50%;\n    background-color: #f8f9fa;\n    border: 2px solid #e9ecef;\n    color: #495057;\n    font-size: 1rem;\n    font-weight: bold;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n}\n\n.help-button:hover {\n    background-color: #e9ecef;\n    transform: translateY(-3px) scale(1.05);\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n}\n\n/* Styling for smooth transition of header content */\n.title-container h1, \n.subtitle, \n.logo-container, \n.header-actions {\n    transition: all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);\n}\n\n/* When header is in blob mode, make buttons more prominent */\n.header.scrolled .sidebar-toggle,\n.header.scrolled .calendar-toggle,\n.header.scrolled .help-button {\n    transform: scale(1.05);\n    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);\n    transition: all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);\n}\n\n/* When header is not in blob mode, reset button styles */\n.header:not(.scrolled) .sidebar-toggle,\n.header:not(.scrolled) .calendar-toggle,\n.header:not(.scrolled) .help-button {\n    transform: scale(1);\n    transition: all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);\n}\n\n/* Button styles */\n.sidebar-toggle,\n.calendar-toggle,\n.help-button {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 40px;\n    height: 40px;\n    border-radius: 10px;\n    cursor: pointer;\n    margin-left: 10px;\n    position: relative;\n    overflow: hidden;\n    transition: all 0.25s cubic-bezier(0.25, 0.1, 0.25, 1);\n    background-color: var(--button-bg);\n    border: 1px solid var(--border-color);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n}\n\n.calendar-toggle:hover,\n.sidebar-toggle:hover,\n.help-button:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n}\n\n.calendar-toggle:active,\n.sidebar-toggle:active,\n.help-button:active {\n    transform: translateY(-2px);\n    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);\n}\n\n.calendar-toggle::before,\n.sidebar-toggle::before,\n.help-button::before {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 70%);\n    transform: scale(0);\n    transition: transform 0.5s ease-out;\n    z-index: 0;\n    opacity: 0;\n}\n\n.calendar-toggle:hover::before,\n.sidebar-toggle:hover::before,\n.help-button:hover::before {\n    transform: scale(2);\n    opacity: 1;\n}\n\n/* User menu styles */\n.user-menu-container {\n    position: relative;\n    margin-right: 1rem;\n}\n\n.user-profile-button {\n    width: 34px;\n    height: 34px;\n    border-radius: 50%;\n    border: 2px solid var(--accent-color, #0077ff);\n    background-color: var(--primary-color, #fff);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    color: var(--text-color);\n    font-weight: 600;\n    overflow: hidden;\n}\n\n.user-profile-button:hover {\n    background-color: var(--accent-color, #0077ff);\n    color: #fff;\n    transform: scale(1.05);\n}\n\n.user-initial {\n    font-size: 16px;\n    font-weight: bold;\n}\n\n.user-dropdown-menu {\n    position: absolute;\n    top: 45px;\n    right: 0;\n    min-width: 240px;\n    background-color: var(--popup-bg, #fff);\n    border-radius: 8px;\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);\n    z-index: 1001;\n    padding: 0;\n    animation: fadeIn 0.2s ease;\n    border: 1px solid var(--border-color, rgba(0, 0, 0, 0.1));\n    overflow: hidden;\n}\n\n.user-info {\n    padding: 16px;\n    border-bottom: 1px solid var(--border-color, rgba(0, 0, 0, 0.1));\n    text-align: center;\n    background-color: var(--accent-light, rgba(0, 119, 255, 0.05));\n}\n\n.user-avatar-large {\n    width: 60px;\n    height: 60px;\n    border-radius: 50%;\n    background-color: var(--accent-color, #0077ff);\n    color: white;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0 auto 10px;\n    font-size: 24px;\n    font-weight: bold;\n}\n\n.user-email {\n    font-size: 14px;\n    margin: 0;\n    color: var(--text-color);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 100%;\n    font-weight: 500;\n}\n\n.user-name {\n    font-size: 16px;\n    margin: 4px 0 0;\n    color: var(--text-color);\n    font-weight: 600;\n}\n\n.user-menu-actions {\n    padding: 8px;\n}\n\n.user-menu-button,\n.logout-button {\n    background-color: transparent;\n    color: var(--text-color);\n    border: none;\n    padding: 10px 12px;\n    width: 100%;\n    text-align: left;\n    font-size: 14px;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: background-color 0.2s;\n    display: flex;\n    align-items: center;\n    margin-bottom: 2px;\n}\n\n.user-menu-button:hover,\n.logout-button:hover {\n    background-color: var(--hover-bg, rgba(0, 0, 0, 0.05));\n}\n\n.logout-button {\n    color: #e53935;\n}\n\n.logout-button:hover {\n    background-color: rgba(229, 57, 53, 0.05);\n}\n\n.user-menu-icon {\n    margin-right: 8px;\n    font-size: 16px;\n}\n\n@keyframes fadeIn {\n    from {\n        opacity: 0;\n        transform: translateY(-10px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n/* Responsive adjustments for user menu */\n@media (max-width: 768px) {\n    .user-dropdown-menu {\n        right: -20px;\n    }\n}\n\n/* Responsive Styles */\n@media (max-width: 768px) {\n    .header {\n        padding: 1rem;\n    }\n    \n    .logo {\n        width: 38px;\n        height: 38px;\n    }\n    \n    .title-container h1 {\n        font-size: 1.4rem;\n    }\n    \n    .subtitle {\n        font-size: 0.85rem;\n    }\n}\n\n/* Specific overrides for Cosmos theme to ensure header stays fixed */\n.theme-cosmos .header,\nhtml[data-theme="cosmos"] .header,\nbody.theme-cosmos .header {\n    position: fixed !important;\n    top: 0 !important;\n    left: 0 !important;\n    right: 0 !important;\n    width: 100% !important;\n    z-index: 9999 !important;\n    background: linear-gradient(135deg, rgba(10, 10, 40, 0.9), rgba(18, 18, 54, 0.9)) !important;\n    box-shadow: 0 0 15px rgba(110, 60, 191, 0.8), inset 0 0 8px rgba(84, 199, 252, 0.4) !important;\n}\n\n/* Ensure proper content spacing when header is fixed in Cosmos theme */\n.theme-cosmos .main-content,\n.theme-cosmos .app > div:not(.header),\n[data-theme="cosmos"] .main-content,\n[data-theme="cosmos"] .app > div:not(.header) {\n    padding-top: var(--content-spacing, 50px) !important; /* Updated to use CSS variable with 50px fallback */\n}\n\n/* Ensure the header goes back to normal correctly */\n.header.enlarged {\n    border-radius: 0 !important;\n    transition: all 0.3s ease-out !important;\n}\n\n/* Base header styling for dark theme */\nbody.theme-dark .header,\nhtml.theme-dark .header,\n[data-theme="dark"] .header {\n    background-color: var(--header-bg, #101010) !important;\n    background-image: linear-gradient(160deg, rgba(12, 12, 12, 0.95), rgba(16, 16, 16, 0.95)) !important;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;\n    border-bottom: 1px solid rgba(30, 30, 30, 0.5) !important;\n}\n\n/* Ensure dark theme text colors for header */\nbody.theme-dark .title-container h1,\nhtml.theme-dark .title-container h1,\n[data-theme="dark"] .title-container h1 {\n    color: #f0f0f0 !important;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n}\n\nbody.theme-dark .subtitle,\nhtml.theme-dark .subtitle,\n[data-theme="dark"] .subtitle {\n    color: #b0b3b8 !important;\n}\n\n/* Disabled user menu button styling */\n.user-menu-button:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n}\n\n.user-menu-button:disabled:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n    transform: none;\n}',""]);const a=o},458:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"/* User Info Modal Styles */\n.user-info-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 9999;\n  animation: fadeIn 0.2s ease;\n}\n\n.user-info-container {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\n  padding: 2rem;\n  width: 100%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow-y: auto;\n}\n\n.user-info-container h2 {\n  margin-top: 0;\n  margin-bottom: 1.5rem;\n  text-align: center;\n  color: var(--text-primary, #333);\n}\n\n.user-avatar {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 20px;\n}\n\n.user-avatar img {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  object-fit: cover;\n}\n\n.avatar-placeholder {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  background-color: #0077ff;\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 36px;\n  font-weight: bold;\n}\n\n.user-details {\n  width: 100%;\n}\n\n.user-details p {\n  padding: 8px 0;\n  border-bottom: 1px solid var(--border-color, #eee);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.user-details p:last-child {\n  border-bottom: none;\n}\n\n.user-details strong {\n  color: var(--text-secondary, #555);\n}\n\n.verify-button {\n  margin-left: 10px;\n  padding: 5px 10px;\n  background-color: var(--accent-color, #0077ff);\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 12px;\n  transition: background-color 0.2s;\n}\n\n.verify-button:hover {\n  background-color: var(--accent-hover, #0066dd);\n}\n\n.verify-button:disabled {\n  background-color: var(--disabled-color, #cccccc);\n  cursor: not-allowed;\n}\n\n.verification-error {\n  color: var(--error-color, #ff3333);\n  font-size: 14px;\n  margin-top: 8px;\n}\n\n.verification-sent {\n  color: var(--success-color, #33cc33);\n  font-size: 14px;\n  margin-top: 8px;\n}\n\n.info-actions {\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 20px;\n}\n\n.close-button {\n  padding: 10px 16px;\n  background-color: var(--accent-color, #0077ff);\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  transition: background-color 0.2s;\n}\n\n.close-button:hover {\n  background-color: var(--accent-hover, #0066dd);\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@media (max-width: 600px) {\n  .user-info-container {\n    padding: 1.5rem;\n    margin: 0 1rem;\n    max-width: calc(100% - 2rem);\n  }\n  \n  .avatar-placeholder {\n    width: 80px;\n    height: 80px;\n    font-size: 28px;\n  }\n  \n  .user-avatar img {\n    width: 80px;\n    height: 80px;\n  }\n}\n",""]);const a=o},462:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'/* Timetable Component Styles */\n.timetable-container {\n    background-color: var(--bg-secondary);\n    border-radius: 16px;\n    padding: 25px;\n    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);\n    transition: all 0.6s cubic-bezier(0.25, 1, 0.5, 1);\n    width: 100%;\n    animation: fadeInUp 0.8s cubic-bezier(0.25, 1, 0.5, 1);\n    transform-origin: center;\n    margin-top: 5px; /* Reduced from 10px */\n    margin-bottom: 20px; /* Reduced from 50px */\n    max-height: none !important; /* Prevent height limitations */\n    height: auto !important; /* Only take up space needed */\n    overflow: visible;\n}\n\n.timetable-header {\n    margin-bottom: 25px;\n    transition: all 0.5s cubic-bezier(0.25, 1, 0.5, 1);\n    width: 100%;\n    position: relative;\n}\n\n.timetable-header h2 {\n    font-size: 1.9rem;\n    font-weight: 700;\n    margin-bottom: 15px;\n    color: var(--text-primary);\n    transition: all 0.5s cubic-bezier(0.25, 1, 0.5, 1);\n    position: relative;\n}\n\n.main-container.sidebar-collapsed .timetable-header h2 {\n    text-align: center;\n}\n\n.main-container.sidebar-collapsed .current-day-display {\n    text-align: center;\n    margin: 10px auto;\n}\n\n.main-container.sidebar-collapsed .template-controls {\n    justify-content: center;\n}\n\n.main-container.sidebar-collapsed .day-selector {\n    justify-content: center;\n}\n\n/* Template Controls */\n.template-controls {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 15px;\n    margin-bottom: 20px;\n    align-items: center;\n    animation: fadeIn 0.5s ease-in-out;\n}\n\n.template-controls select,\n.template-controls input {\n    padding: 10px 15px;\n    border-radius: 8px;\n    border: 1px solid var(--border-color);\n    background-color: var(--bg-primary);\n    color: var(--text-primary);\n    font-size: 0.9rem;\n    transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n}\n\n.template-controls select:focus,\n.template-controls input:focus {\n    border-color: var(--accent-color);\n    outline: none;\n    box-shadow: 0 0 0 3px rgba(var(--accent-color-rgb), 0.2);\n    transform: translateY(-2px);\n}\n\n.template-controls button {\n    padding: 10px 18px;\n    border-radius: 8px;\n    background-color: var(--button-bg);\n    color: var(--text-primary);\n    border: 1px solid var(--border-color);\n    font-size: 0.9rem;\n    font-weight: 500;\n    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n    display: flex;\n    align-items: center;\n    gap: 8px;\n}\n\n.template-controls button:hover {\n    background-color: var(--button-hover);\n    transform: translateY(-3px);\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n}\n\n.template-controls button:active {\n    transform: translateY(-1px);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n}\n\n.save-template {\n    display: flex;\n    gap: 10px;\n}\n\n.edit-mode-toggle.active {\n    background-color: var(--accent-color);\n    color: white;\n    border-color: var(--accent-color);\n}\n\n/* Day Selector Buttons */\n.day-selector {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n    flex-wrap: wrap;\n}\n\n.day-button {\n    padding: 10px 18px;\n    border-radius: 10px;\n    background-color: var(--bg-primary);\n    color: var(--text-primary);\n    border: 1px solid var(--border-color);\n    font-size: 0.9rem;\n    font-weight: 500;\n    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n\n.day-button::before {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0));\n    opacity: 0;\n    transition: opacity 0.3s ease;\n}\n\n.day-button:hover {\n    transform: translateY(-4px) scale(1.02);\n    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\n}\n\n.day-button:hover::before {\n    opacity: 1;\n}\n\n.day-button.active {\n    background-color: var(--accent-color);\n    color: white;\n    border-color: var(--accent-color);\n    transform: translateY(-4px) scale(1.05);\n    box-shadow: 0 8px 25px rgba(var(--accent-color-rgb), 0.3);\n    animation: pulse-light 1.5s ease-in-out infinite alternate;\n}\n\n.day-button.active::after {\n    content: \'\';\n    position: absolute;\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 30%;\n    height: 3px;\n    background-color: rgba(255, 255, 255, 0.7);\n    border-radius: 3px;\n    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);\n}\n\n.day-button.active:hover::after {\n    width: 50%;\n}\n\n.current-day-display {\n    font-size: 1rem;\n    color: var(--text-secondary);\n    margin: 10px 0;\n}\n\n.current-day-display span {\n    font-weight: 600;\n    color: var(--accent-color);\n}\n\n/* Timetable Grid */\n.timetable {\n    display: grid;\n    grid-template-columns: 200px 1fr; /* Increased from 180px to 200px */\n    border: 1px solid var(--border-color);\n    border-radius: 10px;\n    overflow: hidden;\n    width: 100%;\n    margin-bottom: 20px; /* Add bottom margin */\n    min-height: 0 !important; /* Prevent excess height */\n    height: auto !important; /* Only as tall as content */\n}\n\n.periods-column {\n    background-color: rgba(0, 0, 0, 0.03);\n    border-right: 1px solid var(--border-color);\n    display: flex;\n    flex-direction: column;\n}\n\n.day-column {\n    display: flex;\n    flex-direction: column;\n}\n\n.period-label {\n    padding: 18px 12px; /* Increased padding */\n    border-bottom: 1px solid var(--border-color);\n    font-weight: 500;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    height: 160px; /* Increased from 140px to 160px */\n}\n\n.period-label .time {\n    display: block;\n    font-size: 0.9rem; /* Increased from 0.8rem */\n    opacity: 0.8; /* Increased from 0.7 */\n    margin-top: 8px; /* Increased from 5px */\n    text-align: center;\n}\n\n.period-row {\n    padding: 25px; /* Increased from 20px to 25px */\n    border-bottom: 1px solid var(--border-color);\n    height: 160px; /* Increased from 140px to 160px */\n}\n\n.period-row.has-editing-slot,\n.period-label.editing {\n    height: auto;\n}\n\n.period-label span {\n    display: block;\n}\n\n.period-label:last-child, \n.period-row:last-child {\n    border-bottom: none;\n}\n\n/* Add Time Slot Button */\n.add-time-slot {\n    margin-top: 10px;\n}\n\n.add-time-slot button {\n    width: 100%;\n    padding: 10px;\n    border: 1px dashed var(--border-color);\n    background-color: transparent;\n    color: var(--text-secondary);\n    border-radius: 6px;\n    transition: all 0.2s ease;\n}\n\n.add-time-slot button:hover {\n    background-color: var(--button-hover);\n    color: var(--text-primary);\n}\n\n/* Time slot styling */\n.time-slot {\n    background-color: var(--accent-color);\n    border-radius: 6px; /* Match other themes */\n    padding: 12px; /* Match other themes */\n    color: white;\n    margin-bottom: 5px; /* Match other themes */\n    margin: 5px; /* Match other themes */\n    box-shadow: 0 3px 10px var(--shadow-color);\n    transition: all 0.3s ease;\n    animation: fadeIn 0.5s ease forwards;\n    position: relative;\n    overflow: hidden;\n    cursor: pointer; /* Add cursor pointer to indicate clickable */\n    user-select: none; /* Prevent text selection */\n}\n\n.time-slot:hover {\n    transform: translateY(-2px); /* Match other themes */\n    box-shadow: 0 4px 8px var(--shadow-color);\n}\n\n.time-slot:active {\n    transform: scale(0.98);\n    opacity: 0.9;\n    box-shadow: 0 2px 5px var(--shadow-color);\n}\n\n.time-slot:active::before {\n    opacity: 0.4;\n    background: linear-gradient(135deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.1) 50%);\n}\n\n.time-slot::before {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 50%);\n    opacity: 0;\n    transition: opacity 0.4s ease;\n}\n\n.time-slot:hover::before {\n    opacity: 1;\n}\n\n.time-slot-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 6px; /* Match other themes */\n}\n\n.time-slot h3 {\n    margin: 0 0 6px 0; /* Match other themes */\n    font-size: 1rem; /* Standard size */\n    font-size: 1.2rem; /* Increased from 1.1rem */\n    font-weight: 600;\n}\n\n.time-slot h3.subject-title {\n    margin: 0 0 6px 0;\n    font-size: 1.2rem;\n    font-weight: 600;\n    word-break: break-word;\n    line-height: 1.3;\n}\n\n.time-slot p {\n    margin: 3px 0; /* Reduced margin to match other themes */\n    font-size: 0.85rem; /* Smaller font size to match */\n    opacity: 0.9;\n}\n\n.time-slot .time {\n    font-size: 0.8rem; /* Smaller font size */\n    opacity: 0.9;\n}\n\n.time-slot-actions button {\n    background: none;\n    border: 1px solid rgba(255, 255, 255, 0.3);\n    color: white;\n    opacity: 0.9;\n    cursor: pointer !important;\n    padding: 4px 8px; /* Increased padding for better clickability */\n    font-size: 0.8rem; /* Smaller font */\n    transition: all 0.2s ease;\n    border-radius: 4px;\n    user-select: none;\n    pointer-events: auto; /* Explicitly enable pointer events */\n    position: relative; /* Ensure proper stacking context */\n    z-index: 10; /* Higher than parent elements */\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    -webkit-appearance: button;\n    appearance: button;\n    margin-left: 5px; /* Add spacing between buttons */\n}\n\n.time-slot-actions button:hover {\n    opacity: 1;\n    background-color: rgba(255, 255, 255, 0.1);\n}\n\n.time-slot-actions button:active {\n    transform: scale(0.95);\n    opacity: 0.9;\n}\n\n.delete-button {\n    font-size: 1.2rem;\n    font-weight: bold;\n}\n\n/* Edit mode styling */\n.time-slot.editing {\n    background-color: var(--bg-secondary);\n    color: var(--text-primary);\n    border: 2px solid var(--accent-color);\n    padding: 20px;\n    transform: none;\n    position: relative;\n    z-index: 20;  /* Higher z-index */\n    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);\n    animation: highlight-edit 1.5s ease forwards;\n    pointer-events: auto;\n    user-select: auto;\n    max-width: 100%;\n}\n\n@keyframes highlight-edit {\n    0% { box-shadow: 0 0 0 0 rgba(var(--accent-color-rgb), 0.7); }\n    70% { box-shadow: 0 0 0 15px rgba(var(--accent-color-rgb), 0); }\n    100% { box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15); }\n}\n\n.time-slot-edit-header h4 {\n    text-align: center;\n    margin-top: 0;\n    margin-bottom: 15px;\n    font-weight: 600;\n    color: var(--accent-color);\n}\n\n.time-slot-edit-form .form-group {\n    margin-bottom: 15px;\n    position: relative;\n}\n\n.time-slot-edit-form label {\n    display: block;\n    margin-bottom: 6px;\n    font-size: 0.9rem;\n    color: var(--text-secondary);\n    font-weight: 600;\n    user-select: none;\n}\n\n.time-slot-edit-form input {\n    width: 100%;\n    padding: 10px;\n    border-radius: 6px;\n    border: 1px solid var(--border-color);\n    background-color: var(--bg-primary);\n    color: var(--text-primary);\n    font-size: 0.95rem;\n    transition: all 0.2s ease;\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    cursor: text;\n}\n\n.time-slot-edit-form input:focus {\n    border-color: var(--accent-color);\n    box-shadow: 0 0 0 3px rgba(var(--accent-color-rgb), 0.2), inset 0 1px 3px rgba(0, 0, 0, 0.05);\n    outline: none;\n}\n\n.time-slot-edit-form input:focus-within,\n.time-slot-edit-form input:focus {\n    animation: pulse-input 1.5s ease-in-out infinite;\n    border-color: var(--accent-color);\n}\n\n@keyframes pulse-input {\n    0% { box-shadow: 0 0 0 0 rgba(var(--accent-color-rgb), 0.4); }\n    70% { box-shadow: 0 0 0 5px rgba(var(--accent-color-rgb), 0); }\n    100% { box-shadow: 0 0 0 0 rgba(var(--accent-color-rgb), 0); }\n}\n\n.form-actions {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 20px;\n    gap: 10px;\n}\n\n.form-actions button {\n    flex: 1;\n    padding: 10px 15px;\n    border-radius: 6px;\n    cursor: pointer !important;\n    transition: all 0.3s ease;\n    font-weight: 500;\n    border: none;\n    font-size: 0.95rem;\n    user-select: none;\n    -webkit-appearance: button;\n    appearance: button;\n    text-align: center;\n    pointer-events: auto; /* Explicitly enable pointer events */\n    position: relative; /* Ensure proper stacking context */\n    z-index: 25; /* Higher than parent elements */\n}\n\n.form-actions button:active {\n    transform: scale(0.98);\n}\n\n.form-actions .save-button {\n    background-color: var(--accent-color);\n    color: white;\n    box-shadow: 0 2px 5px rgba(var(--accent-color-rgb), 0.3);\n}\n\n.form-actions .save-button:hover {\n    background-color: var(--accent-dark);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(var(--accent-color-rgb), 0.4);\n}\n\n.form-actions .save-button:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px rgba(var(--accent-color-rgb), 0.3);\n}\n\n.form-actions .cancel-button {\n    background-color: var(--button-bg);\n    color: var(--text-primary);\n    border: 1px solid var(--border-color);\n}\n\n.form-actions .cancel-button:hover {\n    background-color: var(--button-hover);\n    transform: translateY(-2px);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.form-actions .cancel-button:active {\n    transform: translateY(0);\n    box-shadow: none;\n}\n\n/* Edit mode hint */\n.edit-mode-hint {\n    margin: 10px 0;\n    padding: 8px 15px;\n    background-color: rgba(var(--accent-color-rgb), 0.1);\n    border-left: 3px solid var(--accent-color);\n    border-radius: 4px;\n    animation: fadeIn 0.5s ease;\n}\n\n.edit-mode-hint p {\n    margin: 0;\n    font-size: 0.9rem;\n    color: var(--text-primary);\n}\n\n.edit-button-hint {\n    font-weight: 600;\n    color: var(--accent-color);\n    padding: 2px 6px;\n    background-color: rgba(var(--accent-color-rgb), 0.1);\n    border-radius: 4px;\n}\n\n.edit-period-label {\n    display: block;\n    text-align: center;\n    font-size: 0.85rem;\n    color: var(--text-secondary);\n    margin-bottom: 15px;\n    opacity: 0.8;\n}\n\n/* Dark theme specific styling for timetable container */\n.theme-dark .timetable-container,\n[data-theme="dark"] .timetable-container {\n    background: linear-gradient(145deg, #0a0a0a, #121212);\n    border: 1px solid rgba(30, 30, 30, 0.4);\n    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25), inset 0 1px 2px rgba(255, 255, 255, 0.02);\n}\n\n/* Dark theme styling for timetable headers */\n.theme-dark .timetable-header h2,\n[data-theme="dark"] .timetable-header h2 {\n    color: #f0f0f0;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n    letter-spacing: -0.5px;\n}\n\n/* Dark theme styling for day selector and buttons */\n.theme-dark .day-button,\n[data-theme="dark"] .day-button {\n    background: linear-gradient(145deg, #0f0f0f, #161616);\n    border: 1px solid rgba(30, 30, 30, 0.4);\n    color: #e4e6eb;\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.02);\n    transition: all 0.3s ease;\n}\n\n.theme-dark .day-button:hover,\n[data-theme="dark"] .day-button:hover {\n    background: linear-gradient(145deg, #141414, #1a1a1a);\n    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.25), inset 0 1px 1px rgba(255, 255, 255, 0.03);\n    transform: translateY(-2px);\n}\n\n.theme-dark .day-button.active,\n[data-theme="dark"] .day-button.active {\n    background: linear-gradient(145deg, #221d2e, #2b2440);\n    color: #ffffff;\n    border-color: rgba(78, 67, 118, 0.5);\n    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3), inset 0 1px 1px rgba(255, 255, 255, 0.1);\n}\n\n/* Dark theme timetable grid styling */\n.theme-dark .timetable,\n[data-theme="dark"] .timetable {\n    border: 1px solid rgba(30, 30, 30, 0.5);\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);\n    background: linear-gradient(145deg, #0d0d0d, #131313);\n}\n\n.theme-dark .current-day-display,\n[data-theme="dark"] .current-day-display {\n    color: #a0a0a0;\n}\n\n.theme-dark .current-day-display span,\n[data-theme="dark"] .current-day-display span {\n    color: #9985d1;\n    text-shadow: 0 0 5px rgba(78, 67, 118, 0.3);\n}\n\n/* Dark theme time slot styling */\n.theme-dark .time-slot,\n[data-theme="dark"] .time-slot {\n    /* Background is now controlled by TimeSlot.js component */\n    padding: 12px; /* Match other themes */\n    margin: 5px; /* Match other themes */\n    border-radius: 6px; /* Match other themes */\n    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.05);\n    border: 1px solid rgba(40, 40, 40, 0.5);\n    /* Increase text clarity */\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n}\n\n.theme-dark .time-slot:hover,\n[data-theme="dark"] .time-slot:hover {\n    transform: translateY(-2px); /* Match other themes */\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.07);\n    filter: brightness(1.1);\n}\n\n/* Enhanced time slot styling for dark theme */\n.theme-dark .time-slot h3,\n[data-theme="dark"] .time-slot h3 {\n    font-weight: 600;\n    letter-spacing: 0.3px;\n    margin-bottom: 6px; /* Reduced spacing */\n    font-size: 1rem; /* Slightly smaller */\n}\n\n.theme-dark .time-slot .time,\n[data-theme="dark"] .time-slot .time {\n    font-weight: 500;\n    opacity: 0.9;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);\n    font-size: 0.9rem; /* Smaller font size */\n}\n\n.theme-dark .time-slot p,\n[data-theme="dark"] .time-slot p {\n    opacity: 0.85;\n    font-size: 0.85rem; /* Smaller for better fit */\n    line-height: 1.3; /* Tighter line height */\n    margin: 3px 0; /* Reduced margins */\n}\n\n/* Time slot buttons in dark theme */\n.theme-dark .time-slot-actions button,\n[data-theme="dark"] .time-slot-actions button {\n    background-color: rgba(0, 0, 0, 0.2);\n    color: rgba(255, 255, 255, 0.9);\n    border: 1px solid rgba(255, 255, 255, 0.15);\n    transition: all 0.3s ease;\n    padding: 4px 8px; /* Smaller padding */\n    font-size: 0.8rem; /* Smaller font */\n}\n\n.theme-dark .time-slot-actions button:hover,\n[data-theme="dark"] .time-slot-actions button:hover {\n    background-color: rgba(0, 0, 0, 0.3);\n    color: rgba(255, 255, 255, 1);\n    border: 1px solid rgba(255, 255, 255, 0.25);\n}\n\n/* Dark theme add time slot button */\n.theme-dark .add-time-slot button,\n[data-theme="dark"] .add-time-slot button {\n    border: 1px dashed rgba(40, 40, 40, 0.8);\n    color: #a0a0a0;\n}\n\n.theme-dark .add-time-slot button:hover,\n[data-theme="dark"] .add-time-slot button:hover {\n    background-color: rgba(40, 40, 40, 0.5);\n    color: #f0f0f0;\n    border: 1px dashed rgba(78, 67, 118, 0.5);\n}\n\n/* Responsive Styles */\n@media (max-width: 768px) {\n    .day-selector {\n        justify-content: center;\n    }\n    \n    .day-selector button {\n        min-width: 60px;\n        padding: 8px 12px;\n        font-size: 0.9rem;\n    }\n    \n    .template-controls {\n        flex-direction: column;\n        align-items: stretch;\n    }\n    \n    .save-template {\n        flex-direction: column;\n    }\n    \n    .timetable {\n        flex-direction: column;\n    }\n    \n    .periods-column {\n        display: flex;\n        overflow-x: auto;\n        border-right: none;\n        border-bottom: 1px solid var(--border-color);\n    }\n    \n    .period-label {\n        min-width: 120px;\n        border-right: 1px solid var(--border-color);\n        border-bottom: none;\n    }\n    \n    .period-label:last-child {\n        border-right: none;\n    }\n\n    /* Mobile optimizations for edit mode */\n    .time-slot.editing {\n        padding: 15px;\n        width: 100%;\n        max-width: 100%;\n    }\n    \n    .time-slot-edit-form input {\n        font-size: 16px; /* Prevents iOS zoom on focus */\n        padding: 12px 10px; /* Larger touch targets */\n    }\n    \n    .form-actions {\n        flex-direction: column;\n        gap: 10px;\n    }\n    \n    .form-actions button {\n        width: 100%;\n        padding: 12px;\n        font-size: 16px;\n    }\n}',""]);const a=o},463:(e,t)=>{var n,r,o,a;if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,b=-1,y=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();v=e+y;try{g(!0,e)?x.postMessage(null):(m=!1,g=null)}catch(e){throw x.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,x.postMessage(null))},r=function(e,n){b=h((function(){e(t.unstable_now())}),n)},o=function(){f(b),b=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<T(o,t)))break e;e[r]=t,e[n]=o,n=r}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,i=e[a],s=a+1,l=e[s];if(void 0!==i&&0>T(i,n))void 0!==l&&0>T(l,i)?(e[r]=l,e[s]=n,r=s):(e[r]=i,e[a]=n,r=a);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],_=[],N=1,A=null,I=3,O=!1,P=!1,D=!1;function M(e){for(var t=E(_);null!==t;){if(null===t.callback)S(_);else{if(!(t.startTime<=e))break;S(_),t.sortIndex=t.expirationTime,k(C,t)}t=E(_)}}function j(e){if(D=!1,M(e),!P)if(null!==E(C))P=!0,n(R);else{var t=E(_);null!==t&&r(j,t.startTime-e)}}function R(e,n){P=!1,D&&(D=!1,o()),O=!0;var a=I;try{for(M(n),A=E(C);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=A.callback;if("function"==typeof i){A.callback=null,I=A.priorityLevel;var s=i(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?A.callback=s:A===E(C)&&S(C),M(n)}else S(C);A=E(C)}if(null!==A)var l=!0;else{var c=E(_);null!==c&&r(j,c.startTime-n),l=!1}return l}finally{A=null,I=a,O=!1}}var L=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:N++,callback:a,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>s?(e.sortIndex=i,k(_,e),null===E(C)&&e===E(_)&&(D?o():D=!0,r(j,i-s))):(e.sortIndex=l,k(C,e),P||O||(P=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},479:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"/* filepath: /Users/joshuazheng/Downloads/Vscode/Website/timetable-app/src/assets/themes/minimal.css */\nbody {\n    background: #ffffff;\n    color: #333333;\n    font-family: 'Arial', sans-serif;\n}\n\n/* Header styling for blob effect */\n.header {\n    background: #ffffff;\n    padding: 20px;\n    text-align: center;\n    border-bottom: 1px solid #f0f0f0;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);\n    transform: translateZ(0); /* Fixes potential rendering issues */\n}\n\n/* Blob effect for minimal theme - subtle and clean */\n.header.scrolled {\n    background: rgba(255, 255, 255, 0.95);\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n    border-radius: 0 0 20px 20px;\n    width: 95%;\n    left: 2.5%;\n    right: 2.5%;\n    border: none;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\n}\n\nh1 {\n    margin: 0;\n    font-size: 2.2em;\n    color: #333333;\n    font-weight: 500;\n    letter-spacing: -0.5px;\n}\n\n/* Additional header styling for minimal theme */\n.title-container h1 {\n    color: #333333;\n    text-shadow: none;\n}\n\n.subtitle {\n    color: #666666;\n    font-weight: 300;\n}\n\n.logo {\n    background: none;\n    border: 1px solid #f0f0f0;\n    box-shadow: none;\n    color: #333333;\n}\n\n.sidebar-toggle:not(.collapsed), \n.calendar-toggle.active {\n    background-color: #f5f5f5;\n    color: #333333;\n    border-color: #e0e0e0;\n    box-shadow: none;\n}\n\n.toggle-icon {\n    text-shadow: none;\n}\n\n.help-button {\n    background: none;\n    border: 1px solid #f0f0f0;\n    color: #333333;\n}\n\n.timetable-container {\n    margin: 20px auto;\n    width: 95%;\n    max-width: 1200px;\n}\n\n.timetable-header {\n    margin-bottom: 20px;\n}\n\n.timetable-header h2 {\n    font-weight: 300;\n    color: #555;\n}\n\n.template-controls {\n    display: flex;\n    gap: 10px;\n    align-items: center;\n    margin: 10px 0;\n}\n\n.template-controls select, .template-controls input {\n    padding: 6px 10px;\n    border: 1px solid #eee;\n    border-radius: 4px;\n    font-size: 14px;\n}\n\n.template-controls button {\n    background-color: transparent;\n    border: 1px solid #ddd;\n    color: #555;\n    padding: 6px 12px;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 14px;\n    transition: all 0.2s;\n}\n\n.template-controls button:hover {\n    background-color: #f8f8f8;\n}\n\n.day-selector {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 5px;\n    margin: 10px 0;\n}\n\n.day-selector button {\n    background-color: transparent;\n    border: 1px solid #eee;\n    color: #555;\n    padding: 5px 10px;\n    border-radius: 4px;\n    cursor: pointer;\n}\n\n.day-selector button.active {\n    background-color: #f8f8f8;\n    border-color: #ddd;\n    font-weight: 500;\n}\n\n.timetable {\n    margin: 20px auto;\n    width: 100%;\n    border-collapse: collapse;\n    border: none;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);\n}\n\n.timetable th, .timetable td {\n    border: 1px solid #f0f0f0;\n    padding: 12px;\n    text-align: center;\n}\n\n.timetable th {\n    background-color: #ffffff;\n    color: #333333;\n    font-weight: 500;\n    border-bottom: 2px solid #f0f0f0;\n}\n\n.periods-column {\n    width: 150px;\n    border-right: 1px solid #eee;\n    background-color: #fafafa;\n}\n\n.period-label {\n    padding: 15px 10px;\n    border-bottom: 1px solid #eee;\n    display: flex;\n    flex-direction: column;\n}\n\n.period-label span {\n    font-size: 14px;\n    color: #777;\n}\n\n.period-label .time {\n    font-size: 12px;\n    color: #999;\n    margin-top: 4px;\n}\n\n.day-column {\n    flex: 1;\n}\n\n.period-row {\n    padding: 10px;\n    border-bottom: 1px solid #f0f0f0;\n    min-height: 70px;\n    background-color: #ffffff;\n}\n\n.time-slot {\n    border-radius: 6px;\n    padding: 10px;\n    box-shadow: 0 1px 3px rgba(0,0,0,0.05);\n    background-color: #ffffff;\n    transition: background-color 0.2s;\n}\n\n.time-slot:hover {\n    background-color: #fafafa;\n}\n\n.time-slot-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 6px;\n}\n\n.time-slot h3 {\n    margin: 0 0 5px 0;\n    font-size: 16px;\n    font-weight: 500;\n}\n\n.time-slot p {\n    margin: 3px 0;\n    font-size: 13px;\n}\n\n.time-slot .code {\n    opacity: 0.7;\n}\n\n.time-slot-actions button {\n    background: transparent;\n    border: none;\n    font-size: 14px;\n    cursor: pointer;\n    padding: 2px 8px;\n    color: inherit;\n    opacity: 0.6;\n}\n\n.time-slot-actions button:hover {\n    opacity: 1;\n}\n\n.add-time-slot button {\n    background-color: transparent;\n    border: 1px dashed #ddd;\n    color: #999;\n    padding: 8px 15px;\n    border-radius: 6px;\n    width: 100%;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n\n.add-time-slot button:hover {\n    background-color: #f9f9f9;\n    color: #666;\n}\n\n.theme-switcher {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    margin: 20px;\n}\n\n.theme-switcher select {\n    padding: 5px 10px;\n    border: 1px solid #eee;\n    border-radius: 4px;\n    font-size: 14px;\n}\n\n.button {\n    background-color: #333333;\n    color: white;\n    border: none;\n    padding: 8px 14px;\n    border-radius: 3px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    font-size: 14px;\n    letter-spacing: 0.3px;\n}\n\n.button:hover {\n    background-color: #555555;\n}\n\n/* Header styles */\n.header {\n    background-color: #ffffff;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);\n}\n\n.title-container h1 {\n    color: #333333;\n    font-weight: 500;\n}\n\n.subtitle {\n    color: #777777;\n    font-weight: 400;\n    font-size: 14px;\n    letter-spacing: 0.2px;\n}\n\n.logo {\n    background: #333333;\n}\n\n.help-button {\n    background-color: #ffffff;\n    border: 1px solid #f0f0f0;\n    color: #333333;\n}\n\n.help-button:hover {\n    background-color: #f7f7f7;\n}\n\n/* Theme switcher */\n.theme-switcher-container {\n    background-color: #ffffff;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);\n    border: 1px solid #f0f0f0;\n    border-radius: 3px;\n}\n\n.theme-switcher-title {\n    color: #333333;\n    font-weight: 500;\n    font-size: 16px;\n    letter-spacing: 0.2px;\n}\n\n.theme-button {\n    background-color: #ffffff;\n    color: #333333;\n    border: 1px solid #f0f0f0;\n    padding: 8px 14px;\n    margin: 4px;\n    border-radius: 3px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    font-size: 13px;\n}\n\n.theme-button:hover, .theme-button.active {\n    background-color: #333333;\n    color: #ffffff;\n    border-color: #333333;\n}\n\n/* Settings panel */\n.settings-container {\n    background-color: #ffffff;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);\n    border: 1px solid #f0f0f0;\n    border-radius: 3px;\n}\n\n/* Theme-specific styling */",""]);const a=o},509:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"/* Logout Confirmation Styles */\n.logout-confirm-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: transparent; /* Removed background color/blur */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10000; /* Increased z-index to be highest */\n  animation: fadeIn 0.2s ease;\n}\n\n.logout-confirm-container {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25); /* Enhanced shadow for better contrast */\n  padding: 2rem;\n  width: 100%;\n  max-width: 400px;\n  text-align: center;\n  position: relative; /* Ensure proper stacking context */\n  margin: auto; /* Additional centering */\n  border: 1px solid rgba(0, 0, 0, 0.1); /* Subtle border */\n}\n\n.logout-confirm-container h2 {\n  margin-top: 0;\n  margin-bottom: 1rem;\n  color: #333;\n}\n\n.logout-confirm-container p {\n  margin-bottom: 1.5rem;\n  color: #555;\n  font-size: 16px;\n}\n\n.logout-confirm-actions {\n  display: flex;\n  justify-content: center;\n  gap: 10px;\n}\n\n.cancel-button,\n.confirm-button {\n  padding: 10px 16px;\n  border-radius: 4px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background-color 0.2s;\n  min-width: 120px;\n}\n\n.cancel-button {\n  background-color: #f5f5f5;\n  color: #333;\n  border: 1px solid #ddd;\n}\n\n.cancel-button:hover {\n  background-color: #eaeaea;\n}\n\n.confirm-button {\n  background-color: #e53935;\n  color: white;\n  border: none;\n}\n\n.confirm-button:hover {\n  background-color: #d32f2f;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Add a sliding animation for the container */\n@keyframes slideIn {\n  from {\n    transform: translateY(-20px);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n/* Responsive adjustments */\n@media (max-width: 480px) {\n  .logout-confirm-container {\n    padding: 1.5rem;\n    margin: 0 1rem;\n    max-width: calc(100% - 2rem);\n    animation: slideIn 0.3s ease;\n  }\n  \n  /* Ensure modal is visible on smaller screens */\n  .logout-confirm-modal {\n    padding: 20px;\n    align-items: center;\n    height: 100vh;\n  }\n}\n",""]);const a=o},530:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"body {\n    background: linear-gradient(135deg, #e8f0fc, #bae0ff);\n    color: #2d3436;\n    font-family: 'Arial', sans-serif;\n}\n\n/* Header styling for blob effect */\n.header {\n    background: linear-gradient(135deg, #7189ff, #5271ff); /* Blue gradient */\n    padding: 20px;\n    text-align: center;\n    color: white;\n    box-shadow: 0 4px 12px rgba(81, 113, 255, 0.3);\n    border-bottom: 1px solid #7189ff;\n    transform: translateZ(0); /* Fixes potential rendering issues */\n}\n\n/* Blob effect for colorful theme */\n.header.scrolled {\n    background: linear-gradient(135deg, #7189ff, #5271ff); /* Matching the normal header */\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n    border-radius: 0 0 20px 20px;\n    width: 95%;\n    left: 2.5%;\n    right: 2.5%;\n    border: none;\n    box-shadow: 0 4px 15px rgba(81, 113, 255, 0.4);\n}\n\n/* Theme-specific styling */\n\n/* Theme-specific styling for compact header will be handled in Header.css */\n\n.title-container h1 {\n    color: #ffffff;\n    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.subtitle {\n    color: #ffffff;\n    opacity: 0.9;\n}\n\n.logo {\n    background: linear-gradient(135deg, #7189ff, #5271ff);\n    box-shadow: 0 4px 15px rgba(81, 113, 255, 0.4);\n}\n\n/* Style for sidebar toggle and help button in colorful theme */\n.sidebar-toggle:not(.collapsed), \n.calendar-toggle.active {\n    background: linear-gradient(135deg, #7189ff, #5271ff);\n    color: white;\n    border-color: #5271ff;\n    box-shadow: 0 2px 8px rgba(81, 113, 255, 0.3);\n}\n\n.toggle-icon {\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n.help-button {\n    background-color: rgba(255, 255, 255, 0.2);\n    border: 2px solid rgba(255, 255, 255, 0.3);\n    color: #ffffff;\n}\n\n.timetable-container {\n    background-color: #ffffff;\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);\n    border-radius: 10px;\n    padding: 20px;\n}\n\n.timetable-header {\n    background-color: #81ecec;\n    border-radius: 8px;\n    padding: 15px;\n    margin-bottom: 20px;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);\n}\n\n.timetable {\n    border-collapse: collapse;\n    width: 100%;\n    margin: 20px 0;\n    background-color: #ffffff;\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);\n    border-radius: 10px;\n    overflow: hidden;\n}\n\n.timetable th {\n    background-color: #5271ff;\n    color: white;\n    font-weight: 600;\n}\n\n.time-slot {\n    background-color: #e8f0fc;\n    border: 1px solid #bae0ff;\n    padding: 12px;\n    margin: 5px;\n    border-radius: 6px;\n    transition: all 0.3s ease;\n}\n\n.time-slot:hover {\n    background-color: #bae0ff;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.button {\n    background-color: #5271ff;\n    color: white;\n    border: none;\n    padding: 10px 15px;\n    border-radius: 6px;\n    cursor: pointer;\n    font-weight: 600;\n    transition: all 0.2s ease;\n    background: linear-gradient(135deg, #7189ff, #5271ff);\n    box-shadow: 0 2px 8px rgba(81, 113, 255, 0.2);\n}\n\n.button:hover {\n    background-color: #4263ff;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(81, 113, 255, 0.3);\n    background: linear-gradient(135deg, #5271ff, #4263ff);\n}\n\n/* Theme switcher */\n.theme-switcher-container {\n    background: linear-gradient(to bottom, #ffffff, #edf9ff);\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);\n    border-radius: 10px;\n    padding: 20px;\n    margin: 20px 0;\n    border: 1px solid rgba(129, 236, 236, 0.3);\n}\n\n.theme-switcher-title {\n    color: #2d3436;\n    font-weight: 600;\n    margin-bottom: 15px;\n    text-align: center;\n}\n\n.theme-button {\n    background-color: #e8f0fc;\n    color: #2d3436;\n    border: 2px solid #bae0ff;\n    padding: 10px 15px;\n    margin: 5px;\n    border-radius: 6px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    background: linear-gradient(135deg, #81ecec, #74b9ff);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.theme-button:hover, .theme-button.active {\n    background-color: #5271ff;\n    color: white;\n    border-color: #4263ff;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(81, 113, 255, 0.3);\n    background: linear-gradient(135deg, #7189ff, #5271ff);\n}\n\n/* Settings panel */\n.settings-container {\n    background: linear-gradient(to bottom, #ffffff, #e8f0fc);\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);\n    border-radius: 10px;\n    padding: 20px;\n    margin: 20px 0;\n    border: 1px solid rgba(81, 113, 255, 0.2);\n}\n\n.period-row {\n    background-color: #e8f0fc;\n}\n\n.help-button {\n    background-color: #e8f0fc;\n    border: 2px solid #bae0ff;\n    color: #2d3436;\n}\n\n.help-button:hover {\n    background-color: #bae0ff;\n}",""]);const a=o},540:(e,t,n)=>{e.exports=n(287)},551:(e,t,n)=>{var r=n(540),o=n(228),a=n(982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=b.hasOwnProperty(t)?b[t]:null;(null!==o?0===o.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);b[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);b[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);b[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,E=60106,S=60107,T=60108,C=60114,_=60109,N=60110,A=60112,I=60113,O=60120,P=60115,D=60116,M=60121,j=60128,R=60129,L=60130,z=60131;if("function"==typeof Symbol&&Symbol.for){var F=Symbol.for;k=F("react.element"),E=F("react.portal"),S=F("react.fragment"),T=F("react.strict_mode"),C=F("react.profiler"),_=F("react.provider"),N=F("react.context"),A=F("react.forward_ref"),I=F("react.suspense"),O=F("react.suspense_list"),P=F("react.memo"),D=F("react.lazy"),M=F("react.block"),F("react.scope"),j=F("react.opaque.id"),R=F("react.debug_trace_mode"),L=F("react.offscreen"),z=F("react.legacy_hidden")}var U,V="function"==typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=V&&e[V]||e["@@iterator"])?e:null}function $(e){if(void 0===U)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var q=!1;function H(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var o=e.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s])return"\n"+o[i].replace(" at new "," at ")}while(1<=i&&0<=s);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function G(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return H(e.type,!1);case 11:return H(e.type.render,!1);case 22:return H(e.type._render,!1);case 1:return H(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case C:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return K(e.type);case M:return K(e._render);case D:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(ye).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var ke=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,_e=null,Ne=null;function Ae(e){if(e=no(e)){if("function"!=typeof Ce)throw Error(i(280));var t=e.stateNode;t&&(t=oo(t),Ce(e.stateNode,e.type,t))}}function Ie(e){_e?Ne?Ne.push(e):Ne=[e]:_e=e}function Oe(){if(_e){var e=_e,t=Ne;if(Ne=_e=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,o){return e(t,n,r,o)}function Me(){}var je=Pe,Re=!1,Le=!1;function ze(){null===_e&&null===Ne||(Me(),Oe())}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var r=oo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Ue=!1;if(d)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(me){Ue=!1}function Be(e,t,n,r,o,a,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var $e=!1,qe=null,He=!1,Ge=null,Ke={onError:function(e){$e=!0,qe=e}};function Ye(e,t,n,r,o,a,i,s,l){$e=!1,qe=null,Be.apply(Ke,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(We(e)!==e)throw Error(i(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Je(o),e;if(a===r)return Je(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,ot=!1,at=[],it=null,st=null,lt=null,ct=new Map,ut=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":it=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function mt(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e=ft(t,n,r,o,a),null!==t&&null!==(t=no(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function gt(e){var t=to(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=no(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){bt(e)&&n.delete(t)}function vt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=no(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==it&&bt(it)&&(it=null),null!==st&&bt(st)&&(st=null),null!==lt&&bt(lt)&&(lt=null),ct.forEach(yt),ut.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vt)))}function xt(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==it&&wt(it,e),null!==st&&wt(st,e),null!==lt&&wt(lt,e),ct.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},St={},Tt={};function Ct(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return St[e]=n[t];return e}d&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var _t=Ct("animationend"),Nt=Ct("animationiteration"),At=Ct("animationstart"),It=Ct("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",_t,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",It,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Pt.set(r,t),Ot.set(r,o),c(o,[r])}}(0,a.unstable_now)();var jt=8;function Rt(e){if(1&e)return jt=15,1;if(2&e)return jt=14,2;if(4&e)return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):32&e?(jt=11,32):0!=(t=192&e)?(jt=10,t):256&e?(jt=9,256):0!=(t=3584&e)?(jt=8,t):4096&e?(jt=7,4096):0!=(t=4186112&e)?(jt=6,t):0!=(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):134217728&e?(jt=3,134217728):0!=(t=805306368&e)?(jt=2,t):1073741824&e?(jt=1,1073741824):(jt=8,e)}function Lt(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,o=0,a=e.expiredLanes,i=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,o=jt=15;else if(0!=(a=134217727&n)){var l=a&~i;0!==l?(r=Rt(l),o=jt):0!=(s&=a)&&(r=Rt(s),o=jt)}else 0!=(a=n&~i)?(r=Rt(a),o=jt):0!==s&&(r=Rt(s),o=jt);if(0===r)return 0;if(r=n&((0>(r=31-$t(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&!(t&i)){if(Rt(t),o<=jt)return t;jt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-$t(t)),r|=e[n],t&=~o;return r}function zt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ft(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Ft(10,t):e;case 10:return 0===(e=Ut(192&~t))?Ft(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&0===(e=Ut(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function Ut(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-$t(t)]=n}var $t=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Ht|0)|0},qt=Math.log,Ht=Math.LN2,Gt=a.unstable_UserBlockingPriority,Kt=a.unstable_runWithPriority,Yt=!0;function Wt(e,t,n,r){Re||Me();var o=Jt,a=Re;Re=!0;try{De(o,e,t,n,r)}finally{(Re=a)||ze()}}function Qt(e,t,n,r){Kt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var o;if(Yt)if((o=!(4&t))&&0<at.length&&-1<ht.indexOf(e))e=ft(null,e,t,n,r),at.push(e);else{var a=Xt(e,t,n,r);if(null===a)o&&pt(e,r);else{if(o){if(-1<ht.indexOf(e))return e=ft(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,o){switch(t){case"focusin":return it=mt(it,e,t,n,r,o),!0;case"dragenter":return st=mt(st,e,t,n,r,o),!0;case"mouseover":return lt=mt(lt,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return ct.set(a,mt(ct.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,ut.set(a,mt(ut.get(a)||null,e,t,n,r,o)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}Mr(e,t,r,null,n)}}}function Xt(e,t,n,r){var o=Te(r);if(null!==(o=to(o))){var a=We(o);if(null===a)o=null;else{var i=a.tag;if(13===i){if(null!==(o=Qe(a)))return o;o=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return Mr(e,t,r,o,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return tn=o.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?on:an,this.isPropagationStopped=an,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),fn=o({},dn,{view:0,detail:0}),pn=sn(fn),mn=o({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(mn),bn=sn(o({},mn,{dataTransfer:0})),yn=sn(o({},fn,{relatedTarget:0})),vn=sn(o({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=o({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),kn=sn(o({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function _n(){return Cn}var Nn=o({},fn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Nn),In=sn(o({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(o({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Pn=sn(o({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=o({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Dn),jn=[9,13,27,32],Rn=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var zn=d&&"TextEvent"in window&&!Ln,Fn=d&&(!Rn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Rr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Wn=null;function Qn(e){Nr(e,0)}function Jn(e){if(J(ro(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Yn&&(Yn.detachEvent("onpropertychange",or),Wn=Yn=null)}function or(e){if("value"===e.propertyName&&Jn(Wn)){var t=[];if(Kn(t,Wn,e,Te(e)),e=Qn,Re)e(t);else{Re=!0;try{Pe(e,t)}finally{Re=!1,ze()}}}}function ar(e,t,n){"focusin"===e?(rr(),Wn=n,(Yn=t).attachEvent("onpropertychange",or)):"focusout"===e&&rr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Wn)}function sr(e,t){if("click"===e)return Jn(t)}function lr(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ur=Object.prototype.hasOwnProperty;function dr(e,t){if(cr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var br=d&&"documentMode"in document&&11>=document.documentMode,yr=null,vr=null,wr=null,xr=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==yr||yr!==X(r)||(r="selectionStart"in(r=yr)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Rr(vr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Pt.set(Er[Sr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if(Ye.apply(this,arguments),$e){if(!$e)throw Error(i(198));var u=qe;$e=!1,qe=null,He||(He=!0,Ge=u)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;_r(o,s,c),a=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;_r(o,s,c),a=l}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Ar(e,t){var n=ao(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Ir]||(e[Ir]=!0,s.forEach((function(t){Cr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;o|=2,a=r}var i=ao(a),s=e+"__"+(t?"capture":"bubble");i.has(s)||(t&&(o|=4),Dr(a,e,o,t),i.add(s))}function Dr(e,t,n,r){var o=Pt.get(t);switch(void 0===o?2:o){case 0:o=Wt;break;case 1:o=Qt;break;default:o=Jt}n=o.bind(null,t,n,e),o=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,o){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=to(s)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Le)return e();Le=!0;try{return je(e,t,n)}finally{Le=!1,ze()}}((function(){var r=a,o=Te(n),i=[];e:{var s=Ot.get(e);if(void 0!==s){var l=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case _t:case Nt:case At:l=vn;break;case It:l=Pn;break;case"scroll":l=pn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=Fe(p,h))&&u.push(jr(p,m,f))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,o),i.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||16&t||!(c=n.relatedTarget||n.fromElement)||!to(c)&&!c[Zr])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?to(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=gn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:ro(l),f=null==c?s:ro(c),(s=new u(m,p+"leave",l,n,o)).target=d,s.relatedTarget=f,m=null,to(o)===r&&((u=new u(h,p+"enter",c,n,o)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Lr(f))p++;for(f=0,m=h;m;m=Lr(m))f++;for(;0<p-f;)u=Lr(u),p--;for(;0<f-p;)h=Lr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Lr(u),h=Lr(h)}u=null}else u=null;null!==l&&zr(i,s,l,u,!1),null!==c&&null!==d&&zr(i,d,c,u,!0)}if("select"===(l=(s=r?ro(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Gn(s))if(Zn)g=lr;else{g=ir;var b=ar}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(i,g,n,o):(b&&b(e,s,r),"focusout"===e&&(b=s._wrapperState)&&b.controlled&&"number"===s.type&&oe(s,"number",s.value)),b=r?ro(r):window,e){case"focusin":(Gn(b)||"true"===b.contentEditable)&&(yr=b,vr=r,wr=null);break;case"focusout":wr=vr=yr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,kr(i,n,o);break;case"selectionchange":if(br)break;case"keydown":case"keyup":kr(i,n,o)}var y;if(Rn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else qn?Bn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==v?"onCompositionEnd"===v&&qn&&(y=nn()):(en="value"in(Zt=o)?Zt.value:Zt.textContent,qn=!0)),0<(b=Rr(r,v)).length&&(v=new kn(v,e,null,n,o),i.push({event:v,listeners:b}),(y||null!==(y=$n(n)))&&(v.data=y))),(y=zn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Rn&&Bn(e,t)?(e=nn(),tn=en=Zt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Rr(r,"onBeforeInput")).length&&(o=new kn("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=y)}Nr(i,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Fe(e,n))&&r.unshift(jr(e,a,o)),null!=(a=Fe(e,t))&&r.push(jr(e,a,o))),e=e.return}return r}function Lr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Fe(n,a))&&i.unshift(jr(n,l,s)):o||null!=(l=Fe(n,a))&&i.push(jr(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function Fr(){}var Ur=null,Vr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function $r(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"==typeof setTimeout?setTimeout:void 0,Hr="function"==typeof clearTimeout?clearTimeout:void 0;function Gr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Wr=0,Qr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Qr,Xr="__reactProps$"+Qr,Zr="__reactContainer$"+Qr,eo="__reactEvents$"+Qr;function to(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Jr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function no(e){return!(e=e[Jr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ro(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function oo(e){return e[Xr]||null}function ao(e){var t=e[eo];return void 0===t&&(t=e[eo]=new Set),t}var io=[],so=-1;function lo(e){return{current:e}}function co(e){0>so||(e.current=io[so],io[so]=null,so--)}function uo(e,t){so++,io[so]=e.current,e.current=t}var ho={},fo=lo(ho),po=lo(!1),mo=ho;function go(e,t){var n=e.type.contextTypes;if(!n)return ho;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bo(e){return null!=e.childContextTypes}function yo(){co(po),co(fo)}function vo(e,t,n){if(fo.current!==ho)throw Error(i(168));uo(fo,t),uo(po,n)}function wo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(i(108,K(t)||"Unknown",a));return o({},n,r)}function xo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ho,mo=fo.current,uo(fo,e),uo(po,po.current),!0}function ko(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=wo(e,t,mo),r.__reactInternalMemoizedMergedChildContext=e,co(po),co(fo),uo(fo,e)):co(po),uo(po,n)}var Eo=null,So=null,To=a.unstable_runWithPriority,Co=a.unstable_scheduleCallback,_o=a.unstable_cancelCallback,No=a.unstable_shouldYield,Ao=a.unstable_requestPaint,Io=a.unstable_now,Oo=a.unstable_getCurrentPriorityLevel,Po=a.unstable_ImmediatePriority,Do=a.unstable_UserBlockingPriority,Mo=a.unstable_NormalPriority,jo=a.unstable_LowPriority,Ro=a.unstable_IdlePriority,Lo={},zo=void 0!==Ao?Ao:function(){},Fo=null,Uo=null,Vo=!1,Bo=Io(),$o=1e4>Bo?Io:function(){return Io()-Bo};function qo(){switch(Oo()){case Po:return 99;case Do:return 98;case Mo:return 97;case jo:return 96;case Ro:return 95;default:throw Error(i(332))}}function Ho(e){switch(e){case 99:return Po;case 98:return Do;case 97:return Mo;case 96:return jo;case 95:return Ro;default:throw Error(i(332))}}function Go(e,t){return e=Ho(e),To(e,t)}function Ko(e,t,n){return e=Ho(e),Co(e,t,n)}function Yo(){if(null!==Uo){var e=Uo;Uo=null,_o(e)}Wo()}function Wo(){if(!Vo&&null!==Fo){Vo=!0;var e=0;try{var t=Fo;Go(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fo=null}catch(t){throw null!==Fo&&(Fo=Fo.slice(e+1)),Co(Po,Yo),t}finally{Vo=!1}}}var Qo=x.ReactCurrentBatchConfig;function Jo(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xo=lo(null),Zo=null,ea=null,ta=null;function na(){ta=ea=Zo=null}function ra(e){var t=Xo.current;co(Xo),e.type._context._currentValue=t}function oa(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zo=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Ri=!0),e.firstContext=null)}function ia(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zo)throw Error(i(308));ea=t,Zo.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function la(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function da(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fa(e,t,n,r){var a=e.updateQueue;sa=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?i=u:s.next=u,s=c;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=c)}}if(null!==i){for(h=a.baseState,s=0,d=u=c=null;;){l=i.lane;var f=i.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,m=i;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,l);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=m.payload)?p.call(f,h,l):p))break e;h=o({},h,l);break e;case 2:sa=!0}}null!==i.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[i]:l.push(i))}else f={eventTime:f,lane:l,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(u=d=f,c=h):d=d.next=f,s|=l;if(null===(i=i.next)){if(null===(l=a.shared.pending))break;i=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===d&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,Fs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var ma=(new r.Component).refs;function ga(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ba={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ul(),o=dl(e),a=ua(r,o);a.payload=t,null!=n&&(a.callback=n),da(e,a),hl(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ul(),o=dl(e),a=ua(r,o);a.tag=1,a.payload=t,null!=n&&(a.callback=n),da(e,a),hl(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),r=dl(e),o=ua(n,r);o.tag=2,null!=t&&(o.callback=t),da(e,o),hl(e,r,n)}};function ya(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!(t.prototype&&t.prototype.isPureReactComponent&&dr(n,r)&&dr(o,a))}function va(e,t,n){var r=!1,o=ho,a=t.contextType;return"object"==typeof a&&null!==a?a=ia(a):(o=bo(t)?mo:fo.current,a=(r=null!=(r=t.contextTypes))?go(e,o):ho),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function xa(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=ma,la(e);var a=t.contextType;"object"==typeof a&&null!==a?o.context=ia(a):(a=bo(t)?mo:fo.current,o.context=go(e,a)),fa(e,n,o,r),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(ga(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ba.enqueueReplaceState(o,o.state,null),fa(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4)}var ka=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===ma&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ta(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=ql(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Yl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Hl(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Gl(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Yl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Hl(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Wl(t,e.mode,n)).return=e,t}if(ka(t)||B(t))return(t=Gl(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===o?n.type===S?d(e,t,n.props.children,r,o):c(e,t,n,r):null;case E:return n.key===o?u(e,t,n,r):null}if(ka(n)||B(n))return null!==o?null:d(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===S?d(t,e,r.props.children,o,r.key):c(t,e,r,o);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(ka(r)||B(r))return d(t,e=e.get(n)||null,r,o,null);Sa(t,r)}return null}function m(o,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var b=f(o,d,s[m],l);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(o,d),i=a(b,i,m),null===u?c=b:u.sibling=b,u=b,d=g}if(m===s.length)return n(o,d),c;if(null===d){for(;m<s.length;m++)null!==(d=h(o,s[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(o,d);m<s.length;m++)null!==(g=p(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),c}function g(o,s,l,c){var u=B(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,b=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var v=f(o,m,y.value,c);if(null===v){null===m&&(m=b);break}e&&m&&null===v.alternate&&t(o,m),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v,m=b}if(y.done)return n(o,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=p(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),u}return function(e,r,a,l){var c="object"==typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var u="object"==typeof a&&null!==a;if(u)switch(a.$$typeof){case k:e:{for(u=a.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=o(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=o(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Gl(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Hl(a.type,a.key,a.props,null,e.mode,l)).ref=Ea(e,r,a),l.return=e,e=l)}return s(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=o(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Wl(a,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,a)).return=e,e=r):(n(e,r),(r=Yl(a,e.mode,l)).return=e,e=r),s(e);if(ka(a))return m(e,r,a,l);if(B(a))return g(e,r,a,l);if(u&&Sa(e,a),void 0===a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,K(e.type)||"Component"))}return n(e,r)}}var Ca=Ta(!0),_a=Ta(!1),Na={},Aa=lo(Na),Ia=lo(Na),Oa=lo(Na);function Pa(e){if(e===Na)throw Error(i(174));return e}function Da(e,t){switch(uo(Oa,t),uo(Ia,e),uo(Aa,Na),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}co(Aa),uo(Aa,t)}function Ma(){co(Aa),co(Ia),co(Oa)}function ja(e){Pa(Oa.current);var t=Pa(Aa.current),n=fe(t,e.type);t!==n&&(uo(Ia,e),uo(Aa,n))}function Ra(e){Ia.current===e&&(co(Aa),co(Ia))}var La=lo(0);function za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Ua=null,Va=!1;function Ba(e,t){var n=Bl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function $a(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qa(e){if(Va){var t=Ua;if(t){var n=t;if(!$a(e,t)){if(!(t=Kr(n.nextSibling))||!$a(e,t))return e.flags=-1025&e.flags|2,Va=!1,void(Fa=e);Ba(Fa,n)}Fa=e,Ua=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Va=!1,Fa=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Ga(e){if(e!==Fa)return!1;if(!Va)return Ha(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!$r(t,e.memoizedProps))for(t=Ua;t;)Ba(e,t),t=Kr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Fa?Kr(e.stateNode.nextSibling):null;return!0}function Ka(){Ua=Fa=null,Va=!1}var Ya=[];function Wa(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Qa=x.ReactCurrentDispatcher,Ja=x.ReactCurrentBatchConfig,Xa=0,Za=null,ei=null,ti=null,ni=!1,ri=!1;function oi(){throw Error(i(321))}function ai(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ii(e,t,n,r,o,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qa.current=null===e||null===e.memoizedState?Pi:Di,e=n(r,o),ri){a=0;do{if(ri=!1,!(25>a))throw Error(i(301));a+=1,ti=ei=null,t.updateQueue=null,Qa.current=Mi,e=n(r,o)}while(ri)}if(Qa.current=Oi,t=null!==ei&&null!==ei.next,Xa=0,ti=ei=Za=null,ni=!1,t)throw Error(i(300));return e}function si(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ti?Za.memoizedState=ti=e:ti=ti.next=e,ti}function li(){if(null===ei){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=ei.next;var t=null===ti?Za.memoizedState:ti.next;if(null!==t)ti=t,ei=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ei=e).memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},null===ti?Za.memoizedState=ti=e:ti=ti.next=e}return ti}function ci(e,t){return"function"==typeof t?t(e):t}function ui(e){var t=li(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ei,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var l=s=a=null,c=o;do{var u=c.lane;if((Xa&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,a=r):l=l.next=d,Za.lanes|=u,Fs|=u}c=c.next}while(null!==c&&c!==o);null===l?a=r:l.next=s,cr(r,t.memoizedState)||(Ri=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function di(e){var t=li(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);cr(a,t.memoizedState)||(Ri=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function hi(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Ya.push(t))),e)return n(t._source);throw Ya.push(t),Error(i(350))}function fi(e,t,n,r){var o=Os;if(null===o)throw Error(i(349));var a=t._getVersion,s=a(t._source),l=Qa.current,c=l.useState((function(){return hi(o,t,n)})),u=c[1],d=c[0];c=ti;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var g=Za;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=a(t._source);if(!cr(s,e)){e=n(t._source),cr(d,e)||(u(e),e=dl(g),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,i=e;0<i;){var l=31-$t(i),c=1<<l;r[l]|=e,i&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=dl(g);o.mutableReadLanes|=r&o.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),cr(p,n)&&cr(m,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ci,lastRenderedState:d}).dispatch=u=Ii.bind(null,Za,e),c.queue=e,c.baseQueue=null,d=hi(o,t,n),c.memoizedState=c.baseState=d),d}function pi(e,t,n){return fi(li(),e,t,n)}function mi(e){var t=si();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e}).dispatch=Ii.bind(null,Za,e),[t.memoizedState,e]}function gi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function bi(e){return e={current:e},si().memoizedState=e}function yi(){return li().memoizedState}function vi(e,t,n,r){var o=si();Za.flags|=e,o.memoizedState=gi(1|t,n,void 0,void 0===r?null:r)}function wi(e,t,n,r){var o=li();r=void 0===r?null:r;var a=void 0;if(null!==ei){var i=ei.memoizedState;if(a=i.destroy,null!==r&&ai(r,i.deps))return void gi(t,n,a,r)}Za.flags|=e,o.memoizedState=gi(1|t,n,a,r)}function xi(e,t){return vi(516,4,e,t)}function ki(e,t){return wi(516,4,e,t)}function Ei(e,t){return wi(4,2,e,t)}function Si(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ti(e,t,n){return n=null!=n?n.concat([e]):null,wi(4,2,Si.bind(null,t,e),n)}function Ci(){}function _i(e,t){var n=li();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ai(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ni(e,t){var n=li();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ai(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ai(e,t){var n=qo();Go(98>n?98:n,(function(){e(!0)})),Go(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ii(e,t,n){var r=ul(),o=dl(e),a={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),t.pending=a,i=e.alternate,e===Za||null!==i&&i===Za)ri=ni=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=i(s,n);if(a.eagerReducer=i,a.eagerState=l,cr(l,s))return}catch(e){}hl(e,o,r)}}var Oi={readContext:ia,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useOpaqueIdentifier:oi,unstable_isNewReconciler:!1},Pi={readContext:ia,useCallback:function(e,t){return si().memoizedState=[e,void 0===t?null:t],e},useContext:ia,useEffect:xi,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,vi(4,2,Si.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vi(4,2,e,t)},useMemo:function(e,t){var n=si();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=si();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ii.bind(null,Za,e),[r.memoizedState,e]},useRef:bi,useState:mi,useDebugValue:Ci,useDeferredValue:function(e){var t=mi(e),n=t[0],r=t[1];return xi((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mi(!1),t=e[0];return bi(e=Ai.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=si();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fi(r,e,t,n)},useOpaqueIdentifier:function(){if(Va){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Wr++).toString(36))),Error(i(355))})),n=mi(t)[1];return!(2&Za.mode)&&(Za.flags|=516,gi(5,(function(){n("r:"+(Wr++).toString(36))}),void 0,null)),t}return mi(t="r:"+(Wr++).toString(36)),t},unstable_isNewReconciler:!1},Di={readContext:ia,useCallback:_i,useContext:ia,useEffect:ki,useImperativeHandle:Ti,useLayoutEffect:Ei,useMemo:Ni,useReducer:ui,useRef:yi,useState:function(){return ui(ci)},useDebugValue:Ci,useDeferredValue:function(e){var t=ui(ci),n=t[0],r=t[1];return ki((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=ui(ci)[0];return[yi().current,e]},useMutableSource:pi,useOpaqueIdentifier:function(){return ui(ci)[0]},unstable_isNewReconciler:!1},Mi={readContext:ia,useCallback:_i,useContext:ia,useEffect:ki,useImperativeHandle:Ti,useLayoutEffect:Ei,useMemo:Ni,useReducer:di,useRef:yi,useState:function(){return di(ci)},useDebugValue:Ci,useDeferredValue:function(e){var t=di(ci),n=t[0],r=t[1];return ki((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=di(ci)[0];return[yi().current,e]},useMutableSource:pi,useOpaqueIdentifier:function(){return di(ci)[0]},unstable_isNewReconciler:!1},ji=x.ReactCurrentOwner,Ri=!1;function Li(e,t,n,r){t.child=null===e?_a(t,null,n,r):Ca(t,e.child,n,r)}function zi(e,t,n,r,o){n=n.render;var a=t.ref;return aa(t,o),r=ii(e,t,n,r,a,o),null===e||Ri?(t.flags|=1,Li(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,rs(e,t,o))}function Fi(e,t,n,r,o,a){if(null===e){var i=n.type;return"function"!=typeof i||$l(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hl(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ui(e,t,i,r,o,a))}return i=e.child,o&a||(o=i.memoizedProps,!(n=null!==(n=n.compare)?n:dr)(o,r)||e.ref!==t.ref)?(t.flags|=1,(e=ql(i,r)).ref=t.ref,e.return=t,t.child=e):rs(e,t,a)}function Ui(e,t,n,r,o,a){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ri=!1,!(a&o))return t.lanes=e.lanes,rs(e,t,a);16384&e.flags&&(Ri=!0)}return $i(e,t,n,r,a)}function Vi(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(4&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wl(0,e),null;t.memoizedState={baseLanes:0},wl(0,null!==a?a.baseLanes:n)}else t.memoizedState={baseLanes:0},wl(0,n);else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,wl(0,r);return Li(e,t,o,n),t.child}function Bi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function $i(e,t,n,r,o){var a=bo(n)?mo:fo.current;return a=go(t,a),aa(t,o),n=ii(e,t,n,r,a,o),null===e||Ri?(t.flags|=1,Li(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,rs(e,t,o))}function qi(e,t,n,r,o){if(bo(n)){var a=!0;xo(t)}else a=!1;if(aa(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,n,r),xa(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=n.contextType;c="object"==typeof c&&null!==c?ia(c):go(t,c=bo(n)?mo:fo.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||l!==c)&&wa(t,i,r,c),sa=!1;var h=t.memoizedState;i.state=h,fa(t,r,i,o),l=t.memoizedState,s!==r||h!==l||po.current||sa?("function"==typeof u&&(ga(t,n,u,r),l=t.memoizedState),(s=sa||ya(t,n,s,r,h,l,c))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4)):("function"==typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4),r=!1)}else{i=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Jo(t.type,s),i.props=c,d=t.pendingProps,h=i.context,l="object"==typeof(l=n.contextType)&&null!==l?ia(l):go(t,l=bo(n)?mo:fo.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==d||h!==l)&&wa(t,i,r,l),sa=!1,h=t.memoizedState,i.state=h,fa(t,r,i,o);var p=t.memoizedState;s!==d||h!==p||po.current||sa?("function"==typeof f&&(ga(t,n,f,r),p=t.memoizedState),(c=sa||ya(t,n,c,r,h,p,l))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Hi(e,t,n,r,a,o)}function Hi(e,t,n,r,o,a){Bi(e,t);var i=!!(64&t.flags);if(!r&&!i)return o&&ko(t,n,!1),rs(e,t,a);r=t.stateNode,ji.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,s,a)):Li(e,t,s,a),t.memoizedState=r.state,o&&ko(t,n,!0),t.child}function Gi(e){var t=e.stateNode;t.pendingContext?vo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vo(0,t.context,!1),Da(e,t.containerInfo)}var Ki,Yi,Wi,Qi,Ji={dehydrated:null,retryLane:0};function Xi(e,t,n){var r,o=t.pendingProps,a=La.current,i=!1;return(r=!!(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),uo(La,1&a),null===e?(void 0!==o.fallback&&qa(t),e=o.children,a=o.fallback,i?(e=Zi(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ji,e):"number"==typeof o.unstable_expectedLoadTime?(e=Zi(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ji,t.lanes=33554432,e):((n=Kl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(o=function(e,t,n,r,o){var a=t.mode,i=e.child;e=i.sibling;var s={mode:"hidden",children:n};return 2&a||t.child===i?n=ql(i,s):((n=t.child).childLanes=0,n.pendingProps=s,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?r=ql(e,r):(r=Gl(r,a,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,o.children,o.fallback,n),i=t.child,a=e.child.memoizedState,i.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=Ji,o):(n=function(e,t,n,r){var o=e.child;return e=o.sibling,n=ql(o,{mode:"visible",children:n}),!(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,o.children,n),t.memoizedState=null,n))}function Zi(e,t,n,r){var o=e.mode,a=e.child;return t={mode:"hidden",children:t},2&o||null===a?a=Kl(t,o,0,null):(a.childLanes=0,a.pendingProps=t),n=Gl(n,o,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),oa(e.return,t)}function ts(e,t,n,r,o,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o,i.lastEffect=a)}function ns(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Li(e,t,r.children,n),2&(r=La.current))r=1&r|2,t.flags|=64;else{if(null!==e&&64&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&es(e,n);else if(19===e.tag)es(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(uo(La,r),2&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===za(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ts(t,!1,o,n,a,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===za(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ts(t,!0,n,null,a,t.lastEffect);break;case"together":ts(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function rs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,n&t.childLanes){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=ql(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ql(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Va)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function as(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return bo(t.type)&&yo(),null;case 3:return Ma(),co(po),co(fo),Wa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ga(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Yi(t),null;case 5:Ra(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Wi(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=Pa(Aa.current),Ga(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Xr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":le(r,s),Ar("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"==typeof a?r.textContent!==a&&(e=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(e=["children",""+a]):l.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Fr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Ki(e,t,!1,!1),t.stateNode=e,c=Se(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=o({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":le(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Ee(n,a);var u=a;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?xe(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&be(e,d):"number"==typeof d&&be(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Ar("scroll",e):null!=d&&w(e,s,d,c))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ie(e,!!r.multiple,s,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Fr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qi(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));n=Pa(Oa.current),Pa(Aa.current),Ga(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return co(La),r=t.memoizedState,64&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ga(t):n=null!==e.memoizedState,r&&!n&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&La.current?0===Rs&&(Rs=3):(0!==Rs&&3!==Rs||(Rs=4),null===Os||!(134217727&Fs)&&!(134217727&Us)||gl(Os,Ds))),(r||n)&&(t.flags|=4),null);case 4:return Ma(),Yi(t),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(co(La),null===(r=t.memoizedState))return null;if(s=!!(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Rs||null!==e&&64&e.flags)for(e=t.child;null!==e;){if(null!==(c=za(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return uo(La,1&La.current|2),t.child}e=e.sibling}null!==r.tail&&$o()>qs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=za(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Va)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*$o()-r.renderingStartTime>qs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=$o(),n.sibling=null,t=La.current,uo(La,s?1&t|2:1&t),n):null;case 23:case 24:return xl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function is(e){switch(e.tag){case 1:bo(e.type)&&yo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ma(),co(po),co(fo),Wa(),64&(t=e.flags))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return Ra(e),null;case 13:return co(La),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return co(La),null;case 4:return Ma(),null;case 10:return ra(e),null;case 23:case 24:return xl(),null;default:return null}}function ss(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o}}function ls(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ki=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yi=function(){},Wi=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var i,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Fr)}for(d in Ee(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var c=a[d];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(i in c)!c.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&c[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Ar("scroll",e),s||c===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===j?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Qi=function(e,t,n,r){n!==r&&(t.flags|=4)};var cs="function"==typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=ua(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Ws=r),ls(0,t)},n}function ds(e,t,n){(n=ua(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return ls(0,t),r(o)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"==typeof WeakSet?WeakSet:Set;function fs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){zl(e,t)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Jo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(i(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;r=o.next,4&(o=o.tag)&&1&o&&(jl(n,e),Ml(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Jo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(i(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=null!=o&&o.hasOwnProperty("display")?o.display:null,r.style.display=we("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(So&&"function"==typeof So.onCommitFiberUnmount)try{So.onCommitFiberUnmount(Eo,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,void 0!==o)if(4&r)jl(t,n);else{r=t;try{o()}catch(e){zl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(fs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){zl(t,e)}break;case 5:fs(t);break;case 4:Es(e,t)}}function ys(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(vs(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.flags&&(be(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):ks(e,n,t)}function xs(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Fr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function ks(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(i(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var s=e,l=o,c=l;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(bs(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{!(3&~r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,o),t=Se(e,r),o=0;o<a.length;o+=2){var s=a[o],l=a[o+1];"style"===s?xe(n,l):"dangerouslySetInnerHTML"===s?ge(n,l):"children"===s?be(n,l):w(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?ie(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?ie(n,!!r.multiple,r.defaultValue,!0):ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&($s=$o(),gs(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(i(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var r=Ul.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var _s=Math.ceil,Ns=x.ReactCurrentDispatcher,As=x.ReactCurrentOwner,Is=0,Os=null,Ps=null,Ds=0,Ms=0,js=lo(0),Rs=0,Ls=null,zs=0,Fs=0,Us=0,Vs=0,Bs=null,$s=0,qs=1/0;function Hs(){qs=$o()+500}var Gs,Ks=null,Ys=!1,Ws=null,Qs=null,Js=!1,Xs=null,Zs=90,el=[],tl=[],nl=null,rl=0,ol=null,al=-1,il=0,sl=0,ll=null,cl=!1;function ul(){return 48&Is?$o():-1!==al?al:al=$o()}function dl(e){if(!(2&(e=e.mode)))return 1;if(!(4&e))return 99===qo()?1:2;if(0===il&&(il=zs),0!==Qo.transition){0!==sl&&(sl=null!==Bs?Bs.pendingLanes:0),e=il;var t=4186112&~sl;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=qo(),e=Ft(4&Is&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),il)}function hl(e,t,n){if(50<rl)throw rl=0,ol=null,Error(i(185));if(null===(e=fl(e,t)))return null;Bt(e,t,n),e===Os&&(Us|=t,4===Rs&&gl(e,Ds));var r=qo();1===t?8&Is&&!(48&Is)?bl(e):(pl(e,n),0===Is&&(Hs(),Yo())):(!(4&Is)||98!==r&&99!==r||(null===nl?nl=new Set([e]):nl.add(e)),pl(e,n)),Bs=e}function fl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-$t(s),c=1<<l,u=a[l];if(-1===u){if(!(c&r)||c&o){u=t,Rt(c);var d=jt;a[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(r=Lt(e,e===Os?Ds:0),t=jt,0===r)null!==n&&(n!==Lo&&_o(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Lo&&_o(n)}15===t?(n=bl.bind(null,e),null===Fo?(Fo=[n],Uo=Co(Po,Wo)):Fo.push(n),n=Lo):14===t?n=Ko(99,bl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),n=Ko(n,ml.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ml(e){if(al=-1,sl=il=0,48&Is)throw Error(i(327));var t=e.callbackNode;if(Dl()&&e.callbackNode!==t)return null;var n=Lt(e,e===Os?Ds:0);if(0===n)return null;var r=n,o=Is;Is|=16;var a=Sl();for(Os===e&&Ds===r||(Hs(),kl(e,r));;)try{_l();break}catch(t){El(e,t)}if(na(),Ns.current=a,Is=o,null!==Ps?r=0:(Os=null,Ds=0,r=Rs),zs&Us)kl(e,0);else if(0!==r){if(2===r&&(Is|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=zt(e))&&(r=Tl(e,n))),1===r)throw t=Ls,kl(e,0),gl(e,n),pl(e,$o()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(i(345));case 2:case 5:Il(e);break;case 3:if(gl(e,n),(62914560&n)===n&&10<(r=$s+500-$o())){if(0!==Lt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=qr(Il.bind(null,e),r);break}Il(e);break;case 4:if(gl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var s=31-$t(n);a=1<<s,(s=r[s])>o&&(o=s),n&=~a}if(n=o,10<(n=(120>(n=$o()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_s(n/1960))-n)){e.timeoutHandle=qr(Il.bind(null,e),n);break}Il(e);break;default:throw Error(i(329))}}return pl(e,$o()),e.callbackNode===t?ml.bind(null,e):null}function gl(e,t){for(t&=~Vs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function bl(e){if(48&Is)throw Error(i(327));if(Dl(),e===Os&&e.expiredLanes&Ds){var t=Ds,n=Tl(e,t);zs&Us&&(n=Tl(e,t=Lt(e,t)))}else n=Tl(e,t=Lt(e,0));if(0!==e.tag&&2===n&&(Is|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=zt(e))&&(n=Tl(e,t))),1===n)throw n=Ls,kl(e,0),gl(e,t),pl(e,$o()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Il(e),pl(e,$o()),null}function yl(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Hs(),Yo())}}function vl(e,t){var n=Is;Is&=-2,Is|=8;try{return e(t)}finally{0===(Is=n)&&(Hs(),Yo())}}function wl(e,t){uo(js,Ms),Ms|=t,zs|=t}function xl(){Ms=js.current,co(js)}function kl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&yo();break;case 3:Ma(),co(po),co(fo),Wa();break;case 5:Ra(r);break;case 4:Ma();break;case 13:case 19:co(La);break;case 10:ra(r);break;case 23:case 24:xl()}n=n.return}Os=e,Ps=ql(e.current,null),Ds=Ms=zs=t,Rs=0,Ls=null,Vs=Us=Fs=0}function El(e,t){for(;;){var n=Ps;try{if(na(),Qa.current=Oi,ni){for(var r=Za.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ni=!1}if(Xa=0,ti=ei=Za=null,ri=!1,As.current=null,null===n||null===n.return){Rs=1,Ls=t,Ps=null;break}e:{var a=e,i=n.return,s=n,l=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(!(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=!!(1&La.current),h=i;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var g=h.updateQueue;if(null===g){var b=new Set;b.add(c),h.updateQueue=b}else g.add(c);if(!(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ua(-1,1);y.tag=2,da(s,y)}s.lanes|=1;break e}l=void 0,s=t;var v=a.pingCache;if(null===v?(v=a.pingCache=new cs,l=new Set,v.set(c,l)):void 0===(l=v.get(c))&&(l=new Set,v.set(c,l)),!l.has(s)){l.add(s);var w=Fl.bind(null,a,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Rs&&(Rs=2),l=ss(l,s),h=i;do{switch(h.tag){case 3:a=l,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,us(0,a,t));break e;case 1:a=l;var x=h.type,k=h.stateNode;if(!(64&h.flags||"function"!=typeof x.getDerivedStateFromError&&(null===k||"function"!=typeof k.componentDidCatch||null!==Qs&&Qs.has(k)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Al(n)}catch(e){t=e,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function Sl(){var e=Ns.current;return Ns.current=Oi,null===e?Oi:e}function Tl(e,t){var n=Is;Is|=16;var r=Sl();for(Os===e&&Ds===t||kl(e,t);;)try{Cl();break}catch(t){El(e,t)}if(na(),Is=n,Ns.current=r,null!==Ps)throw Error(i(261));return Os=null,Ds=0,Rs}function Cl(){for(;null!==Ps;)Nl(Ps)}function _l(){for(;null!==Ps&&!No();)Nl(Ps)}function Nl(e){var t=Gs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Al(e):Ps=t,As.current=null}function Al(e){var t=e;do{var n=t.alternate;if(e=t.return,2048&t.flags){if(null!==(n=is(t)))return n.flags&=2047,void(Ps=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(null!==(n=as(n,t,Ms)))return void(Ps=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||1073741824&Ms||!(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&!(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Rs&&(Rs=5)}function Il(e){var t=qo();return Go(99,Ol.bind(null,e,t)),null}function Ol(e,t){do{Dl()}while(null!==Xs);if(48&Is)throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,a=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<a;){var c=31-$t(a),u=1<<c;o[c]=0,s[c]=-1,l[c]=-1,a&=~u}if(null!==nl&&!(24&r)&&nl.has(e)&&nl.delete(e),e===Os&&(Ps=Os=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(o=Is,Is|=32,As.current=null,Ur=Yt,gr(s=mr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,a=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var d=0,h=-1,f=-1,p=0,m=0,g=s,b=null;t:for(;;){for(var y;g!==l||0!==a&&3!==g.nodeType||(h=d+a),g!==c||0!==u&&3!==g.nodeType||(f=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)b=g,g=y;for(;;){if(g===s)break t;if(b===l&&++p===a&&(h=d),b===c&&++m===u&&(f=d),null!==(y=g.nextSibling))break;b=(g=b).parentNode}g=y}l=-1===h||-1===f?null:{start:h,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Vr={focusedElem:s,selectionRange:l},Yt=!1,ll=null,cl=!1,Ks=r;do{try{Pl()}catch(e){if(null===Ks)throw Error(i(330));zl(Ks,e),Ks=Ks.nextEffect}}while(null!==Ks);ll=null,Ks=r;do{try{for(s=e;null!==Ks;){var v=Ks.flags;if(16&v&&be(Ks.stateNode,""),128&v){var w=Ks.alternate;if(null!==w){var x=w.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&v){case 2:ws(Ks),Ks.flags&=-3;break;case 6:ws(Ks),Ks.flags&=-3,Ss(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Ss(Ks.alternate,Ks);break;case 4:Ss(Ks.alternate,Ks);break;case 8:Es(s,l=Ks);var k=l.alternate;ys(l),null!==k&&ys(k)}Ks=Ks.nextEffect}}catch(e){if(null===Ks)throw Error(i(330));zl(Ks,e),Ks=Ks.nextEffect}}while(null!==Ks);if(x=Vr,w=mr(),v=x.focusedElem,s=x.selectionRange,w!==v&&v&&v.ownerDocument&&pr(v.ownerDocument.documentElement,v)){null!==s&&gr(v)&&(w=s.start,void 0===(x=s.end)&&(x=w),"selectionStart"in v?(v.selectionStart=w,v.selectionEnd=Math.min(x,v.value.length)):(x=(w=v.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=v.textContent.length,k=Math.min(s.start,l),s=void 0===s.end?k:Math.min(s.end,l),!x.extend&&k>s&&(l=s,s=k,k=l),l=fr(v,k),a=fr(v,s),l&&a&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==a.node||x.focusOffset!==a.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),k>s?(x.addRange(w),x.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),x.addRange(w))))),w=[];for(x=v;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<w.length;v++)(x=w[v]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Yt=!!Ur,Vr=Ur=null,e.current=n,Ks=r;do{try{for(v=e;null!==Ks;){var E=Ks.flags;if(36&E&&ms(v,Ks.alternate,Ks),128&E){w=void 0;var S=Ks.ref;if(null!==S){var T=Ks.stateNode;Ks.tag,w=T,"function"==typeof S?S(w):S.current=w}}Ks=Ks.nextEffect}}catch(e){if(null===Ks)throw Error(i(330));zl(Ks,e),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,zo(),Is=o}else e.current=n;if(Js)Js=!1,Xs=e,Zs=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((E=Ks).sibling=null,E.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&(Qs=null),1===r?e===ol?rl++:(rl=0,ol=e):rl=0,n=n.stateNode,So&&"function"==typeof So.onCommitFiberRoot)try{So.onCommitFiberRoot(Eo,n,void 0,!(64&~n.current.flags))}catch(e){}if(pl(e,$o()),Ys)throw Ys=!1,e=Ws,Ws=null,e;return 8&Is||Yo(),null}function Pl(){for(;null!==Ks;){var e=Ks.alternate;cl||null===ll||(8&Ks.flags?Ze(Ks,ll)&&(cl=!0):13===Ks.tag&&Cs(e,Ks)&&Ze(Ks,ll)&&(cl=!0));var t=Ks.flags;256&t&&ps(e,Ks),!(512&t)||Js||(Js=!0,Ko(97,(function(){return Dl(),null}))),Ks=Ks.nextEffect}}function Dl(){if(90!==Zs){var e=97<Zs?97:Zs;return Zs=90,Go(e,Rl)}return!1}function Ml(e,t){el.push(t,e),Js||(Js=!0,Ko(97,(function(){return Dl(),null})))}function jl(e,t){tl.push(t,e),Js||(Js=!0,Ko(97,(function(){return Dl(),null})))}function Rl(){if(null===Xs)return!1;var e=Xs;if(Xs=null,48&Is)throw Error(i(331));var t=Is;Is|=32;var n=tl;tl=[];for(var r=0;r<n.length;r+=2){var o=n[r],a=n[r+1],s=o.destroy;if(o.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===a)throw Error(i(330));zl(a,e)}}for(n=el,el=[],r=0;r<n.length;r+=2){o=n[r],a=n[r+1];try{var l=o.create;o.destroy=l()}catch(e){if(null===a)throw Error(i(330));zl(a,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Is=t,Yo(),!0}function Ll(e,t,n){da(e,t=us(0,t=ss(n,t),1)),t=ul(),null!==(e=fl(e,1))&&(Bt(e,1,t),pl(e,t))}function zl(e,t){if(3===e.tag)Ll(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ll(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){var o=ds(n,e=ss(t,e),1);if(da(n,o),o=ul(),null!==(n=fl(n,1)))Bt(n,1,o),pl(n,o);else if("function"==typeof r.componentDidCatch&&(null===Qs||!Qs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Fl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ds&n)===n&&(4===Rs||3===Rs&&(62914560&Ds)===Ds&&500>$o()-$s?kl(e,0):Vs|=n),pl(e,t)}function Ul(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(2&(t=e.mode)?4&t?(0===il&&(il=zs),0===(t=Ut(62914560&~il))&&(t=4194304)):t=99===qo()?1:2:t=1),n=ul(),null!==(e=fl(e,t))&&(Bt(e,t,n),pl(e,n))}function Vl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Bl(e,t,n,r){return new Vl(e,t,n,r)}function $l(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ql(e,t){var n=e.alternate;return null===n?((n=Bl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)$l(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Gl(n.children,o,a,t);case R:s=8,o|=16;break;case T:s=8,o|=1;break;case C:return(e=Bl(12,n,t,8|o)).elementType=C,e.type=C,e.lanes=a,e;case I:return(e=Bl(13,n,t,o)).type=I,e.elementType=I,e.lanes=a,e;case O:return(e=Bl(19,n,t,o)).elementType=O,e.lanes=a,e;case L:return Kl(n,o,a,t);case z:return(e=Bl(24,n,t,o)).elementType=z,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case N:s=9;break e;case A:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e;case M:s=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Bl(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Gl(e,t,n,r){return(e=Bl(7,e,r,t)).lanes=n,e}function Kl(e,t,n,r){return(e=Bl(23,e,r,t)).elementType=L,e.lanes=n,e}function Yl(e,t,n){return(e=Bl(6,e,null,t)).lanes=n,e}function Wl(e,t,n){return(t=Bl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ql(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Jl(e,t,n,r){var o=t.current,a=ul(),s=dl(o);e:if(n){t:{if(We(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(bo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(i(171))}if(1===n.tag){var c=n.type;if(bo(c)){n=wo(n,c,l);break e}}n=l}else n=ho;return null===t.context?t.context=n:t.pendingContext=n,(t=ua(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),da(o,t),hl(o,s,a),s}function Xl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Zl(e,t),(e=e.alternate)&&Zl(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ql(e,t,null!=n&&!0===n.hydrate),t=Bl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,la(t),e[Zr]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(t=r[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=Xl(i);s.call(e)}}Jl(t,i,e,o)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),i=a._internalRoot,"function"==typeof o){var l=o;o=function(){var e=Xl(i);l.call(e)}}vl((function(){Jl(t,i,e,o)}))}return Xl(i)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Gs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||po.current)Ri=!0;else{if(!(n&r)){switch(Ri=!1,t.tag){case 3:Gi(t),Ka();break;case 5:ja(t);break;case 1:bo(t.type)&&xo(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;uo(Xo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return n&t.child.childLanes?Xi(e,t,n):(uo(La,1&La.current),null!==(t=rs(e,t,n))?t.sibling:null);uo(La,1&La.current);break;case 19:if(r=!!(n&t.childLanes),64&e.flags){if(r)return ns(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),uo(La,La.current),r)break;return null;case 23:case 24:return t.lanes=0,Vi(e,t,n)}return rs(e,t,n)}Ri=!!(16384&e.flags)}else Ri=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=go(t,fo.current),aa(t,n),o=ii(null,t,r,e,o,n),t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bo(r)){var a=!0;xo(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,la(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&ga(t,r,s,e),o.updater=ba,t.stateNode=o,o._reactInternals=t,xa(t,r,e,n),t=Hi(null,t,r,!0,a,n)}else t.tag=0,Li(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(a=o._init)(o._payload),t.type=o,a=t.tag=function(e){if("function"==typeof e)return $l(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(o),e=Jo(o,e),a){case 0:t=$i(null,t,o,e,n);break e;case 1:t=qi(null,t,o,e,n);break e;case 11:t=zi(null,t,o,e,n);break e;case 14:t=Fi(null,t,o,Jo(o.type,e),r,n);break e}throw Error(i(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,$i(e,t,r,o=t.elementType===r?o:Jo(r,o),n);case 1:return r=t.type,o=t.pendingProps,qi(e,t,r,o=t.elementType===r?o:Jo(r,o),n);case 3:if(Gi(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,ca(e,t),fa(t,r,null,n),(r=t.memoizedState.element)===o)Ka(),t=rs(e,t,n);else{if((a=(o=t.stateNode).hydrate)&&(Ua=Kr(t.stateNode.containerInfo.firstChild),Fa=t,a=Va=!0),a){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(a=e[o])._workInProgressVersionPrimary=e[o+1],Ya.push(a);for(n=_a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Li(e,t,r,n),Ka();t=t.child}return t;case 5:return ja(t),null===e&&qa(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,$r(r,o)?s=null:null!==a&&$r(r,a)&&(t.flags|=16),Bi(e,t),Li(e,t,s,n),t.child;case 6:return null===e&&qa(t),null;case 13:return Xi(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):Li(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,zi(e,t,r,o=t.elementType===r?o:Jo(r,o),n);case 7:return Li(e,t,t.pendingProps,n),t.child;case 8:case 12:return Li(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value;var l=t.type._context;if(uo(Xo,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0==(a=cr(l,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(s.children===o.children&&!po.current){t=rs(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&u.observedBits&a){1===l.tag&&((u=ua(-1,n&-n)).tag=2,da(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),oa(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Li(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(o=ia(o,a.unstable_observedBits)),t.flags|=1,Li(e,t,r,n),t.child;case 14:return a=Jo(o=t.type,t.pendingProps),Fi(e,t,o,a=Jo(o.type,a),r,n);case 15:return Ui(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Jo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,bo(r)?(e=!0,xo(t)):e=!1,aa(t,n),va(t,r,o),xa(t,r,o,n),Hi(null,t,r,!0,e,n);case 19:return ns(e,t,n);case 23:case 24:return Vi(e,t,n)}throw Error(i(156,t.tag))},tc.prototype.render=function(e){Jl(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Jl(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(hl(e,4,ul()),ec(e,4))},tt=function(e){13===e.tag&&(hl(e,67108864,ul()),ec(e,67108864))},nt=function(e){if(13===e.tag){var t=ul(),n=dl(e);hl(e,n,t),ec(e,n)}},rt=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=oo(r);if(!o)throw Error(i(90));J(r),ne(r,o)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},Pe=yl,De=function(e,t,n,r,o){var a=Is;Is|=4;try{return Go(98,e.bind(null,t,n,r,o))}finally{0===(Is=a)&&(Hs(),Yo())}},Me=function(){!(49&Is)&&(function(){if(null!==nl){var e=nl;nl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pl(e,$o())}))}Yo()}(),Dl())},je=function(e,t){var n=Is;Is|=2;try{return e(t)}finally{0===(Is=n)&&(Hs(),Yo())}};var ac={Events:[no,ro,oo,Ie,Oe,Dl,{current:!1}]},ic={findFiberByHostInstance:to,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sc={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Eo=lc.inject(sc),So=lc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ac,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Is;if(48&n)return e(t);Is|=1;try{if(e)return Go(99,e.bind(null,t))}finally{Is=n,Yo()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(i(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(i(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(i(40));return!!e._reactRootContainer&&(vl((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=yl,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return rc(e,t,n,!1,r)},t.version="17.0.2"},564:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"/* Login Component Styles */\n.login-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background-color: #f5f8fa;\n  padding: 20px;\n}\n\n.login-form {\n  background-color: white;\n  border-radius: 12px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n  padding: 30px;\n  width: 100%;\n  max-width: 420px;\n}\n\n.login-form h1 {\n  color: #0077ff;\n  text-align: center;\n  font-size: 28px;\n  margin-bottom: 25px;\n  margin-top: 0;\n}\n\n.login-form h2 {\n  color: #444;\n  margin-top: 10px;\n  margin-bottom: 20px;\n  font-size: 22px;\n  text-align: center;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 500;\n  color: #555;\n}\n\n.form-group input {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid #e1e4e8;\n  border-radius: 6px;\n  font-size: 16px;\n  transition: border-color 0.2s, box-shadow 0.2s;\n  box-sizing: border-box;\n}\n\n.form-group input:focus {\n  border-color: #0077ff;\n  box-shadow: 0 0 0 3px rgba(0, 119, 255, 0.2);\n  outline: none;\n}\n\n.primary-button {\n  width: 100%;\n  background-color: #0077ff;\n  color: white;\n  border: none;\n  padding: 12px 20px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: 500;\n  transition: background-color 0.2s, transform 0.1s;\n}\n\n.primary-button:hover {\n  background-color: #0066dd;\n}\n\n.primary-button:active {\n  transform: translateY(1px);\n}\n\n.primary-button:disabled {\n  background-color: #cccccc;\n  cursor: not-allowed;\n}\n\n.secondary-button {\n  background-color: #f0f4f8;\n  color: #0077ff;\n  border: none;\n  padding: 12px 20px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: 500;\n  transition: background-color 0.2s;\n  width: 100%;\n}\n\n.secondary-button:hover {\n  background-color: #e1eaf4;\n}\n\n.secondary-button:disabled {\n  background-color: #f0f0f0;\n  color: #aaa;\n  cursor: not-allowed;\n}\n\n.text-button {\n  background: none;\n  border: none;\n  color: #0077ff;\n  font-size: 14px;\n  padding: 5px;\n  cursor: pointer;\n  text-decoration: underline;\n  display: inline-block;\n}\n\n.text-button:hover {\n  color: #0066dd;\n  background: none;\n}\n\n.text-button:disabled {\n  color: #cccccc;\n  cursor: not-allowed;\n}\n\n.error-message {\n  background-color: #ffeeee;\n  color: #d32f2f;\n  padding: 15px;\n  border-radius: 6px;\n  margin-bottom: 20px;\n  font-size: 14px;\n  text-align: center;\n}\n\n.success-message {\n  background-color: #e8f5e9;\n  color: #2e7d32;\n  padding: 15px;\n  border-radius: 6px;\n  margin-bottom: 20px;\n  font-size: 14px;\n  text-align: center;\n}\n\n.tabs {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 20px;\n}\n\n.tab {\n  background: none;\n  border: none;\n  font-size: 16px;\n  padding: 10px 20px;\n  color: #666;\n  cursor: pointer;\n  border-bottom: 2px solid transparent;\n  transition: all 0.3s;\n}\n\n.tab.active {\n  color: #0077ff;\n  border-bottom: 2px solid #0077ff;\n  font-weight: 500;\n}\n\n.tab:hover:not(.active) {\n  color: #444;\n  border-bottom: 2px solid #ddd;\n}\n\n.tab:disabled {\n  color: #ccc;\n  cursor: not-allowed;\n}\n\n.actions {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 15px;\n}\n\n.register-notice {\n  margin-top: 25px;\n  padding: 15px;\n  border: 1px dashed #ccc;\n  border-radius: 6px;\n  background-color: #f8f9fa;\n  text-align: center;\n}\n\n.register-notice p {\n  margin: 5px 0;\n  color: #666;\n  font-size: 14px;\n}\n\n.firebase-test-notice {\n  margin-top: 20px;\n  text-align: center;\n  padding: 10px;\n  background-color: #e3f2fd;\n  border-radius: 6px;\n  max-width: 420px;\n}\n\n.firebase-test-notice p {\n  margin: 0;\n  font-size: 14px;\n  color: #0d47a1;\n}\n\n.firebase-test-notice a {\n  color: #0077ff;\n  text-decoration: none;\n  font-weight: 500;\n}\n\n.firebase-test-notice a:hover {\n  text-decoration: underline;\n}\n\n/* Responsive adjustments */\n@media (max-width: 480px) {\n  .login-form {\n    padding: 20px;\n  }\n  \n  .login-form h1 {\n    font-size: 24px;\n  }\n  \n  .login-form h2 {\n    font-size: 18px;\n  }\n  \n  .tab {\n    padding: 8px 15px;\n    font-size: 14px;\n  }\n}\n\n/* Auth Switch Button Styles */\n.auth-switch {\n  margin-top: 1.5rem;\n  text-align: center;\n}\n\n.switch-button {\n  background: none;\n  border: none;\n  color: #0077ff;\n  font-size: 14px;\n  cursor: pointer;\n  padding: 5px 0;\n  transition: color 0.2s;\n}\n\n.switch-button:hover {\n  color: #0066dd;\n  text-decoration: underline;\n}\n\n.switch-button:disabled {\n  color: #cccccc;\n  cursor: not-allowed;\n  text-decoration: none;\n}\n\n/* Forgot Password Link Styles */\n.forgot-password {\n  text-align: center;\n  margin-top: 1rem;\n}\n\n.forgot-password-link, .back-link {\n  background: none;\n  border: none;\n  color: #0077ff;\n  font-size: 14px;\n  cursor: pointer;\n  padding: 5px 0;\n  transition: color 0.2s;\n}\n\n.forgot-password-link:hover, .back-link:hover {\n  color: #0066dd;\n  text-decoration: underline;\n}\n\n.forgot-password-link:disabled, .back-link:disabled {\n  color: #cccccc;\n  cursor: not-allowed;\n  text-decoration: none;\n}\n\n.back-to-login {\n  text-align: center;\n  margin-top: 1rem;\n}\n\n/* Responsive adjustments */\n@media (max-width: 480px) {\n  .login-form {\n    padding: 1.5rem;\n    margin: 0 1rem;\n  }\n}\n",""]);const a=o},646:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'/* Task Tracker Styles */\n.task-tracker-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    backdrop-filter: blur(5px);\n    -webkit-backdrop-filter: blur(5px);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n    opacity: 1;\n    transition: opacity 0.4s cubic-bezier(0.25, 1, 0.5, 1), backdrop-filter 0.5s ease;\n}\n\n.task-tracker-container {\n    background-color: var(--bg-secondary);\n    border-radius: 16px;\n    width: 90%;\n    max-width: 600px;\n    max-height: 80vh;\n    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    transform: translateY(0);\n    opacity: 1;\n    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);\n    animation: floatIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);\n}\n\n.task-tracker-container-full {\n    background-color: var(--bg-secondary);\n    border-radius: 12px;\n    padding: 20px;\n    box-shadow: 0 4px 15px var(--shadow-color);\n    width: 100%;\n    height: auto !important;\n    min-height: 0 !important;\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 20px;\n    overflow: visible;\n}\n\n.task-tracker-header {\n    padding: 15px 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px solid var(--border-color);\n    margin-bottom: 20px;\n}\n\n.task-tracker-header h2 {\n    margin: 0;\n    color: var(--text-primary);\n    font-size: 1.5rem;\n}\n\n.task-tracker-header .close-button {\n    background: none;\n    border: none;\n    font-size: 1.6rem;\n    color: var(--text-secondary);\n    cursor: pointer;\n    padding: 0 5px;\n    transition: color 0.2s ease;\n}\n\n.task-tracker-header .close-button:hover {\n    color: var(--text-primary);\n}\n\n.task-tracker-content {\n    padding: 20px;\n    overflow-y: auto;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    max-height: none !important;\n    height: auto !important;\n    min-height: 0 !important;\n}\n\n.no-tasks-message {\n    text-align: center;\n    padding: 30px 0;\n    color: var(--text-secondary);\n}\n\n.task-item {\n    background-color: var(--bg-primary);\n    border-radius: 8px;\n    padding: 15px;\n    margin-bottom: 15px;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n    border-left: 4px solid var(--accent-color);\n    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n    animation: fadeIn 0.5s ease forwards;\n    cursor: pointer;\n}\n\n.task-item:hover {\n    transform: translateY(-3px);\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n}\n\n@keyframes fadeIn {\n    from {\n        opacity: 0;\n        transform: translateY(10px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.task-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 10px;\n}\n\n.task-header h3 {\n    margin: 0;\n    font-size: 1.1rem;\n    color: var(--text-primary);\n}\n\n.delete-task-button {\n    background: none;\n    border: none;\n    font-size: 1.2rem;\n    color: var(--text-secondary);\n    cursor: pointer;\n    padding: 0 5px;\n    transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);\n    border-radius: 50%;\n    width: 28px;\n    height: 28px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.delete-task-button:hover {\n    color: #e74c3c;\n    background-color: rgba(231, 76, 60, 0.1);\n    transform: rotate(90deg);\n}\n\n/* Task item details */\n.task-details p {\n    margin: 5px 0;\n    color: var(--text-secondary);\n    font-size: 0.95rem;\n}\n\n/* Enhanced countdown styles */\n.task-date {\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    margin-bottom: 8px;\n    position: relative;\n}\n\n.task-item.due-today .task-date,\n.task-item.due-soon .task-date,\n.task-item.overdue .task-date {\n    animation: pulseGlow 2s infinite alternate ease-in-out;\n    font-weight: 500;\n}\n\n.task-item.due-today .task-date {\n    color: var(--text-primary);\n}\n\n.task-item.overdue .task-date {\n    color: #d32f2f;\n    animation: pulseGlowRed 1.5s infinite alternate ease-in-out;\n    font-weight: 600;\n}\n\n@keyframes pulseGlowRed {\n    from {\n        text-shadow: 0 0 0 transparent;\n    }\n    to {\n        text-shadow: 0 0 5px rgba(211, 47, 47, 0.4);\n    }\n}\n\n@keyframes pulseGlow {\n    from {\n        text-shadow: 0 0 0 transparent;\n    }\n    to {\n        text-shadow: 0 0 3px rgba(var(--accent-color-rgb), 0.3);\n    }\n}\n\n.add-task-form {\n    background-color: var(--bg-primary);\n    border-radius: 8px;\n    padding: 20px;\n    margin-bottom: 15px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n    animation: slideUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;\n}\n\n.add-task-form h3 {\n    margin: 0 0 15px 0;\n    font-size: 1.2rem;\n    color: var(--text-primary);\n}\n\n.form-group {\n    margin-bottom: 15px;\n}\n\n.form-group label {\n    display: block;\n    margin-bottom: 5px;\n    font-weight: 500;\n    color: var(--text-primary);\n}\n\n.form-group input,\n.form-group textarea {\n    width: 100%;\n    padding: 8px 12px;\n    border-radius: 6px;\n    border: 1px solid var(--border-color);\n    background-color: var(--bg-secondary);\n    color: var(--text-primary);\n    font-size: 0.95rem;\n    transition: border 0.3s ease, box-shadow 0.3s ease;\n}\n\n.form-group textarea {\n    resize: vertical;\n}\n\n.form-group input:focus,\n.form-group textarea:focus {\n    box-shadow: 0 0 0 2px rgba(108, 92, 231, 0.2);\n}\n\n.form-actions {\n    display: flex;\n    justify-content: flex-end;\n    gap: 10px;\n    margin-top: 20px;\n}\n\n.form-actions button {\n    padding: 8px 15px;\n    border-radius: 6px;\n    cursor: pointer;\n    font-weight: 500;\n    border: none;\n    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n}\n\n.form-actions .save-button {\n    background-color: var(--accent-color);\n    color: white;\n}\n\n.form-actions .save-button:hover {\n    background-color: var(--accent-dark, #297fb8);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 170, 70, 0.3);\n}\n\n.form-actions .cancel-button {\n    background-color: var(--button-bg);\n    color: var(--text-primary);\n}\n\n.form-actions .cancel-button:hover {\n    background-color: var(--button-hover);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(255, 100, 100, 0.3);\n}\n\n.add-task-button {\n    align-self: flex-start;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    background-color: var(--accent-color);\n    color: white;\n    border: none;\n    border-radius: 8px;\n    padding: 12px 16px;\n    font-size: 1rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.3s ease;\n}\n\n.add-task-button:hover {\n    background-color: var(--accent-dark, #297fb8);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n}\n\n.plus-icon {\n    font-size: 1.2rem;\n    margin-right: 5px;\n}\n\n.task-form-container {\n    animation: slideIn 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards;\n}\n\n@keyframes slideIn {\n    from {\n        opacity: 0;\n        transform: translateY(20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n@keyframes floatIn {\n    0% {\n        transform: translateY(30px) scale(0.95);\n        opacity: 0;\n    }\n    100% {\n        transform: translateY(0) scale(1);\n        opacity: 1;\n    }\n}\n\n.task-form-input, \n.task-form select, \n.task-form textarea {\n    width: 100%;\n    padding: 12px 15px;\n    border: 1px solid var(--border-color);\n    border-radius: 8px;\n    background-color: var(--bg-primary);\n    color: var(--text-primary);\n    font-size: 0.95rem;\n    margin-bottom: 15px;\n    transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);\n}\n\n.task-form-input:focus, \n.task-form select:focus, \n.task-form textarea:focus {\n    outline: none;\n    border-color: var(--accent-color);\n    box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.2), inset 0 1px 3px rgba(0, 0, 0, 0.05);\n    transform: translateY(-1px);\n}\n\n.task-form-input::placeholder, \n.task-form select::placeholder, \n.task-form textarea::placeholder {\n    color: var(--text-tertiary);\n    opacity: 0.7;\n}\n\n.task-form-row {\n    display: flex;\n    gap: 15px;\n    margin-bottom: 15px;\n    opacity: 0;\n    transform: translateY(10px);\n    animation: fadeInStaggered 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards;\n}\n\n.task-form-row:nth-child(1) { animation-delay: 0.1s; }\n.task-form-row:nth-child(2) { animation-delay: 0.15s; }\n.task-form-row:nth-child(3) { animation-delay: 0.2s; }\n.task-form-row:nth-child(4) { animation-delay: 0.25s; }\n\n@keyframes fadeInStaggered {\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.task-form-button {\n    padding: 12px 20px;\n    border-radius: 8px;\n    border: none;\n    cursor: pointer;\n    font-weight: 500;\n    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);\n    background: var(--button-bg);\n    color: var(--button-text);\n    font-size: 0.95rem;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n}\n\n.task-form-button:hover {\n    transform: translateY(-3px);\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n}\n\n.task-form-button:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n}\n\n.task-form-button.primary {\n    background: linear-gradient(135deg, var(--accent-color), var(--accent-color-dark));\n    color: white;\n}\n\n.task-form-button.secondary {\n    background-color: transparent;\n    border: 1px solid var(--border-color);\n    color: var(--text-secondary);\n}\n\n.task-form-button-group {\n    display: flex;\n    justify-content: flex-end;\n    gap: 10px;\n    margin-top: 15px;\n}\n\n/* Task Grid Layout */\n.tasks-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 16px;\n    width: 100%;\n    margin-bottom: 20px;\n    height: auto !important;\n    min-height: 0 !important;\n    overflow: visible;\n}\n\n/* Media queries for responsive grid */\n@media (min-width: 1200px) {\n    .tasks-grid {\n        grid-template-columns: repeat(3, 1fr); /* 3 items per row on large screens */\n    }\n}\n\n@media (min-width: 768px) and (max-width: 1199px) {\n    .tasks-grid {\n        grid-template-columns: repeat(2, 1fr); /* 2 items per row on medium screens */\n    }\n}\n\n@media (max-width: 767px) {\n    .tasks-grid {\n        grid-template-columns: 1fr; /* 1 item per row on small screens */\n    }\n}\n\n/* Priority styling */\n.task-item.priority {\n    border-left: 4px solid #ff9800;\n    box-shadow: 0 4px 12px rgba(255, 152, 0, 0.15);\n    position: relative;\n    animation: priorityPulse 2s infinite alternate ease-in-out;\n}\n\n.task-item.priority::before {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 0 24px 24px 0;\n    border-color: transparent #ff9800 transparent transparent;\n    z-index: 1;\n}\n\n.priority-tag {\n    display: inline-block;\n    background-color: #ff9800;\n    color: white;\n    font-size: 0.7rem;\n    padding: 2px 6px;\n    border-radius: 4px;\n    margin-left: 8px;\n    font-weight: 600;\n    vertical-align: middle;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n}\n\n@keyframes priorityPulse {\n    from {\n        box-shadow: 0 4px 12px rgba(255, 152, 0, 0.15);\n    }\n    to {\n        box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);\n    }\n}\n\n/* Due date urgency levels */\n.task-item.overdue {\n    border-left: 4px solid #d32f2f;\n    background-color: rgba(211, 47, 47, 0.05);\n}\n\n.task-item.due-today {\n    border-left: 4px solid #f44336;\n    background-color: rgba(244, 67, 54, 0.05);\n}\n\n.task-item.due-soon {\n    border-left: 4px solid #ff9800;\n    background-color: rgba(255, 152, 0, 0.05);\n}\n\n.task-item.approaching {\n    border-left: 4px solid #ffc107;\n    background-color: rgba(255, 193, 7, 0.05);\n}\n\n.task-item.normal {\n    border-left: 4px solid #4caf50;\n    background-color: rgba(76, 175, 80, 0.05);\n}\n\n.urgency-badge {\n    display: inline-block;\n    color: white;\n    font-size: 0.75rem;\n    padding: 2px 6px;\n    border-radius: 4px;\n    margin-left: 8px;\n    font-weight: 600;\n    background-color: #ff9800; /* Default (orange) */\n    animation: pulseSize 1.5s infinite alternate ease-in-out;\n}\n\n@keyframes pulseSize {\n    from {\n        transform: scale(1);\n    }\n    to {\n        transform: scale(1.05);\n    }\n}\n\n.urgency-badge.overdue {\n    background-color: #d32f2f; /* Darker red */\n    animation: pulseOverdue 1.5s infinite alternate ease-in-out;\n}\n\n@keyframes pulseOverdue {\n    from {\n        transform: scale(1);\n        box-shadow: 0 0 0 rgba(211, 47, 47, 0.4);\n    }\n    to {\n        transform: scale(1.1);\n        box-shadow: 0 0 10px rgba(211, 47, 47, 0.7);\n    }\n}\n\n.task-item.due-today .urgency-badge {\n    background-color: #f44336; /* Red */\n}\n\n.task-item.due-soon .urgency-badge {\n    background-color: #ff9800; /* Orange */\n}\n\n.task-item.approaching .urgency-badge {\n    background-color: #ffc107; /* Yellow */\n}\n\n.task-item.normal .urgency-badge {\n    background-color: #4caf50; /* Green */\n}\n\n/* Priority button */\n.task-actions {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n}\n\n.priority-button {\n    background: transparent;\n    border: none;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 28px;\n    height: 28px;\n    border-radius: 50%;\n    transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);\n    opacity: 0.5;\n    font-size: 0.9rem;\n}\n\n.priority-button:hover {\n    background-color: rgba(255, 152, 0, 0.1);\n    transform: scale(1.1);\n    opacity: 0.8;\n}\n\n.priority-button.active {\n    opacity: 1;\n    transform: scale(1.1);\n    color: #ff9800;\n    animation: pinWiggle 0.6s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\n}\n\n@keyframes pinWiggle {\n    0%, 100% { transform: rotate(0) scale(1.1); }\n    15% { transform: rotate(-10deg) scale(1.2); }\n    30% { transform: rotate(10deg) scale(1.2); }\n    45% { transform: rotate(-5deg) scale(1.1); }\n    60% { transform: rotate(5deg) scale(1.1); }\n    75% { transform: rotate(-2deg) scale(1.1); }\n}\n\n@keyframes rotate {\n    0% { transform: rotate(-45deg) scale(0.8); }\n    100% { transform: rotate(0) scale(1.1); }\n}\n\n/* Priority checkbox in form */\n.priority-checkbox-container {\n    margin: 15px 0;\n}\n\n.checkbox-label {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    cursor: pointer;\n}\n\n.checkbox-text {\n    font-size: 0.95rem;\n    color: var(--text-primary);\n}\n\n/* Task Grid Layout is defined earlier in the file */\n\n/* Dark theme specific styling for task tracker */\n.theme-dark .task-tracker-container,\n[data-theme="dark"] .task-tracker-container,\n.theme-dark .task-tracker-container-full,\n[data-theme="dark"] .task-tracker-container-full {\n    background: linear-gradient(145deg, #101010, #181818);\n    border: 1px solid rgba(40, 40, 40, 0.3);\n    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2), inset 0 1px 2px rgba(255, 255, 255, 0.05);\n}\n\n.theme-dark .task-tracker-header,\n[data-theme="dark"] .task-tracker-header {\n    border-bottom: 1px solid rgba(66, 66, 66, 0.5);\n}\n\n.theme-dark .task-tracker-header h2,\n[data-theme="dark"] .task-tracker-header h2 {\n    color: #f0f0f0;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n    letter-spacing: -0.5px;\n}\n\n.theme-dark .close-button,\n[data-theme="dark"] .close-button {\n    background: linear-gradient(145deg, #2a2b2c, #222324);\n    border: 1px solid rgba(66, 66, 66, 0.5);\n    color: #e4e6eb;\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1), inset 0 1px 1px rgba(255, 255, 255, 0.05);\n}\n\n.theme-dark .close-button:hover,\n[data-theme="dark"] .close-button:hover {\n    background: linear-gradient(145deg, #2f3031, #272829);\n    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15), inset 0 1px 1px rgba(255, 255, 255, 0.1);\n    color: #f0f0f0;\n}\n\n.theme-dark .task-form input,\n.theme-dark .task-form textarea,\n.theme-dark .task-form select,\n[data-theme="dark"] .task-form input,\n[data-theme="dark"] .task-form textarea,\n[data-theme="dark"] .task-form select {\n    background: linear-gradient(145deg, #1e1f20, #262728);\n    border: 1px solid rgba(66, 66, 66, 0.5);\n    color: #e4e6eb;\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);\n}\n\n.theme-dark .task-form input:focus,\n.theme-dark .task-form textarea:focus,\n.theme-dark .task-form select:focus,\n[data-theme="dark"] .task-form input:focus,\n[data-theme="dark"] .task-form textarea:focus,\n[data-theme="dark"] .task-form select:focus {\n    border-color: rgba(78, 67, 118, 0.8);\n    box-shadow: 0 0 0 2px rgba(78, 67, 118, 0.2), inset 0 1px 3px rgba(0, 0, 0, 0.2);\n    outline: none;\n}\n\n/* Dark theme styling for task items */\n.theme-dark .task-item,\n[data-theme="dark"] .task-item {\n    background: linear-gradient(145deg, #1e1f20, #242526);\n    border: 1px solid rgba(66, 66, 66, 0.3);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1), inset 0 1px 1px rgba(255, 255, 255, 0.05);\n    transition: all 0.3s ease;\n}\n\n.theme-dark .task-item:hover,\n[data-theme="dark"] .task-item:hover {\n    background: linear-gradient(145deg, #222324, #262728);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), inset 0 1px 1px rgba(255, 255, 255, 0.07);\n    transform: translateY(-2px);\n}\n\n.theme-dark .task-item h3,\n[data-theme="dark"] .task-item h3 {\n    color: #f0f0f0;\n}\n\n.theme-dark .task-item p,\n[data-theme="dark"] .task-item p {\n    color: #b0b3b8;\n}\n\n/* Dark theme styling for task priority labels */\n.theme-dark .task-priority-high,\n[data-theme="dark"] .task-priority-high {\n    background: linear-gradient(145deg, #8b3a3a, #5e2727);\n    color: #f0f0f0;\n    box-shadow: 0 2px 5px rgba(139, 58, 58, 0.3);\n}\n\n.theme-dark .task-priority-medium,\n[data-theme="dark"] .task-priority-medium {\n    background: linear-gradient(145deg, #a96e28, #8f5e22);\n    color: #f0f0f0;\n    box-shadow: 0 2px 5px rgba(169, 110, 40, 0.3);\n}\n\n.theme-dark .task-priority-low,\n[data-theme="dark"] .task-priority-low {\n    background: linear-gradient(145deg, #2b587c, #255070);\n    color: #f0f0f0;\n    box-shadow: 0 2px 5px rgba(43, 88, 124, 0.3);\n}\n\n/* Dark theme styling for task action buttons */\n.theme-dark .task-actions button,\n[data-theme="dark"] .task-actions button {\n    background: linear-gradient(145deg, #2a2b2c, #222324);\n    border: 1px solid rgba(66, 66, 66, 0.4);\n    color: #e4e6eb;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1), inset 0 1px 1px rgba(255, 255, 255, 0.05);\n}\n\n.theme-dark .task-actions button:hover,\n[data-theme="dark"] .task-actions button:hover {\n    background: linear-gradient(145deg, #2f3031, #272829);\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15), inset 0 1px 1px rgba(255, 255, 255, 0.1);\n    transform: translateY(-2px);\n}\n\n/* Dark theme task tracker styling */\n.theme-dark .task-tracker-overlay,\n[data-theme="dark"] .task-tracker-overlay {\n    background-color: rgba(0, 0, 0, 0.7);\n    backdrop-filter: blur(8px);\n    -webkit-backdrop-filter: blur(8px);\n}\n\n.theme-dark .task-tracker-container,\n[data-theme="dark"] .task-tracker-container {\n    background: linear-gradient(145deg, #0c0c0c, #161616);\n    border: 1px solid rgba(30, 30, 30, 0.6);\n    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4), inset 0 1px 1px rgba(255, 255, 255, 0.02);\n}\n\n/* Dark theme task items */\n.theme-dark .task-item,\n[data-theme="dark"] .task-item {\n    background: linear-gradient(145deg, #0f0f0f, #171717);\n    border-left: 4px solid rgba(78, 67, 118, 0.7);\n    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.02);\n}\n\n.theme-dark .task-item:hover,\n[data-theme="dark"] .task-item:hover {\n    background: linear-gradient(145deg, #121212, #1a1a1a);\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.25), inset 0 1px 1px rgba(255, 255, 255, 0.03);\n    transform: translateY(-3px);\n}\n\n.theme-dark .task-item.overdue,\n[data-theme="dark"] .task-item.overdue {\n    border-left: 4px solid rgba(211, 47, 47, 0.8);\n    background: linear-gradient(145deg, #1a1212, #221515);\n}\n\n.theme-dark .task-item.due-today,\n[data-theme="dark"] .task-item.due-today {\n    border-left: 4px solid rgba(255, 152, 0, 0.8);\n    background: linear-gradient(145deg, #1a1712, #221d15);\n}\n\n.theme-dark .task-details p,\n[data-theme="dark"] .task-details p {\n    color: #a0a0a0;\n}\n\n.theme-dark .no-tasks-message,\n[data-theme="dark"] .no-tasks-message {\n    color: #888888;\n}\n',""]);const a=o},719:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"/* User Profile Styles */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 9999;\n  animation: fadeIn 0.2s ease;\n}\n\n.user-profile-modal {\n  background-color: var(--bg-secondary, white);\n  border-radius: 12px;\n  box-shadow: 0 4px 25px rgba(0, 0, 0, 0.15);\n  width: 100%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow-y: auto;\n  color: var(--text-primary, #333);\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px;\n  border-bottom: 1px solid var(--border-color, #eee);\n}\n\n.modal-header h2 {\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 600;\n}\n\n.modal-header .close-button {\n  background: none;\n  border: none;\n  color: var(--text-secondary, #666);\n  font-size: 24px;\n  cursor: pointer;\n  padding: 0;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: background-color 0.2s;\n}\n\n.modal-header .close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.modal-content {\n  padding: 24px;\n}\n\n.user-avatar-section {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 24px;\n}\n\n.profile-avatar,\n.profile-avatar-placeholder {\n  width: 120px;\n  height: 120px;\n  border-radius: 50%;\n  object-fit: cover;\n}\n\n.profile-avatar-placeholder {\n  background-color: var(--accent-color, #0077ff);\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 42px;\n  font-weight: bold;\n}\n\n.profile-form {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n}\n\n.form-group label {\n  margin-bottom: 8px;\n  font-weight: 500;\n  color: var(--text-secondary, #555);\n}\n\n.form-group input {\n  padding: 12px;\n  border-radius: 6px;\n  border: 1px solid var(--border-color, #ddd);\n  font-size: 16px;\n  transition: border-color 0.2s;\n  background-color: var(--input-bg, white);\n  color: var(--text-primary, #333);\n}\n\n.form-group input:focus {\n  border-color: var(--accent-color, #0077ff);\n  outline: none;\n}\n\n.disabled-input {\n  background-color: var(--disabled-bg, #f5f5f5) !important;\n  cursor: not-allowed;\n}\n\n.input-hint {\n  font-size: 12px;\n  color: var(--text-tertiary, #888);\n  margin-top: 4px;\n}\n\n.profile-error {\n  background-color: var(--error-bg, #ffeeee);\n  color: var(--error-color, #d32f2f);\n  padding: 12px;\n  border-radius: 6px;\n  margin-bottom: 16px;\n  text-align: center;\n}\n\n.profile-success {\n  background-color: var(--success-bg, #e8f5e9);\n  color: var(--success-color, #2e7d32);\n  padding: 12px;\n  border-radius: 6px;\n  margin-bottom: 16px;\n  text-align: center;\n}\n\n.profile-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  margin-top: 24px;\n}\n\n.cancel-button,\n.save-button {\n  padding: 10px 20px;\n  border-radius: 6px;\n  font-size: 15px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background-color 0.2s, opacity 0.2s;\n}\n\n.cancel-button {\n  background-color: var(--button-secondary-bg, #f5f5f5);\n  color: var(--button-secondary-text, #333);\n  border: 1px solid var(--button-secondary-border, #ddd);\n}\n\n.cancel-button:hover {\n  background-color: var(--button-secondary-hover, #eaeaea);\n}\n\n.save-button {\n  background-color: var(--accent-color, #0077ff);\n  color: white;\n  border: none;\n}\n\n.save-button:hover {\n  background-color: var(--accent-hover, #0066dd);\n}\n\n.cancel-button:disabled,\n.save-button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Responsive adjustments */\n@media (max-width: 600px) {\n  .user-profile-modal {\n    margin: 0 16px;\n    max-width: calc(100% - 32px);\n  }\n  \n  .modal-header {\n    padding: 16px 20px;\n  }\n  \n  .modal-content {\n    padding: 16px 20px;\n  }\n  \n  .profile-avatar,\n  .profile-avatar-placeholder {\n    width: 100px;\n    height: 100px;\n    font-size: 36px;\n  }\n}\n",""]);const a=o},744:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"body {\n    background-color: var(--bg-primary);\n    color: var(--text-primary);\n    font-family: 'Inter', 'Segoe UI', 'Arial', sans-serif;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    overflow-x: hidden;\n}\n\n.header {\n    background-color: var(--header-bg);\n    padding: 15px;\n    text-align: center;\n    border-bottom: 1px solid var(--border-color);\n    box-shadow: 0 4px 20px var(--shadow-color);\n    transform: translateZ(0); /* Fixes potential rendering issues */\n    height: auto;\n    min-height: 40px;\n    width: 100vw;\n    margin-left: 0;\n    margin-right: 0;\n    position: fixed; /* Changed from relative to fixed */\n    left: 0;\n    right: 0;\n    top: 0;\n    box-sizing: border-box;\n    z-index: 1000;\n}\n\n/* Blob effect for dark theme */\n.header.scrolled {\n    background-color: rgba(16, 16, 16, 0.95);\n    backdrop-filter: blur(12px);\n    -webkit-backdrop-filter: blur(12px);\n    border-radius: 0 0 20px 20px;\n    width: 100vw !important; /* Full viewport width */\n    left: 0;\n    right: 0;\n    border: none;\n    box-shadow: 0 6px 18px var(--shadow-color);\n    position: fixed;\n    z-index: 1000;\n    top: 0;\n}\n\n/* Make sure the app container doesn't restrict the header width */\n#root, .app {\n    overflow-x: hidden;\n    width: 100%;\n    max-width: 100vw;\n    padding-top: 0; /* Remove any top padding to prevent double spacing */\n}\n\n/* Add space for main content to account for fixed header */\n.main-container {\n    padding-top: 75px; /* Adjust based on your header height */\n    width: 100%;\n}\n\nh1 {\n    margin: 0;\n    font-size: 2.5em;\n    color: var(--text-primary);\n}\n\n/* Additional header styling for dark theme */\n.title-container h1 {\n    color: var(--text-primary);\n    letter-spacing: -0.5px;\n}\n\n.subtitle {\n    color: var(--text-secondary);\n    font-weight: 400;\n    letter-spacing: 0.2px;\n}\n\n.logo {\n    background-color: var(--accent-color);\n    box-shadow: 0 4px 10px rgba(var(--accent-color-rgb), 0.3);\n    border-radius: 12px;\n}\n\n.sidebar-toggle:not(.collapsed), \n.calendar-toggle.active {\n    background-color: var(--button-hover);\n    color: var(--text-primary);\n    border-color: var(--border-color);\n    box-shadow: 0 3px 8px var(--shadow-color);\n}\n\n.toggle-icon {\n    color: var(--text-primary);\n}\n\n.help-button {\n    background-color: var(--button-bg);\n    border: 1px solid var(--border-color);\n    color: var(--text-primary);\n    box-shadow: 0 2px 6px var(--shadow-color);\n}\n\n.help-button:hover {\n    background-color: var(--button-hover);\n    box-shadow: 0 3px 8px var(--shadow-color);\n    transform: translateY(-3px);\n}\n\n.timetable {\n    margin: 20px auto;\n    width: 90%;\n    max-width: 900px;\n    border-collapse: collapse;\n    box-shadow: 0 6px 20px var(--shadow-color);\n    border-radius: 8px;\n    overflow: hidden;\n}\n\n.timetable th, .timetable td {\n    border: 1px solid var(--border-color);\n    padding: 12px;\n    text-align: center;\n}\n\n.timetable th {\n    background-color: var(--button-bg);\n    color: var(--text-primary);\n    font-weight: 500;\n    letter-spacing: 0.5px;\n    padding: 14px 12px;\n}\n\n/* Time slots are now colored by the TimeSlot.js component */\n.time-slot {\n    transition: all 0.3s ease;\n    border-radius: 6px;\n    margin: 5px;\n    padding: 10px;\n}\n\n.time-slot:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n    filter: brightness(1.05);\n}\n\n.theme-switcher {\n    margin: 25px auto;\n    text-align: center;\n    max-width: 350px;\n    padding: 15px;\n    background-color: var(--bg-secondary);\n    border-radius: 12px;\n    box-shadow: 0 6px 16px var(--shadow-color);\n    border: 1px solid var(--border-color);\n}\n\n.theme-switcher select {\n    background-color: var(--bg-primary);\n    color: var(--text-primary);\n    border: 1px solid var(--border-color);\n    border-radius: 6px;\n    padding: 8px 12px;\n    width: 100%;\n    box-shadow: 0 2px 6px var(--shadow-color);\n    font-family: 'Inter', 'Segoe UI', 'Arial', sans-serif;\n    transition: all 0.3s ease;\n}\n\n.theme-switcher select:hover {\n    border-color: var(--accent-color);\n    box-shadow: 0 3px 8px var(--shadow-color);\n}\n\n.settings {\n    margin: 25px auto;\n    text-align: center;\n    max-width: 600px;\n    padding: 20px;\n    background-color: var(--bg-secondary);\n    border-radius: 12px;\n    box-shadow: 0 6px 16px var(--shadow-color);\n    border: 1px solid var(--border-color);\n}\n\n.button {\n    background-color: var(--accent-color);\n    color: white;\n    border: none;\n    padding: 10px 18px;\n    border-radius: 6px;\n    cursor: pointer;\n    font-weight: 500;\n    box-shadow: 0 3px 8px rgba(var(--accent-color-rgb), 0.3);\n    transition: all 0.3s ease;\n    font-family: 'Inter', 'Segoe UI', 'Arial', sans-serif;\n}\n\n.button:hover {\n    filter: brightness(1.1);\n    box-shadow: 0 5px 12px rgba(var(--accent-color-rgb), 0.4);\n    transform: translateY(-2px);\n}\n\n.button:active {\n    transform: translateY(0px);\n    box-shadow: 0 2px 5px rgba(var(--accent-color-rgb), 0.3);\n}\n\n/* Theme switcher overrides for dark theme */\n.theme-switcher-container {\n    background-color: var(--bg-secondary);\n    border-radius: 12px;\n    padding: 15px;\n    box-shadow: 0 6px 16px var(--shadow-color);\n    border: 1px solid var(--border-color);\n}\n\n.theme-switcher label {\n    color: var(--text-primary);\n    font-weight: 500;\n    margin-bottom: 10px;\n    display: block;\n    letter-spacing: 0.5px;\n}\n\n.theme-select {\n    background-color: var(--bg-primary);\n    color: var(--text-primary);\n    border: 1px solid var(--border-color);\n    border-radius: 6px;\n    padding: 10px 15px;\n    width: 100%;\n    box-shadow: 0 2px 6px var(--shadow-color);\n    transition: all 0.3s ease;\n}\n\n.theme-select:hover, .theme-select:focus {\n    border-color: var(--accent-color);\n    box-shadow: 0 3px 8px var(--shadow-color);\n    outline: none;\n}\n\n/* Add professional scrollbar styling */\n::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n    display: none;\n}\n\n::-webkit-scrollbar-track {\n    background: transparent;\n}\n\n::-webkit-scrollbar-thumb {\n    background-color: transparent;\n    border-radius: 0;\n    border: none;\n}\n\n::-webkit-scrollbar-thumb:hover {\n    background-color: transparent;\n}\n\n/* Remove scrollbar and ensure header reaches all the way to the right */\nbody.theme-dark,\nhtml.theme-dark,\n[data-theme=\"dark\"],\nbody,\nhtml {\n    scrollbar-width: none; /* Firefox */\n    -ms-overflow-style: none; /* IE and Edge */\n    overflow-y: auto;\n    overflow-x: hidden;\n}\n\n/* Hide scrollbar for Chrome, Safari and Opera */\nbody.theme-dark::-webkit-scrollbar,\nhtml.theme-dark::-webkit-scrollbar,\n[data-theme=\"dark\"]::-webkit-scrollbar,\nbody::-webkit-scrollbar,\nhtml::-webkit-scrollbar,\n*::-webkit-scrollbar {\n    display: none !important;\n    width: 0 !important;\n    height: 0 !important;\n    background: transparent !important;\n}\n\n/* Ensure header reaches all the way to the right */\nbody.theme-dark .header,\nhtml.theme-dark .header,\n[data-theme=\"dark\"] .header,\n.header {\n    width: 100vw !important;\n    right: 0 !important;\n    left: 0 !important;\n    max-width: 100vw !important;\n    box-sizing: border-box !important;\n    margin-left: 0 !important;\n    margin-right: 0 !important;\n    padding-left: calc(env(safe-area-inset-left) + 15px) !important;\n    padding-right: calc(env(safe-area-inset-right) + 15px) !important;\n    position: fixed !important; /* Changed from relative to fixed */\n    overflow: visible !important;\n    top: 0 !important;\n}",""]);const a=o},896:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'/* Import Button Styles */\n.import-timetable-button {\n    margin-left: auto;\n    position: relative;\n    z-index: 10;\n}\n\n.import-button {\n    display: inline-block;\n    cursor: pointer !important;\n    padding: 10px 15px;\n    border-radius: 8px;\n    background-color: var(--accent-color);\n    color: white;\n    font-weight: 500;\n    transition: all 0.3s ease;\n    font-size: 0.95rem;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n    border: 1px solid transparent;\n    position: relative;\n    z-index: 10;\n    pointer-events: auto !important;\n}\n\n.import-button:hover {\n    background-color: var(--accent-hover);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n}\n\n.import-button:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n}\n\n.import-button input[type="file"] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    cursor: pointer !important;\n    z-index: 5;\n}\n',""]);const a=o},961:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(551)},968:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"/* Change Password Styles */\n.change-password-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 9999;\n  animation: fadeIn 0.2s ease;\n}\n\n.change-password-container {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\n  padding: 2rem;\n  width: 100%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow-y: auto;\n}\n\n.change-password-container h2 {\n  margin-top: 0;\n  margin-bottom: 1.5rem;\n  text-align: center;\n  color: #333;\n}\n\n.form-group {\n  margin-bottom: 1.5rem;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n}\n\n.form-group input {\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 16px;\n}\n\n.form-group input:focus {\n  outline: none;\n  border-color: #0077ff;\n  box-shadow: 0 0 0 2px rgba(0, 119, 255, 0.2);\n}\n\n.password-error {\n  background-color: #ffeeee;\n  color: #d32f2f;\n  padding: 10px;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n  text-align: center;\n}\n\n.password-success {\n  background-color: #e8f5e9;\n  color: #2e7d32;\n  padding: 10px;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n  text-align: center;\n}\n\n.password-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 1.5rem;\n}\n\n.cancel-button,\n.save-button {\n  padding: 10px 16px;\n  border-radius: 4px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.cancel-button {\n  background-color: #f5f5f5;\n  color: #333;\n  border: 1px solid #ddd;\n}\n\n.cancel-button:hover {\n  background-color: #eaeaea;\n}\n\n.save-button {\n  background-color: #0077ff;\n  color: white;\n  border: none;\n}\n\n.save-button:hover {\n  background-color: #0066dd;\n}\n\n.cancel-button:disabled,\n.save-button:disabled {\n  background-color: #cccccc;\n  color: #666;\n  cursor: not-allowed;\n  border-color: #cccccc;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Responsive adjustments */\n@media (max-width: 600px) {\n  .change-password-container {\n    padding: 1.5rem;\n    margin: 0 1rem;\n    max-width: calc(100% - 2rem);\n  }\n}\n",""]);const a=o},982:(e,t,n)=>{e.exports=n(463)},990:(e,t,n)=>{n.d(t,{g:()=>a.g,MF:()=>me,iF:()=>X,yi:()=>re,mq:()=>oe,SV:()=>ee,HG:()=>ue,yX:()=>ne,j6:()=>ie,U6:()=>le,xZ:()=>ce,om:()=>ae,Us:()=>se,Tj:()=>te,NM:()=>we,Sx:()=>ye,Dk:()=>ve,Wp:()=>ge,pN:()=>be,aP:()=>ke,KO:()=>xe,He:()=>Ee});var r=n(125),o=n(424),a=n(126);let i,s;const l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(g(this),e),m(l.get(this))}:function(...e){return m(t.apply(g(this),e))}:function(e,...n){const r=t.call(g(this),e,...n);return u.set(r,e.sort?e.sort():[e]),m(r)}:(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)}));c.set(e,t)}(e),n=e,(i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,f):e);var t,n}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{t(m(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&l.set(t,e)})).catch((()=>{})),h.set(t,e),t}(e);if(d.has(e))return d.get(e);const t=p(e);return t!==e&&(d.set(e,t),h.set(t,e)),t}const g=e=>h.get(e),b=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],v=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(v.get(t))return v.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=y.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!b.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,o?"readwrite":"readonly");let i=a.store;return r&&(i=i.index(t.shift())),(await Promise.all([i[n](...t),o&&a.done]))[0]};return v.set(t,a),a}var x;x=f,f={...x,get:(e,t,n)=>w(e,t)||x.get(e,t,n),has:(e,t)=>!!w(e,t)||x.has(e,t)};class k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const E="@firebase/app",S="0.12.1",T=new o.Vy("@firebase/app"),C="@firebase/app-compat",_="@firebase/analytics-compat",N="@firebase/analytics",A="@firebase/app-check-compat",I="@firebase/app-check",O="@firebase/auth",P="@firebase/auth-compat",D="@firebase/database",M="@firebase/data-connect",j="@firebase/database-compat",R="@firebase/functions",L="@firebase/functions-compat",z="@firebase/installations",F="@firebase/installations-compat",U="@firebase/messaging",V="@firebase/messaging-compat",B="@firebase/performance",$="@firebase/performance-compat",q="@firebase/remote-config",H="@firebase/remote-config-compat",G="@firebase/storage",K="@firebase/storage-compat",Y="@firebase/firestore",W="@firebase/vertexai",Q="@firebase/firestore-compat",J="firebase",X="[DEFAULT]",Z={[E]:"fire-core",[C]:"fire-core-compat",[N]:"fire-analytics",[_]:"fire-analytics-compat",[I]:"fire-app-check",[A]:"fire-app-check-compat",[O]:"fire-auth",[P]:"fire-auth-compat",[D]:"fire-rtdb",[M]:"fire-data-connect",[j]:"fire-rtdb-compat",[R]:"fire-fn",[L]:"fire-fn-compat",[z]:"fire-iid",[F]:"fire-iid-compat",[U]:"fire-fcm",[V]:"fire-fcm-compat",[B]:"fire-perf",[$]:"fire-perf-compat",[q]:"fire-rc",[H]:"fire-rc-compat",[G]:"fire-gcs",[K]:"fire-gcs-compat",[Y]:"fire-fst",[Q]:"fire-fst-compat",[W]:"fire-vertex","fire-js":"fire-js",[J]:"fire-js-all"},ee=new Map,te=new Map,ne=new Map;function re(e,t){try{e.container.addComponent(t)}catch(n){T.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function oe(e,t){e.container.addOrOverwriteComponent(t)}function ae(e){const t=e.name;if(ne.has(t))return T.debug(`There were multiple attempts to register component ${t}.`),!1;ne.set(t,e);for(const t of ee.values())re(t,e);for(const t of te.values())re(t,e);return!0}function ie(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function se(e,t,n=X){ie(e,t).clearInstance(n)}function le(e){return void 0!==e.options}function ce(e){return null!=e&&void 0!==e.settings}function ue(){ne.clear()}const de=new a.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class he{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw de.create("app-deleted",{appName:this._name})}}function fe(e,t){const n=(0,a.u)(e.split(".")[1]);null!==n?void 0!==JSON.parse(n).exp?1e3*JSON.parse(n).exp-(new Date).getTime()<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`):console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`):console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`)}class pe extends he{constructor(e,t,n,r){const o=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,a={name:n,automaticDataCollectionEnabled:o};void 0!==e.apiKey?super(e,a,r):super(e.options,a,r),this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&fe(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&fe(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,xe(E,S,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){we(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw de.create("server-app-deleted")}}const me="11.7.1";function ge(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const o=Object.assign({name:X,automaticDataCollectionEnabled:!1},t),i=o.name;if("string"!=typeof i||!i)throw de.create("bad-app-name",{appName:String(i)});if(n||(n=(0,a.T9)()),!n)throw de.create("no-options");const s=ee.get(i);if(s){if((0,a.bD)(n,s.options)&&(0,a.bD)(o,s.config))return s;throw de.create("duplicate-app",{appName:i})}const l=new r.h1(i);for(const e of ne.values())l.addComponent(e);const c=new he(n,o,l);return ee.set(i,c),c}function be(e,t){if((0,a.Bd)()&&!(0,a.p7)())throw de.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=le(e)?e.options:e;const o=Object.assign(Object.assign({},t),n);if(void 0!==o.releaseOnDeref&&delete o.releaseOnDeref,void 0!==t.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw de.create("finalization-registry-not-supported",{});const i=""+(s=JSON.stringify(o),[...s].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var s;const l=te.get(i);if(l)return l.incRefCount(t.releaseOnDeref),l;const c=new r.h1(i);for(const e of ne.values())c.addComponent(e);const u=new pe(n,t,i,c);return te.set(i,u),u}function ye(e=X){const t=ee.get(e);if(!t&&e===X&&(0,a.T9)())return ge();if(!t)throw de.create("no-app",{appName:e});return t}function ve(){return Array.from(ee.values())}async function we(e){let t=!1;const n=e.name;ee.has(n)?(t=!0,ee.delete(n)):te.has(n)&&e.decRefCount()<=0&&(te.delete(n),t=!0),t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function xe(e,t,n){var o;let a=null!==(o=Z[e])&&void 0!==o?o:e;n&&(a+=`-${n}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${a}" with version "${t}":`];return i&&e.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void T.warn(e.join(" "))}ae(new r.uA(`${a}-version`,(()=>({library:a,version:t})),"VERSION"))}function ke(e,t){if(null!==e&&"function"!=typeof e)throw de.create("invalid-log-argument");(0,o.Ey)(e,t)}function Ee(e){(0,o.He)(e)}const Se="firebase-heartbeat-store";let Te=null;function Ce(){return Te||(Te=function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const i=indexedDB.open(e,t),s=m(i);return r&&i.addEventListener("upgradeneeded",(e=>{r(m(i.result),e.oldVersion,e.newVersion,m(i.transaction),e)})),n&&i.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Se)}catch(e){console.warn(e)}}}).catch((e=>{throw de.create("idb-open",{originalErrorMessage:e.message})}))),Te}async function _e(e,t){try{const n=(await Ce()).transaction(Se,"readwrite"),r=n.objectStore(Se);await r.put(t,Ne(e)),await n.done}catch(e){if(e instanceof a.g)T.warn(e.message);else{const t=de.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});T.warn(t.message)}}}function Ne(e){return`${e.name}!${e.options.appId}`}class Ae{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Oe(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ie();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){T.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ie(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const o of e){const e=n.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),Pe(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Pe(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=(0,a.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return T.warn(e),""}}}function Ie(){return(new Date).toISOString().substring(0,10)}class Oe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a.zW)()&&(0,a.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ce()).transaction(Se),n=await t.objectStore(Se).get(Ne(e));return await t.done,n}catch(e){if(e instanceof a.g)T.warn(e.message);else{const t=de.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});T.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return _e(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return _e(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Pe(e){return(0,a.Uj)(JSON.stringify({version:2,heartbeats:e})).length}ae(new r.uA("platform-logger",(e=>new k(e)),"PRIVATE")),ae(new r.uA("heartbeat",(e=>new Ae(e)),"PRIVATE")),xe(E,S,""),xe(E,S,"esm2017"),xe("fire-js","")}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={id:e,exports:{}};return n[e](a,a.exports,o),a.exports}o.m=n,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+".bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="timetable-app:",o.l=(n,r,a,i)=>{if(e[n])e[n].push(r);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+a),s.src=n),e[n]=[r];var h=(t,r)=>{s.onerror=s.onload=null,clearTimeout(f);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="/",(()=>{var e={792:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=a);var i=o.p+o.u(t),s=new Error;o.l(i,(n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,a,[i,s,l]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);l&&l(o)}for(t&&t(n);c<i.length;c++)a=i[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunktimetable_app=self.webpackChunktimetable_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.nc=void 0;var a,i=o(540),s=o(961);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));var c="beforeunload";function u(e){e.preventDefault(),e.returnValue=""}function d(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}const f=(0,i.createContext)(null),p=(0,i.createContext)(null),m=(0,i.createContext)({outlet:null,matches:[]});function g(e,t){if(!e)throw new Error(t)}function b(e,t,n){void 0===n&&(n="/");let r=A(("string"==typeof t?h(t):t).pathname||"/",n);if(null==r)return null;let o=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let e=0;null==a&&e<o.length;++e)a=_(o[e],r);return a}function y(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,o)=>{let a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||g(!1),a.relativePath=a.relativePath.slice(r.length));let i=I([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&g(!1),y(e.children,t,s,i)),(null!=e.path||e.index)&&t.push({path:i,score:C(i,e.index),routesMeta:s})})),t}const v=/^:\w+$/,w=3,x=2,k=1,E=10,S=-2,T=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=S),t&&(r+=x),n.filter((e=>!T(e))).reduce(((e,t)=>e+(v.test(t)?w:""===t?k:E)),r)}function _(e,t){let{routesMeta:n}=e,r={},o="/",a=[];for(let e=0;e<n.length;++e){let i=n[e],s=e===n.length-1,l="/"===o?t:t.slice(o.length)||"/",c=N({path:i.relativePath,caseSensitive:i.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=i.route;a.push({params:r,pathname:I([o,c.pathname]),pathnameBase:O(I([o,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(o=I([o,c.pathnameBase]))}return a}function N(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));return e.endsWith("*")?(r.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e){try{return decodeURIComponent(e)}catch(t){return e}}(s[n]||""),e}),{}),pathname:a,pathnameBase:i,pattern:e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const I=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function P(){return null!=(0,i.useContext)(p)}function D(e){g(!1)}function M(e){let{basename:t="/",children:n=null,location:r,navigationType:o=a.Pop,navigator:s,static:l=!1}=e;P()&&g(!1);let c=O(t),u=(0,i.useMemo)((()=>({basename:c,navigator:s,static:l})),[c,s,l]);"string"==typeof r&&(r=h(r));let{pathname:d="/",search:m="",hash:b="",state:y=null,key:v="default"}=r,w=(0,i.useMemo)((()=>{let e=A(d,c);return null==e?null:{pathname:e,search:m,hash:b,state:y,key:v}}),[c,d,m,b,y,v]);return null==w?null:(0,i.createElement)(f.Provider,{value:u},(0,i.createElement)(p.Provider,{children:n,value:{location:w,navigationType:o}}))}function j(e){let{children:t,location:n}=e;return function(e,t){P()||g(!1);let{matches:n}=(0,i.useContext)(m),r=n[n.length-1],o=r?r.params:{},a=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;let s,l=(P()||g(!1),(0,i.useContext)(p).location);if(t){var c;let e="string"==typeof t?h(t):t;"/"===a||(null==(c=e.pathname)?void 0:c.startsWith(a))||g(!1),s=e}else s=l;let u=s.pathname||"/",d=b(e,{pathname:"/"===a?u:u.slice(a.length)||"/"});return function(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight(((n,r,o)=>(0,i.createElement)(m.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,o+1))}})),null)}(d&&d.map((e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:I([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:I([a,e.pathnameBase])}))),n)}(R(t),n)}function R(e){let t=[];return i.Children.forEach(e,(e=>{if(!(0,i.isValidElement)(e))return;if(e.type===i.Fragment)return void t.push.apply(t,R(e.props.children));e.type!==D&&g(!1);let n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=R(e.props.children)),t.push(n)})),t}function L(e){let{basename:t,children:n,window:r}=e,o=(0,i.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function o(){var e=n.location,t=e.pathname,o=e.search,a=e.hash,i=r.state||{};return[i.idx,{pathname:t,search:o,hash:a,state:i.usr||null,key:i.key||"default"}]}var i=null;n.addEventListener("popstate",(function(){if(i)b.call(i),i=null;else{var e=a.Pop,t=o(),n=t[0],r=t[1];if(b.length){if(null!=n){var s=p-n;s&&(i={action:e,location:r,retry:function(){E(-1*s)}},E(s))}}else k(e)}}));var s=a.Pop,f=o(),p=f[0],m=f[1],g=d(),b=d();function y(e){return"string"==typeof e?e:function(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,o=void 0===r?"":r,a=e.hash,i=void 0===a?"":a;return o&&"?"!==o&&(n+="?"===o.charAt(0)?o:"?"+o),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n}(e)}function v(e,t){return void 0===t&&(t=null),l({pathname:m.pathname,hash:"",search:""},"string"==typeof e?h(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function w(e,t){return[{usr:e.state,key:e.key,idx:t},y(e)]}function x(e,t,n){return!b.length||(b.call({action:e,location:t,retry:n}),!1)}function k(e){s=e;var t=o();p=t[0],m=t[1],g.call({action:s,location:m})}function E(e){r.go(e)}null==p&&(p=0,r.replaceState(l({},r.state,{idx:p}),""));var S={get action(){return s},get location(){return m},createHref:y,push:function e(t,o){var i=a.Push,s=v(t,o);if(x(i,s,(function(){e(t,o)}))){var l=w(s,p+1),c=l[0],u=l[1];try{r.pushState(c,"",u)}catch(e){n.location.assign(u)}k(i)}},replace:function e(t,n){var o=a.Replace,i=v(t,n);if(x(o,i,(function(){e(t,n)}))){var s=w(i,p),l=s[0],c=s[1];r.replaceState(l,"",c),k(o)}},go:E,back:function(){E(-1)},forward:function(){E(1)},listen:function(e){return g.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&n.addEventListener(c,u),function(){t(),b.length||n.removeEventListener(c,u)}}};return S}({window:r}));let s=o.current,[f,p]=(0,i.useState)({action:s.action,location:s.location});return(0,i.useLayoutEffect)((()=>s.listen(p)),[s]),(0,i.createElement)(M,{basename:t,children:n,location:f.location,navigationType:f.action,navigator:s})}function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function F(){F=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(t,n,r,o){var a=n&&n.prototype instanceof h?n:h,i=Object.create(a.prototype);return l(i,"_invoke",function(t,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var c=u(t,n,r);if("normal"===c.type){if(o=r.done?4:2,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=4,r.method="throw",r.arg=c.arg)}}}(t,r,new S(o||[])),!0),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d={};function h(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==n&&r.call(b,a)&&(m=b);var y=p.prototype=h.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,s){var l=u(e[o],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==z(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;l(this,"_invoke",(function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(t,n){var r=n.method,o=t.i[r];if(o===e)return n.delegate=null,"throw"===r&&t.i.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(o,t.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,d;var i=a.arg;return i?i.done?(n[t.r]=i.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function k(e){this.tryEntries.push(e)}function E(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function S(e){this.tryEntries=[[-1]],e.forEach(k,this),this.reset(!0)}function T(t){if(null!=t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(z(t)+" is not iterable")}return f.prototype=p,l(y,"constructor",p),l(p,"constructor",f),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},v(w.prototype),l(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new w(c(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e){i.type="throw",i.arg=t,n.next=e}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,l=a[1],c=a[2];if(-1===a[0])return r("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<l)return this.method="next",this.arg=e,r(l),!0;if(s<c)return r(c),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={i:T(t),r:n,n:r},"next"===this.method&&(this.arg=e),d}},t}function U(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){U(a,r,o,i,s,"next",e)}function s(e){U(a,r,o,i,s,"throw",e)}i(void 0)}))}}var B,$,q={apiKey:"AIzaSyCUlHCKRwkIpJX0PXc3Nvt_l2HmfJwyjC0",authDomain:"timetable-28639.firebaseapp.com",projectId:"timetable-28639",storageBucket:"timetable-28639.firebasestorage.app",messagingSenderId:"653769103112",appId:"1:653769103112:web:ba7fac1278faff3d843ebd",measurementId:"G-3CSMHJHN2H"},H=!1,G=function(){var e=V(F().mark((function e(){var t,n,r,a,i,s;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H){e.next=2;break}return e.abrupt("return",$);case 2:return e.prev=2,e.next=5,Promise.resolve().then(o.bind(o,223));case 5:return t=e.sent,n=t.initializeApp,e.next=9,o.e(895).then(o.bind(o,895));case 9:return r=e.sent,a=r.getAuth,i=r.setPersistence,s=r.browserLocalPersistence,B=n(q),$=a(B),e.next=17,i($,s);case 17:return H=!0,e.abrupt("return",$);case 21:throw e.prev=21,e.t0=e.catch(2),console.error("Failed to initialize Firebase:",e.t0),e.t0;case 25:case"end":return e.stop()}}),e,null,[[2,21]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=V(F().mark((function e(t,n){var r,a;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=3;break}return e.next=3,G();case 3:return e.next=5,o.e(895).then(o.bind(o,895));case 5:return r=e.sent,a=r.signInWithEmailAndPassword,e.abrupt("return",a($,t,n));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=V(F().mark((function e(t,n,r){var a,i,s,l,c,u,d,h;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=3;break}return e.next=3,G();case 3:return e.next=5,Promise.resolve().then(o.bind(o,394));case 5:if(a=e.sent,i=a.isDisposableEmail,s=a.isUsernameAvailable,l=a.createUserDocument,!i(n)){e.next=11;break}throw new Error("Temporary emails are not allowed.");case 11:return e.next=13,s(t);case 13:if(e.sent){e.next=15;break}throw new Error("Username already taken");case 15:return e.next=17,o.e(895).then(o.bind(o,895));case 17:return c=e.sent,u=c.createUserWithEmailAndPassword,e.next=21,u($,n,r);case 21:return d=e.sent,h=d.user,e.next=25,l(h.uid,{username:t,email:n});case 25:return e.abrupt("return",d);case 26:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),W=function(){var e=V(F().mark((function e(t){var n,r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=3;break}return e.next=3,G();case 3:return e.next=5,o.e(895).then(o.bind(o,895));case 5:return n=e.sent,r=n.sendPasswordResetEmail,e.abrupt("return",r($,t));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=V(F().mark((function e(){var t,n;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H&&$.currentUser){e.next=2;break}throw new Error("User not authenticated");case 2:return e.next=4,o.e(895).then(o.bind(o,895));case 4:return t=e.sent,n=t.sendEmailVerification,e.abrupt("return",n($.currentUser));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=V(F().mark((function e(){var t,n;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=2;break}throw new Error("Firebase auth not initialized");case 2:return e.next=4,o.e(895).then(o.bind(o,895));case 4:return t=e.sent,n=t.signOut,e.abrupt("return",n($));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){return H&&$?$.currentUser:null},Z=function(e){if(!H||!$)return function(){};var t=function(){var t=V(F().mark((function t(){var n,r;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e(895).then(o.bind(o,895));case 2:return n=t.sent,r=n.onAuthStateChanged,t.abrupt("return",r($,e));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t()},ee=function(){var e=V(F().mark((function e(t){var n,r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H&&$&&$.currentUser){e.next=2;break}throw new Error("User not authenticated");case 2:return e.next=4,o.e(895).then(o.bind(o,895));case 4:return n=e.sent,r=n.updateProfile,e.abrupt("return",r($.currentUser,t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=V(F().mark((function e(t,n){var r,a,i,s,l;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H&&$&&$.currentUser){e.next=2;break}throw new Error("User not authenticated");case 2:return e.next=4,o.e(895).then(o.bind(o,895));case 4:return r=e.sent,a=r.EmailAuthProvider,i=r.reauthenticateWithCredential,s=r.updatePassword,l=a.credential($.currentUser.email,t),e.next=11,i($.currentUser,l);case 11:return e.abrupt("return",s($.currentUser,n));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ne=o(394);function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function oe(){oe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(t,n,r,o){var a=n&&n.prototype instanceof h?n:h,i=Object.create(a.prototype);return l(i,"_invoke",function(t,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var c=u(t,n,r);if("normal"===c.type){if(o=r.done?4:2,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=4,r.method="throw",r.arg=c.arg)}}}(t,r,new S(o||[])),!0),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d={};function h(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==n&&r.call(b,a)&&(m=b);var y=p.prototype=h.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,s){var l=u(e[o],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==re(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;l(this,"_invoke",(function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(t,n){var r=n.method,o=t.i[r];if(o===e)return n.delegate=null,"throw"===r&&t.i.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(o,t.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,d;var i=a.arg;return i?i.done?(n[t.r]=i.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function k(e){this.tryEntries.push(e)}function E(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function S(e){this.tryEntries=[[-1]],e.forEach(k,this),this.reset(!0)}function T(t){if(null!=t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(re(t)+" is not iterable")}return f.prototype=p,l(y,"constructor",p),l(p,"constructor",f),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},v(w.prototype),l(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new w(c(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e){i.type="throw",i.arg=t,n.next=e}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,l=a[1],c=a[2];if(-1===a[0])return r("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<l)return this.method="next",this.arg=e,r(l),!0;if(s<c)return r(c),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={i:T(t),r:n,n:r},"next"===this.method&&(this.arg=e),d}},t}function ae(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ae(a,r,o,i,s,"next",e)}function s(e){ae(a,r,o,i,s,"throw",e)}i(void 0)}))}}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ce=(0,i.createContext)(null),ue=function(){var e=(0,i.useContext)(ce);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};const de=function(e){var t=e.children,n=se((0,i.useState)(null),2),r=n[0],o=n[1],a=se((0,i.useState)(null),2),s=a[0],l=a[1],c=se((0,i.useState)(!1),2),u=c[0],d=c[1],h=se((0,i.useState)(!0),2),f=h[0],p=h[1],m=se((0,i.useState)(!1),2),g=m[0],b=m[1],y=se((0,i.useState)(null),2),v=y[0],w=y[1];(0,i.useEffect)((function(){var e=function(){var e=ie(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G();case 3:return b(!0),t=Z(function(){var e=ie(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),!t){e.next=17;break}return console.log("User authenticated:",t.uid),o(t),d(!0),e.prev=5,e.next=8,(0,ne.getUserData)(t.uid);case 8:n=e.sent,l(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Error fetching user data:",e.t0);case 15:e.next=21;break;case 17:console.log("No user authenticated"),o(null),l(null),d(!1);case 21:p(!1);case 22:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",(function(){return t()}));case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to initialize auth:",e.t0),w(e.t0.message),b(!0),p(!1),o(null),l(null),d(!1);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,i.useEffect)((function(){var e=function(){var e=ie(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!r.uid){e.next=11;break}return e.prev=1,e.next=4,(0,ne.getUserData)(r.uid);case 4:t=e.sent,l(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error refreshing user data:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[r]);var x,k={user:r,userData:s,isAuthenticated:u,isLoading:f,authInitialized:g,error:v,refreshUserData:(x=ie(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!r.uid){e.next=13;break}return e.prev=1,e.next=4,(0,ne.getUserData)(r.uid);case 4:return t=e.sent,l(t),e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e.catch(1),console.error("Error refreshing user data:",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),function(){return x.apply(this,arguments)})};return i.createElement(ce.Provider,{value:k},t)};var he=o(72),fe=o.n(he),pe=o(719);function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ge(){ge=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(t,n,r,o){var a=n&&n.prototype instanceof h?n:h,i=Object.create(a.prototype);return l(i,"_invoke",function(t,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var c=u(t,n,r);if("normal"===c.type){if(o=r.done?4:2,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=4,r.method="throw",r.arg=c.arg)}}}(t,r,new S(o||[])),!0),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d={};function h(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==n&&r.call(b,a)&&(m=b);var y=p.prototype=h.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,s){var l=u(e[o],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==me(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;l(this,"_invoke",(function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(t,n){var r=n.method,o=t.i[r];if(o===e)return n.delegate=null,"throw"===r&&t.i.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(o,t.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,d;var i=a.arg;return i?i.done?(n[t.r]=i.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function k(e){this.tryEntries.push(e)}function E(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function S(e){this.tryEntries=[[-1]],e.forEach(k,this),this.reset(!0)}function T(t){if(null!=t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(me(t)+" is not iterable")}return f.prototype=p,l(y,"constructor",p),l(p,"constructor",f),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},v(w.prototype),l(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new w(c(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e){i.type="throw",i.arg=t,n.next=e}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,l=a[1],c=a[2];if(-1===a[0])return r("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<l)return this.method="next",this.arg=e,r(l),!0;if(s<c)return r(c),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={i:T(t),r:n,n:r},"next"===this.method&&(this.arg=e),d}},t}function be(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){be(a,r,o,i,s,"next",e)}function s(e){be(a,r,o,i,s,"throw",e)}i(void 0)}))}}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return we(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}fe()(pe.A,{insert:"head",singleton:!1}),pe.A.locals;const xe=function(e){var t=e.onClose,n=ve((0,i.useState)(""),2),r=n[0],o=n[1],a=ve((0,i.useState)(""),2),s=a[0],l=a[1],c=ve((0,i.useState)(!1),2),u=c[0],d=c[1],h=ve((0,i.useState)(""),2),f=h[0],p=h[1],m=ve((0,i.useState)(""),2),g=m[0],b=m[1],y=ve((0,i.useState)(null),2),v=y[0],w=y[1],x=ve((0,i.useState)(null),2),k=(x[0],x[1]),E=ve((0,i.useState)(!0),2),S=E[0],T=E[1];(0,i.useEffect)((function(){var e=function(){var e=ye(ge().mark((function e(){var t,n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=X())){e.next=15;break}return w(t),o(t.displayName||""),e.prev=4,e.next=7,(0,ne.getUserData)(t.uid);case 7:n=e.sent,k(n),n&&n.username?(l(n.username),T(!0)):T(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Error fetching user data from Firestore:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var C=function(){var e=ye(ge().mark((function e(t){var n,o;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(!0),p(""),b(""),e.prev=4,e.next=7,ee({displayName:r});case 7:if(!v){e.next=12;break}return n={displayName:r},!S&&s.trim()&&(n.username=s.trim()),e.next=12,(0,ne.updateUserDocument)(v.uid,n);case 12:o=X(),w(o),b("Profile updated successfully!"),!S&&s.trim()&&T(!0),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),console.error("Error updating profile:",e.t0),p("Failed to update profile. Please try again.");case 22:return e.prev=22,d(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[4,18,22,25]])})));return function(t){return e.apply(this,arguments)}}();return v?i.createElement("div",{className:"modal-overlay"},i.createElement("div",{className:"user-profile-modal"},i.createElement("div",{className:"modal-header"},i.createElement("h2",null,"Edit Profile"),i.createElement("button",{className:"close-button",onClick:t},"×")),i.createElement("div",{className:"modal-content"},i.createElement("div",{className:"user-avatar-section"},v.photoURL?i.createElement("img",{src:v.photoURL,alt:"User avatar",className:"profile-avatar"}):i.createElement("div",{className:"profile-avatar-placeholder"},r?r[0].toUpperCase():v.email[0].toUpperCase())),f&&i.createElement("div",{className:"profile-error"},f),g&&i.createElement("div",{className:"profile-success"},g),i.createElement("form",{onSubmit:C,className:"profile-form"},i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"email"},"Email"),i.createElement("input",{type:"text",id:"email",value:v.email||"",disabled:!0,className:"disabled-input"}),i.createElement("p",{className:"input-hint"},"Email cannot be changed")),i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"username"},"Username"),i.createElement("input",{type:"text",id:"username",value:s,onChange:function(e){return l(e.target.value)},disabled:u||S,className:S?"disabled-input":"",placeholder:"Enter a username"}),S&&i.createElement("p",{className:"input-hint"},"Username cannot be changed once set")),i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"displayName"},"Display Name"),i.createElement("input",{type:"text",id:"displayName",value:r,onChange:function(e){return o(e.target.value)},disabled:u,placeholder:"Enter your display name"})),i.createElement("div",{className:"profile-actions"},i.createElement("button",{type:"button",className:"cancel-button",onClick:t,disabled:u},"Cancel"),i.createElement("button",{type:"submit",className:"save-button",disabled:u},u?"Saving...":"Save Changes")))))):i.createElement("div",{className:"modal-overlay"},i.createElement("div",{className:"user-profile-modal"},i.createElement("div",{className:"modal-header"},i.createElement("h2",null,"User Profile"),i.createElement("button",{className:"close-button",onClick:t},"×")),i.createElement("div",{className:"modal-content"},i.createElement("p",null,"Loading user data..."))))};var ke=o(458);function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function Se(){Se=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(t,n,r,o){var a=n&&n.prototype instanceof h?n:h,i=Object.create(a.prototype);return l(i,"_invoke",function(t,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var c=u(t,n,r);if("normal"===c.type){if(o=r.done?4:2,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=4,r.method="throw",r.arg=c.arg)}}}(t,r,new S(o||[])),!0),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d={};function h(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==n&&r.call(b,a)&&(m=b);var y=p.prototype=h.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,s){var l=u(e[o],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==Ee(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;l(this,"_invoke",(function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(t,n){var r=n.method,o=t.i[r];if(o===e)return n.delegate=null,"throw"===r&&t.i.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(o,t.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,d;var i=a.arg;return i?i.done?(n[t.r]=i.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function k(e){this.tryEntries.push(e)}function E(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function S(e){this.tryEntries=[[-1]],e.forEach(k,this),this.reset(!0)}function T(t){if(null!=t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Ee(t)+" is not iterable")}return f.prototype=p,l(y,"constructor",p),l(p,"constructor",f),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},v(w.prototype),l(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new w(c(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e){i.type="throw",i.arg=t,n.next=e}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,l=a[1],c=a[2];if(-1===a[0])return r("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<l)return this.method="next",this.arg=e,r(l),!0;if(s<c)return r(c),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={i:T(t),r:n,n:r},"next"===this.method&&(this.arg=e),d}},t}function Te(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}fe()(ke.A,{insert:"head",singleton:!1}),ke.A.locals;const Ne=function(e){var t,n,r,o=e.onClose,a=ue(),s=a.user,l=a.userData,c=(a.refreshUserData,Ce((0,i.useState)(!1),2)),u=c[0],d=c[1],h=Ce((0,i.useState)(!1),2),f=h[0],p=h[1],m=Ce((0,i.useState)(null),2),g=m[0],b=m[1],y=function(){var e,t=(e=Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&!s.emailVerified){e.next=2;break}return e.abrupt("return");case 2:return d(!0),p(!1),b(null),e.prev=5,e.next=8,Q();case 8:p(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),console.error("Error sending verification email:",e.t0),b(e.t0.message||"Failed to send verification email");case 15:return e.prev=15,d(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[5,11,15,18]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Te(a,r,o,i,s,"next",e)}function s(e){Te(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),v=function(e){if(!e)return"Unknown";try{return new Date(e).toLocaleString()}catch(t){return e}};return s?i.createElement("div",{className:"user-info-modal"},i.createElement("div",{className:"user-info-container"},i.createElement("h2",null,"Account Information"),i.createElement("div",{className:"user-avatar"},s.photoURL?i.createElement("img",{src:s.photoURL,alt:"User avatar"}):i.createElement("div",{className:"avatar-placeholder"},s.displayName?s.displayName[0].toUpperCase():s.email[0].toUpperCase())),i.createElement("div",{className:"user-details"},i.createElement("p",null,i.createElement("strong",null,"User ID:")," ",s.uid),i.createElement("p",null,i.createElement("strong",null,"Email:")," ",s.email),i.createElement("p",null,i.createElement("strong",null,"Display Name:")," ",s.displayName||"Not set"),l&&l.username&&i.createElement("p",null,i.createElement("strong",null,"Username:")," ",l.username),i.createElement("p",null,i.createElement("strong",null,"Email Verified:")," ",s.emailVerified?"Yes":"No",!s.emailVerified&&i.createElement("button",{className:"verify-button",onClick:y,disabled:u||f},u?"Sending...":f?"Sent!":"Verify Email")),g&&i.createElement("p",{className:"verification-error"},g),f&&i.createElement("p",{className:"verification-sent"},"Verification email has been sent to ",s.email,". Please check your inbox."),i.createElement("p",null,i.createElement("strong",null,"Provider:")," ",(null===(t=s.providerData[0])||void 0===t?void 0:t.providerId)||"Unknown"),i.createElement("p",null,i.createElement("strong",null,"Created:")," ",v(null===(n=s.metadata)||void 0===n?void 0:n.creationTime)),i.createElement("p",null,i.createElement("strong",null,"Last Sign-in:")," ",v(null===(r=s.metadata)||void 0===r?void 0:r.lastSignInTime))),i.createElement("div",{className:"info-actions"},i.createElement("button",{onClick:o,className:"close-button"},"Close")))):i.createElement("div",{className:"user-info-modal"},i.createElement("div",{className:"user-info-container"},i.createElement("h2",null,"Account Information"),i.createElement("p",null,"No user logged in"),i.createElement("div",{className:"info-actions"},i.createElement("button",{onClick:o,className:"close-button"},"Close"))))};var Ae=o(968);function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Oe(){Oe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(t,n,r,o){var a=n&&n.prototype instanceof h?n:h,i=Object.create(a.prototype);return l(i,"_invoke",function(t,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var c=u(t,n,r);if("normal"===c.type){if(o=r.done?4:2,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=4,r.method="throw",r.arg=c.arg)}}}(t,r,new S(o||[])),!0),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d={};function h(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==n&&r.call(b,a)&&(m=b);var y=p.prototype=h.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,s){var l=u(e[o],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==Ie(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;l(this,"_invoke",(function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(t,n){var r=n.method,o=t.i[r];if(o===e)return n.delegate=null,"throw"===r&&t.i.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(o,t.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,d;var i=a.arg;return i?i.done?(n[t.r]=i.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function k(e){this.tryEntries.push(e)}function E(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function S(e){this.tryEntries=[[-1]],e.forEach(k,this),this.reset(!0)}function T(t){if(null!=t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Ie(t)+" is not iterable")}return f.prototype=p,l(y,"constructor",p),l(p,"constructor",f),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},v(w.prototype),l(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new w(c(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e){i.type="throw",i.arg=t,n.next=e}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,l=a[1],c=a[2];if(-1===a[0])return r("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<l)return this.method="next",this.arg=e,r(l),!0;if(s<c)return r(c),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={i:T(t),r:n,n:r},"next"===this.method&&(this.arg=e),d}},t}function Pe(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}fe()(Ae.A,{insert:"head",singleton:!1}),Ae.A.locals;const je=function(e){var t=e.onClose,n=De((0,i.useState)(""),2),r=n[0],o=n[1],a=De((0,i.useState)(""),2),s=a[0],l=a[1],c=De((0,i.useState)(""),2),u=c[0],d=c[1],h=De((0,i.useState)(!1),2),f=h[0],p=h[1],m=De((0,i.useState)(""),2),g=m[0],b=m[1],y=De((0,i.useState)(""),2),v=y[0],w=y[1],x=function(){var e,t=(e=Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r&&s&&u){e.next=4;break}return b("Please fill in all fields"),e.abrupt("return");case 4:if(s===u){e.next=7;break}return b("New passwords do not match"),e.abrupt("return");case 7:if(!(s.length<6)){e.next=10;break}return b("New password must be at least 6 characters"),e.abrupt("return");case 10:return p(!0),b(""),w(""),e.prev=13,e.next=16,te(r,s);case 16:w("Password updated successfully!"),o(""),l(""),d(""),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(13),console.error("Error changing password:",e.t0),"auth/wrong-password"===e.t0.code?b("Current password is incorrect"):"auth/weak-password"===e.t0.code?b("New password is too weak. It should be at least 6 characters"):"auth/requires-recent-login"===e.t0.code?b("This operation is sensitive and requires recent authentication. Please log in again before retrying."):b("Failed to change password. Please try again.");case 26:return e.prev=26,p(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[13,22,26,29]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Pe(a,r,o,i,s,"next",e)}function s(e){Pe(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return i.createElement("div",{className:"change-password-modal"},i.createElement("div",{className:"change-password-container"},i.createElement("h2",null,"Change Password"),g&&i.createElement("div",{className:"password-error"},g),v&&i.createElement("div",{className:"password-success"},v),i.createElement("form",{onSubmit:x},i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"currentPassword"},"Current Password"),i.createElement("input",{type:"password",id:"currentPassword",value:r,onChange:function(e){return o(e.target.value)},disabled:f,placeholder:"Enter your current password"})),i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"newPassword"},"New Password"),i.createElement("input",{type:"password",id:"newPassword",value:s,onChange:function(e){return l(e.target.value)},disabled:f,placeholder:"Enter your new password"})),i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"confirmPassword"},"Confirm New Password"),i.createElement("input",{type:"password",id:"confirmPassword",value:u,onChange:function(e){return d(e.target.value)},disabled:f,placeholder:"Confirm your new password"})),i.createElement("div",{className:"password-actions"},i.createElement("button",{type:"button",className:"cancel-button",onClick:t,disabled:f},"Cancel"),i.createElement("button",{type:"submit",className:"save-button",disabled:f},f?"Updating...":"Update Password")))))};var Re=o(509);fe()(Re.A,{insert:"head",singleton:!1}),Re.A.locals;const Le=function(e){var t=e.onConfirm,n=e.onCancel,r=e.isLoading,o=e.error,a=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),i.createElement("div",{className:"logout-confirm-modal",onClick:function(e){e.stopPropagation()},ref:a},i.createElement("div",{className:"logout-confirm-container"},i.createElement("h2",null,"Confirm Logout"),i.createElement("p",null,"Are you sure you want to log out?"),o&&i.createElement("div",{className:"error-message"},o),i.createElement("div",{className:"logout-confirm-actions"},i.createElement("button",{className:"cancel-button",onClick:n,disabled:r},"Cancel"),i.createElement("button",{className:"confirm-button",onClick:t,disabled:r},r?"Signing out...":"Yes, Log Out"))))};var ze=o(93);function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function Ue(){Ue=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(t,n,r,o){var a=n&&n.prototype instanceof h?n:h,i=Object.create(a.prototype);return l(i,"_invoke",function(t,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var c=u(t,n,r);if("normal"===c.type){if(o=r.done?4:2,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=4,r.method="throw",r.arg=c.arg)}}}(t,r,new S(o||[])),!0),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d={};function h(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==n&&r.call(b,a)&&(m=b);var y=p.prototype=h.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,s){var l=u(e[o],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==Fe(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;l(this,"_invoke",(function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(t,n){var r=n.method,o=t.i[r];if(o===e)return n.delegate=null,"throw"===r&&t.i.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(o,t.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,d;var i=a.arg;return i?i.done?(n[t.r]=i.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function k(e){this.tryEntries.push(e)}function E(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function S(e){this.tryEntries=[[-1]],e.forEach(k,this),this.reset(!0)}function T(t){if(null!=t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Fe(t)+" is not iterable")}return f.prototype=p,l(y,"constructor",p),l(p,"constructor",f),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},v(w.prototype),l(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new w(c(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e){i.type="throw",i.arg=t,n.next=e}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,l=a[1],c=a[2];if(-1===a[0])return r("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<l)return this.method="next",this.arg=e,r(l),!0;if(s<c)return r(c),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={i:T(t),r:n,n:r},"next"===this.method&&(this.arg=e),d}},t}function Ve(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}fe()(ze.A,{insert:"head",singleton:!1}),ze.A.locals;const qe=function(e){var t=e.onLogoutSuccess,n=e.className,r=void 0===n?"":n,o=Be((0,i.useState)(!1),2),a=o[0],s=o[1],l=Be((0,i.useState)(!1),2),c=l[0],u=l[1],d=Be((0,i.useState)(""),2),h=d[0],f=d[1],p=function(){var e,n=(e=Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),f(""),e.prev=2,e.next=5,J();case 5:t&&t(),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Logout error:",e.t0),f("Failed to sign out. Please try again."),s(!1);case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,8,13,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ve(a,r,o,i,s,"next",e)}function s(e){Ve(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return i.createElement(i.Fragment,null,i.createElement("button",{className:"logout-button ".concat(r),onClick:function(){s(!0)},disabled:c},i.createElement("span",{className:"user-menu-icon"},"🚪"),i.createElement("span",null,"Logout")),a&&i.createElement(Le,{onConfirm:p,onCancel:function(){s(!1)},isLoading:c,error:h}))};var He=o(427);fe()(He.A,{insert:"head",singleton:!1}),He.A.locals;const Ge=function(e){var t=e.onClose;return i.createElement("div",{className:"help-page-overlay"},i.createElement("div",{className:"help-page-container"},i.createElement("div",{className:"help-page-header"},i.createElement("h2",null,"Help & FAQ"),i.createElement("button",{className:"help-close-button",onClick:t},"×")),i.createElement("div",{className:"help-content"},i.createElement("section",{className:"help-section"},i.createElement("h3",null,"Getting Started"),i.createElement("div",{className:"help-item"},i.createElement("h4",null,"How do I add classes to my timetable?"),i.createElement("p",null,"Click on any empty time slot in the timetable to add a new class. You can specify the subject name, location, and other details.")),i.createElement("div",{className:"help-item"},i.createElement("h4",null,"Can I customize the appearance?"),i.createElement("p",null,"Yes! Click on the gear icon (⚙️) to open the settings panel where you can change themes and other display options."))),i.createElement("section",{className:"help-section"},i.createElement("h3",null,"Account Management"),i.createElement("div",{className:"help-item"},i.createElement("h4",null,"How do I change my password?"),i.createElement("p",null,'Click on your profile icon in the top right corner and select "Change Password" from the dropdown menu.')),i.createElement("div",{className:"help-item"},i.createElement("h4",null,"What happens if I forget my password?"),i.createElement("p",null,'On the login screen, click the "Forgot Password" link and follow the instructions to reset your password via email.'))),i.createElement("section",{className:"help-section"},i.createElement("h3",null,"Tasks & Assignments"),i.createElement("div",{className:"help-item"},i.createElement("h4",null,"How do I track my assignments?"),i.createElement("p",null,"Click on the calendar icon (📅) to switch to the Task Tracker view where you can add, edit, and manage your assignments.")),i.createElement("div",{className:"help-item"},i.createElement("h4",null,"Can I set due dates and reminders?"),i.createElement("p",null,"Yes, when adding a task you can specify due dates. The system will display tasks ordered by their due dates."))),i.createElement("section",{className:"help-section"},i.createElement("h3",null,"Data Management"),i.createElement("div",{className:"help-item"},i.createElement("h4",null,"Is my data backed up?"),i.createElement("p",null,"Yes, all your timetable data is automatically saved to your account in the cloud. You can access it from any device.")),i.createElement("div",{className:"help-item"},i.createElement("h4",null,"Can I export my timetable?"),i.createElement("p",null,"Currently, we're working on implementing export functionality. This feature will be available in a future update.")))),i.createElement("div",{className:"help-footer"},i.createElement("p",null,"If you need additional help, please contact support at support@schooltimetable.example.com"),i.createElement("button",{className:"help-close-btn",onClick:t},"Close"))))};var Ke=o(428);function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return We(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}fe()(Ke.A,{insert:"head",singleton:!1}),Ke.A.locals;const Qe=function(e){var t=e.toggleSidebar,n=e.sidebarOpen,r=e.toggleTaskTracker,o=e.taskTrackerActive,a=Ye((0,i.useState)(!1),2),s=a[0],l=a[1],c=Ye((0,i.useState)(!1),2),u=c[0],d=c[1],h=Ye((0,i.useState)("enlarged"),2),f=h[0],p=h[1],m=Ye((0,i.useState)(!1),2),g=m[0],b=m[1],y=Ye((0,i.useState)(!1),2),v=y[0],w=y[1],x=Ye((0,i.useState)(!1),2),k=x[0],E=x[1],S=Ye((0,i.useState)(!1),2),T=S[0],C=S[1],_=Ye((0,i.useState)(!1),2),N=_[0],A=_[1],I=Ye((0,i.useState)(!1),2),O=I[0],P=I[1],D=((0,i.useRef)(0),(0,i.useRef)(!1),(0,i.useRef)(null)),M=ue().user,j=(0,i.useMemo)((function(){if(!M||!M.metadata||!M.metadata.creationTime)return!1;var e=new Date(M.metadata.creationTime).getTime(),t=((new Date).getTime()-e)/6e4<2;return t&&console.log("Detected newly registered user"),t}),[M]);(0,i.useEffect)((function(){var e=function(){var e=window.scrollY,t=e>20;t!==s&&(s&&!t&&(d(!0),setTimeout((function(){return d(!1)}),500)),l(t)),p(e>50?"shrunk":"enlarged")};return window.addEventListener("scroll",e,{passive:!0}),e(),function(){window.removeEventListener("scroll",e)}}),[s]),(0,i.useEffect)((function(){var e=function(e){D.current&&!D.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]);var R=function(){b(!1),console.log("User logged out successfully")},L=function(){if(M){if(M.displayName)return M.displayName[0].toUpperCase();if(M.email)return M.email[0].toUpperCase()}return"👤"};return i.createElement(i.Fragment,null,i.createElement("div",{className:"header-trigger-zone"}),i.createElement("header",{className:"header ".concat(s?"scrolled":""," ").concat(u?"expanding":""," ").concat(f)},i.createElement("div",{className:"header-content"},i.createElement("div",{className:"logo-container"},i.createElement("div",{className:"logo"},i.createElement("span",{className:"logo-icon"},"📚")),i.createElement("button",{className:"calendar-toggle ".concat(o?"active":""),onClick:r,title:o?"View Timetable":"Tasks & Assignments"},i.createElement("span",{className:"toggle-icon"},"📅")),i.createElement("button",{className:"sidebar-toggle ".concat(n?"":"collapsed"),onClick:t,title:n?"Settings panel is open":"Open settings panel"},i.createElement("span",{className:"toggle-icon"},"⚙️"))),i.createElement("div",{className:"title-container"},i.createElement("h1",null,"School Timetable"),i.createElement("p",{className:"subtitle"},"Your Customizable Class Schedule")),i.createElement("div",{className:"header-actions"},M&&i.createElement("div",{className:"user-menu-container",ref:D},i.createElement("button",{className:"user-profile-button",onClick:function(){b(!g)},title:"User profile"},i.createElement("span",{className:"user-initial"},L())),g&&i.createElement("div",{className:"user-dropdown-menu"},i.createElement("div",{className:"user-info"},i.createElement("div",{className:"user-avatar-large"},i.createElement("span",null,L())),i.createElement("p",{className:"user-email"},M.email),M.displayName&&i.createElement("p",{className:"user-name"},M.displayName)),i.createElement("div",{className:"user-menu-actions"},i.createElement("button",{className:"user-menu-button",onClick:function(){b(!1),w(!0)}},i.createElement("span",{className:"user-menu-icon"},"👤"),i.createElement("span",null,"Profile")),i.createElement("button",{className:"user-menu-button",onClick:function(){b(!1),C(!0)}},i.createElement("span",{className:"user-menu-icon"},"ℹ️"),i.createElement("span",null,"Account Info")),i.createElement("button",{className:"user-menu-button",onClick:function(){if(j)return console.log("Change password not shown for newly registered user"),void b(!1);b(!1),E(!0)},disabled:j},i.createElement("span",{className:"user-menu-icon"},"🔒"),i.createElement("span",null,j?"Verify Email First":"Change Password")),i.createElement(qe,{onLogoutSuccess:R})))),i.createElement("button",{className:"help-button",title:"Help",onClick:function(){P(!O)}},i.createElement("span",null,"?"))))),v&&i.createElement(xe,{onClose:function(){return w(!1)}}),k&&!j&&i.createElement(je,{onClose:function(){return E(!1)}}),T&&i.createElement(Ne,{onClose:function(){return C(!1)}}),N&&i.createElement(Le,{onCancel:function(){return A(!1)},onConfirm:R}),O&&i.createElement(Ge,{onClose:function(){return P(!1)}}))};function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t,n){return(t=function(e){var t=function(e){if("object"!=Je(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Je(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const nt=function(e){var t,n,r=e.slot,o=e.onUpdate,a=e.onRemove,s=e.displaySettings,l=e.isEditing,c=e.onStartEditing,u=e.onCancelEditing,d=(t=(0,i.useState)(Ze({},r)),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return tt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=d[0],f=d[1],p=(0,i.useRef)(null);(0,i.useEffect)((function(){console.log("Slot changed, updating editedSlot:",r),f(Ze({},r))}),[r]),(0,i.useEffect)((function(){l&&p.current&&setTimeout((function(){p.current.scrollIntoView({behavior:"smooth",block:"center"})}),50)}),[l]);var m,g=function(e){var t=e.target,n=t.name,r=t.value;f(Ze(Ze({},h),{},et({},n,r))),console.log("Updating ".concat(n," to ").concat(r))},b=function(){var e="dark"===document.documentElement.getAttribute("data-theme")||document.body.classList.contains("theme-dark");return(e?{"Mathematics - Advanced":"#2c5b9e","Specialist Mathematics":"#3f4d8c",Physics:"#2d6e30","Biology Units 1 & 2":"#3d703f",English:"#aa2c57","War Boom and Bust":"#c8502b","Active and Able":"#c19412",Tutorial:"#757575","Pastoral Care":"#6a1b7a"}:{"Mathematics - Advanced":"#4a90e2","Specialist Mathematics":"#5c6bc0",Physics:"#43a047","Biology Units 1 & 2":"#66bb6a",English:"#ec407a","War Boom and Bust":"#ff7043","Active and Able":"#ffca28",Tutorial:"#bdbdbd","Pastoral Care":"#9c27b0"})[r.subject]||(e?"#5c5c5c":"#9e9e9e")};return l?i.createElement("div",{className:"time-slot editing",ref:p},i.createElement("div",{className:"time-slot-edit-header"},i.createElement("h4",null,"Edit Class"),i.createElement("span",{className:"edit-period-label"},"Period ",r.period," • ",r.startTime," - ",r.endTime)),i.createElement("div",{className:"time-slot-edit-form"},i.createElement("div",{className:"form-group"},i.createElement("label",null,"Subject:"),i.createElement("input",{type:"text",name:"subject",value:h.subject||"",onChange:g,placeholder:"Enter subject name",autoFocus:!0})),i.createElement("div",{className:"form-group"},i.createElement("label",null,"Code:"),i.createElement("input",{type:"text",name:"code",value:h.code||"",onChange:g,placeholder:"Enter class code"})),i.createElement("div",{className:"form-group"},i.createElement("label",null,"Start Time:"),i.createElement("input",{type:"text",name:"startTime",value:h.startTime||"",onChange:g,placeholder:"e.g., 8:35am"})),i.createElement("div",{className:"form-group"},i.createElement("label",null,"End Time:"),i.createElement("input",{type:"text",name:"endTime",value:h.endTime||"",onChange:g,placeholder:"e.g., 9:35am"})),i.createElement("div",{className:"form-group"},i.createElement("label",null,"Room:"),i.createElement("input",{type:"text",name:"room",value:h.room||"",onChange:g,placeholder:"Enter room number"})),i.createElement("div",{className:"form-group"},i.createElement("label",null,"Teacher:"),i.createElement("input",{type:"text",name:"teacher",value:h.teacher||"",onChange:g,placeholder:"e.g., Mr Smith"})),i.createElement("div",{className:"form-actions"},i.createElement("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),function(){var e=Ze(Ze(Ze({},r),h),{},{id:r.id});r.day&&(e.day=r.day),r.period&&(e.period=r.period),console.log("Saving changes:",e);var t=document.querySelector(".form-actions .save-button");t&&(t.textContent="Saving...",t.style.opacity="0.7"),setTimeout((function(){o(r.id||"".concat(r.day,"-").concat(r.period),e)}),150)}()},className:"save-button",type:"button"},"Save"),i.createElement("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),function(){f(Ze({},r));var e=document.querySelector(".form-actions .cancel-button");e&&(e.textContent="Canceling...",e.style.opacity="0.7"),setTimeout((function(){u()}),150)}()},className:"cancel-button",type:"button"},"Cancel")))):i.createElement("div",{className:"time-slot",style:{backgroundColor:b(),color:(m=b(),"dark"===document.documentElement.getAttribute("data-theme")||document.body.classList.contains("theme-dark"),"#ffca28"===m||"#c19412"===m?"#222":"#ffffff")},onClick:function(e){e.target.closest(".time-slot-actions")||c(r.id||"".concat(r.day,"-").concat(r.period))},title:"Click to edit this class"},i.createElement("div",{className:"time-slot-header"},i.createElement("span",{className:"time"},r.startTime," - ",r.endTime),i.createElement("div",{className:"time-slot-actions"},i.createElement("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),c(r.id||"".concat(r.day,"-").concat(r.period))},className:"edit-button",type:"button"},"Edit"),i.createElement("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),a(r.id||"".concat(r.day,"-").concat(r.period))},className:"delete-button",type:"button"},"×"))),i.createElement("h3",{className:"subject-title"},r.subject||"Unnamed Class"),(null==s?void 0:s.displayCode)&&r.code&&i.createElement("p",{className:"code"},r.code),(null==s?void 0:s.displayRoom)&&r.room&&i.createElement("p",{className:"room"},"Room: ",r.room),(null==s?void 0:s.displayTeacher)&&r.teacher&&i.createElement("p",{className:"teacher"},"Teacher: ",function(){if(!r.teacher)return"";if(null!=s&&s.useFirstNameForTeachers){var e=r.teacher.split(" ");if(e.length>=2)return e[1]}return r.teacher}()))};var rt=o(67);function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function at(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=st(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||st(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){if(e){if("string"==typeof e)return lt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}fe()(rt.A,{insert:"head",singleton:!1}),rt.A.locals;const ct=function(e){var t=e.onImport,n=e.onCancel,r=it((0,i.useState)(""),2),o=r[0],a=r[1],s=it((0,i.useState)(null),2),l=s[0],c=s[1],u=it((0,i.useState)(null),2),d=u[0],h=u[1],f=it((0,i.useState)(!1),2),p=f[0],m=f[1],g=it((0,i.useState)("ai"),2),b=g[0],y=g[1],v=(0,i.useRef)(null),w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(v.current){var t=v.current.getBoundingClientRect(),n=window.innerHeight,r=window.innerWidth,o=document.querySelector(".header"),a=o?o.offsetHeight:0,i=r<768,s=n-a;if(t.height>s)window.scrollTo({top:window.scrollY+t.top-a-(i?10:20)+150,behavior:"smooth"});else{var l=Math.max(a+(s-t.height)/2,a+20)-120,c=t.top;(t.bottom>n||t.top<a||Math.abs(c-l)>(i?30:50)||e)&&window.scrollTo({top:window.scrollY+(c-l)-120,behavior:"smooth"})}}};(0,i.useEffect)((function(){document.body.style.overflowY="hidden",document.body.classList.add("modal-open");var e=document.querySelector(".header"),t=e?e.offsetHeight:0;function n(){var e=document.querySelector(".header"),n=e?e.offsetHeight:0;Math.abs(n-t)>5&&(v.current&&v.current.style.setProperty("--actual-header-height","".concat(n,"px")),w(!1))}return v.current&&t>0&&v.current.style.setProperty("--actual-header-height","".concat(t,"px")),setTimeout((function(){return w(!0)}),100),window.addEventListener("resize",w),window.addEventListener("scroll",n),function(){if(document.body.style.overflow="",document.body.style.overflowY="",document.body.style.height="",document.body.style.minHeight="",document.body.style.position="",document.body.classList.remove("modal-open"),window.removeEventListener("resize",w),window.removeEventListener("scroll",n),v.current){v.current.style.animation="";var e=v.current.querySelector(".import-timetable-content");e&&(e.style.animation="")}}}),[]);var x=function(e){var t=e.target.value,n=Math.abs(t.length-o.length)>100;a(t),c(null),h(null),n&&setTimeout((function(){return w(!0)}),1e3)},k=function(e){y(e),c(null),h(null),setTimeout((function(){return w(!0)}),100)};return i.createElement("div",{className:"import-timetable-modal",ref:v},i.createElement("div",{className:"import-timetable-content"},i.createElement("h2",null,"Import Timetable"),i.createElement("div",{className:"import-tabs"},i.createElement("button",{className:"import-tab ".concat("paste"===b?"active":""),onClick:function(){return k("paste")}},"Paste Timetable"),i.createElement("button",{className:"import-tab ".concat("ai"===b?"active":""),onClick:function(){return k("ai")}},"AI Import Instructions")),i.createElement("div",{className:"import-tab-content ".concat("paste"===b?"active":"")},i.createElement("div",{className:"import-instructions"},i.createElement("p",null,"Copy and paste your timetable data directly from your school's timetable system."),i.createElement("p",null,"Your data should have this structure:"),i.createElement("ul",null,i.createElement("li",null,"First line with day labels (Day 1, Day 2, Monday, Tuesday, etc.)"),i.createElement("li",null,'Period headers (like "Period 1" or "Tutorial")'),i.createElement("li",null,'Time information (like "8:35am-9:35am")'),i.createElement("li",null,"Class details including subject, code, room, and teacher")),i.createElement("div",{className:"import-format-note"},i.createElement("strong",null,"Example format:"),i.createElement("br",null),i.createElement("pre",{className:"format-example"},"Day 1       Day 2       Day 3",i.createElement("br",null),"Period 1",i.createElement("br",null),"8:35am-9:35am",i.createElement("br",null),"Mathematics  Physics     English",i.createElement("br",null),"10MAT101     11PHY303    10ENG203",i.createElement("br",null),"Room B12     Room S01     Room A08",i.createElement("br",null),"Mr Smith     Mr Jones     Mrs Brown"),i.createElement("strong",null,"Note:")," Make sure to select all cells in your timetable before copying to maintain the structure.")),i.createElement("textarea",{className:"import-textarea",placeholder:"Paste your timetable data here...",value:o,onChange:x,rows:15}),l&&i.createElement("div",{className:"parse-error"},l),d&&i.createElement("div",{className:"parse-success"},'✓ Timetable data parsed successfully. Click "Import" to apply.')),i.createElement("div",{className:"import-tab-content ".concat("ai"===b?"active":"")},i.createElement("div",{className:"ai-instructions"},i.createElement("h3",{style:{display:"flex",alignItems:"center"}},"AI Assistant Import Instructions",d&&i.createElement("button",{className:"copy-button",onClick:function(){var e='Please convert my school timetable data into a structured JSON format and return it as a copypastable JSON\n\nI need a copy pastable text to follow this exact structure:\n\n{\n  "days": ["Day 1", "Day 2", ...],  // List all days in my timetable (e.g., "Day 1", "Day 2", etc.)\n\n  "periods": [\n    {"name": "Period 1", "startTime": "8:35am", "endTime": "9:35am"},\n    {"name": "Period 2", "startTime": "9:40am", "endTime": "10:40am"},\n    {"name": "Tutorial", "startTime": "10:45am", "endTime": "10:55am"},\n    {"name": "Period 3", "startTime": "11:25am", "endTime": "12:25pm"},\n    {"name": "Period 4", "startTime": "12:30pm", "endTime": "1:30pm"},\n    {"name": "Period 5", "startTime": "2:25pm", "endTime": "3:25pm"}\n  ],\n\n  "classes": {\n    "Day 1": {\n      "Period 1": [\n        {\n          "subject": "Mathematics",\n          "code": "10MAT101",\n          "room": "B12",\n          "teacher": "Mr Smith",\n          "startTime": "8:35am",\n          "endTime": "9:35am"\n        }\n      ],\n      "Tutorial": [\n        {\n          "subject": "Tutorial",\n          "code": "10TUT251009",\n          "room": "S 01",\n          "teacher": "Mrs Sula Tyndall",\n          "startTime": "10:45am",\n          "endTime": "10:55am"\n        }\n      ],\n      // Other periods for Day 1\n    },\n    // Other days follow the same structure\n  }\n}\n\nImportant notes:\n- Keep all fields, even if some are empty (use "" for empty strings)\n- Maintain the exact format of times (e.g., "8:35am", "2:25pm")\n- Each period must be present, even if it has an empty array []\n- Include Tutorial periods exactly as shown above\n- Return the result as a downloadable JSON file\n-there are 10 days\n-must include tute\n-you must do all this in one go\n-must give me 1-10 in one go copy pastable\n\nHere\'s my timetable data:\n\n'.concat(o);navigator.clipboard.writeText(e).then((function(){var e=document.querySelector(".ai-prompt");if(e){var t=e.innerHTML;e.innerHTML='<div class="copy-success">✓ Instructions and timetable copied to clipboard!</div>',setTimeout((function(){e.innerHTML=t}),2e3)}})).catch((function(e){console.error("Failed to copy text: ",e)}))},style:{marginLeft:"10px",padding:"5px 10px",fontSize:"0.9rem"}},"Copy Instructions")),d?i.createElement("div",null,i.createElement("p",null,"Below are the generated instructions along with your timetable data, ready to be copied:"),i.createElement("div",{className:"ai-prompt"},i.createElement("pre",null,'Please convert my school timetable data into a structured JSON format and return it as a copypastable JSON\n\nI need a copy pastable text to follow this exact structure:\n\n{\n  "days": ["Day 1", "Day 2", ...],  // List all days in my timetable (e.g., "Day 1", "Day 2", etc.)\n\n  "periods": [\n    {"name": "Period 1", "startTime": "8:35am", "endTime": "9:35am"},\n    {"name": "Period 2", "startTime": "9:40am", "endTime": "10:40am"},\n    {"name": "Tutorial", "startTime": "10:45am", "endTime": "10:55am"},\n    {"name": "Period 3", "startTime": "11:25am", "endTime": "12:25pm"},\n    {"name": "Period 4", "startTime": "12:30pm", "endTime": "1:30pm"},\n    {"name": "Period 5", "startTime": "2:25pm", "endTime": "3:25pm"}\n  ],\n\n  "classes": {\n    "Day 1": {\n      "Period 1": [\n        {\n          "subject": "Mathematics",\n          "code": "10MAT101",\n          "room": "B12",\n          "teacher": "Mr Smith",\n          "startTime": "8:35am",\n          "endTime": "9:35am"\n        }\n      ],\n      "Tutorial": [\n        {\n          "subject": "Tutorial",\n          "code": "10TUT251009",\n          "room": "S 01",\n          "teacher": "Mrs Sula Tyndall",\n          "startTime": "10:45am",\n          "endTime": "10:55am"\n        }\n      ],\n      // Other periods for Day 1\n    },\n    // Other days follow the same structure\n  }\n}\n\nImportant notes:\n- Keep all fields, even if some are empty (use "" for empty strings)\n- Maintain the exact format of times (e.g., "8:35am", "2:25pm")\n- Each period must be present, even if it has an empty array []\n- Include Tutorial periods exactly as shown above\n- Return the result as a downloadable JSON file\n-there are 10 days\n-must include tute\n-you must do all this in one go\n-must give me 1-10 in one go copy pastable\n\nHere\'s my timetable data:\n'.concat(o)))):i.createElement("div",null,i.createElement("p",null,'Paste your timetable data below and click "Generate AI Instructions" to proceed:'),i.createElement("textarea",{className:"import-textarea",placeholder:"Paste your timetable data here...",value:o,onChange:x,rows:15}),i.createElement("button",{className:"generate-button",onClick:function(){return h(!0)}},"Generate AI Instructions")))),i.createElement("div",{className:"import-actions"},i.createElement("button",{className:"import-cancel-button",onClick:function(){if(v.current){var e=window.innerWidth<768,t=e?.25:.3,r=e?240:280,o=document.querySelector(".header"),a=o?o.offsetHeight:0,i=window.scrollY;v.current.style.animation="importFadeOut ".concat(t,"s ease forwards");var s=v.current.querySelector(".import-timetable-content");s&&(s.style.animation="importSlideDown ".concat(t,"s ease forwards")),i<a&&window.scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){return n()}),r)}else n()},disabled:p},"Cancel"),i.createElement("button",{className:"import-submit-button",onClick:function(){if(!o.trim())return c("Please paste your timetable data first."),void setTimeout((function(){return w(!0)}),50);var e;if("paste"===b?e=function(e){try{m(!0);var t=e.trim().split("\n").map((function(e){return e.trim()})).filter((function(e){return e}));if(t.length<3)return c("Not enough data to parse. Please check your input format."),m(!1),null;var n=t[0],r=[],o=n.split("\t").map((function(e){return e.trim()})).filter((function(e){return e}));if(o.length>=2)r=o;else{var a=n.split(/\s{2,}/).map((function(e){return e.trim()})).filter((function(e){return e}));if(a.length>=2)r=a;else{var i=n.split(" ").map((function(e){return e.trim()})).filter((function(e){return e}));if(!(i.length>=2))return c("Could not detect day columns. Please ensure your data has tab or space separated columns."),m(!1),null;r=i}}var s={days:r,periods:[],classes:{}};s.days.forEach((function(e){s.classes[e]={}}));for(var l=null,u=1;u<t.length;){var d=t[u].trim();if(d)if(d.match(/^(Period|Tutorial|After School)/i)){var f=d,p=null,g=null;if(u+1<t.length){var b=t[u+1].trim().match(/(\d+:\d+[ap]m)[–\-](\d+:\d+[ap]m)/i);b&&(p=b[1],g=b[2],u++)}l={name:f,startTime:p,endTime:g},s.periods.push(l),s.days.forEach((function(e){s.classes[e][l.name]||(s.classes[e][l.name]=[])})),u++;var y,v={},w=at(s.days);try{for(w.s();!(y=w.n()).done;)v[y.value]=[]}catch(e){w.e(e)}finally{w.f()}for(;u<t.length&&!t[u].trim().match(/^(Period|Tutorial|After School)/i);){for(var x=0;x<s.days.length&&u<t.length;x++){var k=t[u].trim();if(k.match(/^(Period|Tutorial|After School)/i))break;k&&v[s.days[x]].push(k),u++}var E,S=!0,T=at(s.days);try{for(T.s();!(E=T.n()).done;)0===v[E.value].length&&(S=!1)}catch(e){T.e(e)}finally{T.f()}if(S||u>=t.length||u<t.length&&t[u].match(/^(Period|Tutorial|After School)/i)){var C,_=at(s.days);try{for(_.s();!(C=_.n()).done;){var N=C.value,A=v[N];if(A.length>0){var I=A[0],O=null,P=null,D=null,M=A.join(" ").match(/\(([\w\d]+)\)/);if(M&&(O=M[1],I=I.replace(/\([\w\d]+\)/,"").trim()),!O)for(var j=0,R=[/\b([A-Z0-9]{5,10})\b/,/\b(\d{1,2}[A-Z]{2,4}\d{1,6})\b/,/\b([A-Z]{2,4}\d{3,6})\b/];j<R.length;j++){var L=R[j],z=A.join(" ").match(L);if(z){O=z[1];break}}if(!P)for(var F=0,U=[/\bRoom\s+([A-Z]\s*\d+)\b/i,/\b([A-Z][\-\s]?\d+)\b/];F<U.length;F++){var V=U[F],B=A.join(" ").match(V);if(B){P=B[1];break}}var $=A.join(" ").match(/(Mr|Ms|Mrs|Dr|Miss)\s+[A-Za-z\s]+/);$&&(D=$[0]),s.classes[N][l.name].push({subject:I,code:O,room:P,teacher:D,startTime:l.startTime,endTime:l.endTime})}}}catch(e){_.e(e)}finally{_.f()}v={};var q,H=at(s.days);try{for(H.s();!(q=H.n()).done;)v[q.value]=[]}catch(e){H.e(e)}finally{H.f()}break}}}else u++;else u++}return m(!1),h(s),s}catch(e){return console.error("Error parsing timetable data:",e),c("Failed to parse the timetable data: "+e.message),m(!1),null}}(o):"ai"===b&&(e=function(e){try{var t;m(!0),console.log("Attempting to parse JSON timetable:",e);try{var n=e.match(/\{[\s\S]*\}/);if(!n)throw new Error("No JSON object found in the text");var r=n[0];console.log("Extracted JSON string:",r),t=JSON.parse(r),console.log("Successfully parsed JSON:",t)}catch(e){return console.error("JSON parsing error:",e),c("Failed to parse JSON. Make sure it's valid JSON format. Error: "+e.message),m(!1),null}if(!t.days||!Array.isArray(t.days)||0===t.days.length)return console.error("Invalid JSON structure - missing days array:",t),c("Invalid JSON structure: 'days' array is missing or empty"),m(!1),null;if(!t.periods||!Array.isArray(t.periods)||0===t.periods.length)return console.error("Invalid JSON structure - missing periods array:",t),c("Invalid JSON structure: 'periods' array is missing or empty"),m(!1),null;if(!t.classes||"object"!==ot(t.classes))return console.error("Invalid JSON structure - missing classes object:",t),c("Invalid JSON structure: 'classes' object is missing"),m(!1),null;var o,a=[],i=at(t.days);try{for(i.s();!(o=i.n()).done;){var s=o.value;t.classes[s]||a.push(s)}}catch(e){i.e(e)}finally{i.f()}return a.length>0?(console.error("Invalid JSON structure: No class data for days: ".concat(a.join(", "))),c("Invalid JSON structure: No class data for days: ".concat(a.join(", "))),m(!1),null):(console.log("JSON validation passed, returning parsed data:",t),m(!1),h(t),t)}catch(e){return console.error("Error parsing JSON timetable data:",e),c("Failed to parse the JSON timetable data: "+e.message),m(!1),null}}(o)),console.log("Import data prepared:",e),e)if(v.current){var n=window.innerWidth<768,r=n?.25:.3,a=n?240:280,i=document.querySelector(".header"),s=i?i.offsetHeight:0,l=window.scrollY;v.current.style.animation="importFadeOut ".concat(r,"s ease forwards");var u=v.current.querySelector(".import-timetable-content");u&&(u.style.animation="importSlideDown ".concat(r,"s ease forwards")),l<s&&window.scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){return t(e)}),a)}else t(e);else setTimeout((function(){return w(!0)}),50)},disabled:p},p?"Processing...":d?"Import":"Parse & Import"))))};var ut=o(896);function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}fe()(ut.A,{insert:"head",singleton:!1}),ut.A.locals;const ht=function(e){var t,n,r=e.onImport,o=(t=(0,i.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return dt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1],l=function(){s(!1),document.body.style.overflow="",document.body.style.overflowY="",document.body.style.height="",document.body.style.minHeight="",document.body.style.position="",document.body.classList.remove("modal-open")};return i.createElement("div",{className:"import-timetable-button"},i.createElement("button",{className:"import-button",onClick:function(){s(!0)},role:"button",tabIndex:"0"},"Import Timetable"),a&&i.createElement(ct,{onImport:function(e){e&&"function"==typeof r&&r(e),l()},onCancel:l}))};function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return(t=yt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yt(r.key),r)}}function yt(e){var t=function(e){if("object"!=ft(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ft(t)?t:t+""}const vt=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timeSlots=[],this.templates={school:this.getSchoolTemplate(),empty:[]}},(t=[{key:"addTimeSlot",value:function(e){this.timeSlots.push(e)}},{key:"editTimeSlot",value:function(e,t){e>=0&&e<this.timeSlots.length?(console.log("[TimetableService] Editing time slot at index:",e),console.log("[TimetableService] Old time slot:",this.timeSlots[e]),console.log("[TimetableService] New time slot:",t),this.timeSlots[e]=mt(mt({},this.timeSlots[e]),t),console.log("[TimetableService] Updated slot:",this.timeSlots[e])):console.error("[TimetableService] Invalid index for editTimeSlot:",e)}},{key:"deleteTimeSlot",value:function(e){e>=0&&e<this.timeSlots.length&&this.timeSlots.splice(e,1)}},{key:"getTimeSlots",value:function(){return this.timeSlots}},{key:"clearTimetable",value:function(){this.timeSlots=[]}},{key:"loadTemplate",value:function(e){return!!this.templates[e]&&(this.timeSlots=JSON.parse(JSON.stringify(this.templates[e])),!0)}},{key:"saveAsTemplate",value:function(e){this.templates[e]=JSON.parse(JSON.stringify(this.timeSlots))}},{key:"getTemplateNames",value:function(){return Object.keys(this.templates)}},{key:"getSchoolTemplate",value:function(){return[{day:1,period:1,startTime:"8:35am",endTime:"9:35am",subject:"Specialist Mathematics",code:"10SPE251101",room:"M 07",teacher:"Mr Paul Jefimenko"},{day:1,period:2,startTime:"9:35am",endTime:"10:35am",subject:"Biology Units 1 & 2",code:"11BIO251101",room:"S 06",teacher:"Mr Andrew Savage"},{day:1,period:"Tutorial",startTime:"10:35am",endTime:"11:05am",subject:"Tutorial",code:"10TUT251009",room:"S 01",teacher:"Mrs Sula Tyndall"},{day:1,period:3,startTime:"11:30am",endTime:"12:30pm",subject:"War Boom and Bust",code:"10WBB251102",room:"C 07",teacher:"Ms Dianne McKenzie"},{day:1,period:4,startTime:"12:30pm",endTime:"1:30pm",subject:"Mathematics - Advanced",code:"10MAA251105",room:"M 05",teacher:"Mr Scott Kertes"},{day:1,period:5,startTime:"2:25pm",endTime:"3:25pm",subject:"English",code:"10ENG251108",room:"A 08",teacher:"Mr Robert Hassell"},{day:2,period:1,startTime:"8:35am",endTime:"9:35am",subject:"Mathematics - Advanced",code:"10MAA251105",room:"M 05",teacher:"Mr Scott Kertes"},{day:2,period:2,startTime:"9:35am",endTime:"10:35am",subject:"War Boom and Bust",code:"10WBB251102",room:"C 07",teacher:"Ms Dianne McKenzie"},{day:2,period:"Tutorial",startTime:"10:35am",endTime:"11:05am",subject:"Tutorial",code:"10TUT251009",room:"S 01",teacher:"Mrs Sula Tyndall"},{day:2,period:3,startTime:"11:30am",endTime:"12:30pm",subject:"Active and Able",code:"10AAA251109",room:"M 08",teacher:"Mr James Beattie"},{day:2,period:4,startTime:"12:30pm",endTime:"1:30pm",subject:"Specialist Mathematics",code:"10SPE251101",room:"M 07",teacher:"Mr Paul Jefimenko"},{day:2,period:5,startTime:"2:25pm",endTime:"3:25pm",subject:"Biology Units 1 & 2",code:"11BIO251101",room:"S 06",teacher:"Mr Andrew Savage"},{day:3,period:1,startTime:"8:35am",endTime:"9:35am",subject:"Physics",code:"10PHY251102",room:"S 01",teacher:"Mr Paul Jefimenko"},{day:3,period:2,startTime:"9:35am",endTime:"10:35am",subject:"Mathematics - Advanced",code:"10MAA251105",room:"M 05",teacher:"Mr Scott Kertes"},{day:3,period:"Tutorial",startTime:"10:35am",endTime:"11:05am",subject:"Tutorial",code:"10TUT251009",room:"S 01",teacher:"Mrs Sula Tyndall"},{day:3,period:3,startTime:"11:30am",endTime:"12:30pm",subject:"Active and Able",code:"10AAA251109",room:"C 07",teacher:"Mr James Beattie"},{day:3,period:4,startTime:"12:30pm",endTime:"1:30pm",subject:"English",code:"10ENG251108",room:"A 08",teacher:"Mr Robert Hassell"},{day:3,period:5,startTime:"2:25pm",endTime:"3:25pm",subject:"War Boom and Bust",code:"10WBB251102",room:"C 07",teacher:"Ms Dianne McKenzie"},{day:4,period:1,startTime:"8:35am",endTime:"9:35am",subject:"Biology Units 1 & 2",code:"11BIO251101",room:"S 06",teacher:"Mr Andrew Savage"},{day:4,period:2,startTime:"9:35am",endTime:"10:35am",subject:"Specialist Mathematics",code:"10SPE251101",room:"M 07",teacher:"Mr Paul Jefimenko"},{day:4,period:"Tutorial",startTime:"10:35am",endTime:"11:05am",subject:"Tutorial",code:"10TUT251009",room:"S 01",teacher:"Mrs Sula Tyndall"},{day:4,period:3,startTime:"11:30am",endTime:"12:30pm",subject:"Physics",code:"10PHY251102",room:"S 01",teacher:"Mr Paul Jefimenko"},{day:4,period:4,startTime:"12:30pm",endTime:"1:30pm",subject:"Active and Able",code:"10AAA251109",room:"M 08",teacher:"Mr James Beattie"},{day:4,period:5,startTime:"2:25pm",endTime:"3:25pm",subject:"10ybad01",code:"10ybad01",room:"",teacher:"Mrs Lindy Dowell"},{day:5,period:1,startTime:"8:35am",endTime:"9:35am",subject:"War Boom and Bust",code:"10WBB251102",room:"C 07",teacher:"Ms Dianne McKenzie"},{day:5,period:2,startTime:"9:35am",endTime:"10:35am",subject:"Biology Units 1 & 2",code:"11BIO251101",room:"S 06",teacher:"Mr Andrew Savage"},{day:5,period:"Tutorial",startTime:"10:35am",endTime:"11:05am",subject:"Tutorial",code:"10TUT251009",room:"S 01",teacher:"Mrs Sula Tyndall"},{day:5,period:3,startTime:"11:30am",endTime:"12:30pm",subject:"Physics",code:"10PHY251102",room:"S 01",teacher:"Mr Paul Jefimenko"},{day:5,period:4,startTime:"12:30pm",endTime:"1:30pm",subject:"English",code:"10ENG251108",room:"A 08",teacher:"Mr Robert Hassell"},{day:5,period:5,startTime:"2:25pm",endTime:"3:25pm",subject:"Mathematics - Advanced",code:"10MAA251105",room:"M 05",teacher:"Mr Scott Kertes"},{day:6,period:1,startTime:"8:35am",endTime:"9:35am",subject:"Specialist Mathematics",code:"10SPE251101",room:"M 07",teacher:"Mr Paul Jefimenko"},{day:6,period:2,startTime:"9:35am",endTime:"10:35am",subject:"English",code:"10ENG251108",room:"A 08",teacher:"Mr Robert Hassell"},{day:6,period:"Tutorial",startTime:"10:35am",endTime:"11:05am",subject:"Tutorial",code:"10TUT251009",room:"S 01",teacher:"Mrs Sula Tyndall"},{day:6,period:3,startTime:"11:30am",endTime:"12:30pm",subject:"War Boom and Bust",code:"10WBB251102",room:"C 07",teacher:"Ms Dianne McKenzie"},{day:6,period:4,startTime:"12:30pm",endTime:"1:30pm",subject:"Mathematics - Advanced",code:"10MAA251105",room:"M 05",teacher:"Mr Scott Kertes"},{day:6,period:5,startTime:"2:25pm",endTime:"3:25pm",subject:"Physics",code:"10PHY251102",room:"S 01",teacher:"Mr Paul Jefimenko"},{day:7,period:1,startTime:"8:35am",endTime:"9:35am",subject:"English",code:"10ENG251108",room:"A 08",teacher:"Mr Robert Hassell"},{day:7,period:2,startTime:"9:35am",endTime:"10:35am",subject:"Specialist Mathematics",code:"10SPE251101",room:"M 07",teacher:"Mr Paul Jefimenko"},{day:7,period:"Tutorial",startTime:"10:35am",endTime:"11:05am",subject:"Tutorial",code:"10TUT251009",room:"S 01",teacher:"Mrs Sula Tyndall"},{day:7,period:3,startTime:"11:30am",endTime:"12:30pm",subject:"Active and Able",code:"10AAA251109",room:"I 05",teacher:"Mr James Beattie"},{day:7,period:4,startTime:"12:30pm",endTime:"1:30pm",subject:"War Boom and Bust",code:"10WBB251102",room:"C 07",teacher:"Ms Dianne McKenzie"},{day:7,period:5,startTime:"2:25pm",endTime:"3:25pm",subject:"Biology Units 1 & 2",code:"11BIO251101",room:"S 06",teacher:"Mr Andrew Savage"},{day:8,period:1,startTime:"8:35am",endTime:"9:35am",subject:"Physics",code:"10PHY251102",room:"S 01",teacher:"Mr Paul Jefimenko"},{day:8,period:2,startTime:"9:35am",endTime:"10:35am",subject:"English",code:"10ENG251108",room:"A 08",teacher:"Mr Robert Hassell"},{day:8,period:"Tutorial",startTime:"10:35am",endTime:"11:05am",subject:"Tutorial",code:"10TUT251009",room:"S 01",teacher:"Mrs Sula Tyndall"},{day:8,period:3,startTime:"11:30am",endTime:"12:30pm",subject:"Mathematics - Advanced",code:"10MAA251105",room:"M 05",teacher:"Mr Scott Kertes"},{day:8,period:4,startTime:"12:30pm",endTime:"1:30pm",subject:"Pastoral Care",code:"10PST251009",room:"S 04",teacher:"Miss Georgia Kellock"},{day:8,period:5,startTime:"2:25pm",endTime:"3:25pm",subject:"War Boom and Bust",code:"10WBB251102",room:"C 07",teacher:"Ms Dianne McKenzie"},{day:9,period:1,startTime:"8:35am",endTime:"9:35am",subject:"Specialist Mathematics",code:"10SPE251101",room:"M 07",teacher:"Mr Paul Jefimenko"},{day:9,period:2,startTime:"9:35am",endTime:"10:35am",subject:"Physics",code:"10PHY251102",room:"S 01",teacher:"Mr Paul Jefimenko"},{day:9,period:"Tutorial",startTime:"10:35am",endTime:"11:05am",subject:"Tutorial",code:"10TUT251009",room:"S 01",teacher:"Mrs Sula Tyndall"},{day:9,period:3,startTime:"11:30am",endTime:"12:30pm",subject:"Biology Units 1 & 2",code:"11BIO251101",room:"S 06",teacher:"Mr Andrew Savage"},{day:9,period:4,startTime:"12:30pm",endTime:"1:30pm",subject:"Active and Able",code:"10AAA251109",room:"C 06",teacher:"Mr James Beattie"},{day:9,period:5,startTime:"2:25pm",endTime:"3:25pm",subject:"10ybad01",code:"10ybad01",room:"",teacher:"Mrs Lindy Dowell"},{day:10,period:1,startTime:"8:35am",endTime:"9:35am",subject:"Biology Units 1 & 2",code:"11BIO251101",room:"S 06",teacher:"Mr Andrew Savage"},{day:10,period:2,startTime:"9:35am",endTime:"10:35am",subject:"English",code:"10ENG251108",room:"A 08",teacher:"Mr Robert Hassell"},{day:10,period:"Tutorial",startTime:"10:35am",endTime:"11:05am",subject:"Tutorial",code:"10TUT251009",room:"S 01",teacher:"Mrs Sula Tyndall"},{day:10,period:3,startTime:"11:30am",endTime:"12:30pm",subject:"Mathematics - Advanced",code:"10MAA251105",room:"M 05",teacher:"Mr Scott Kertes"},{day:10,period:4,startTime:"12:30pm",endTime:"1:30pm",subject:"Specialist Mathematics",code:"10SPE251101",room:"M 07",teacher:"Mr Paul Jefimenko"},{day:10,period:5,startTime:"2:25pm",endTime:"3:25pm",subject:"Physics",code:"10PHY251102",room:"S 01",teacher:"Mr Paul Jefimenko"}]}}])&&bt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}());function wt(e,t){if(e){if("string"==typeof e)return xt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const kt=function(e){console.log("Starting timetable parsing");var t=(e=e.trim()).length,n=(e=e.replace(/(\n\s*\n\s*\n\s*)+/g,"\n\n")).length;t!==n&&console.log("Removed ".concat(t-n," characters of excessive whitespace"));var r,o={days:[],periods:[],classes:{}},a=e.match(/\*\*Day 1(Day \d+)*\*\*/);if(a){var i=a[0].replace(/\*\*/g,"");o.days=i.match(/Day \d+/g)}else{var s=e.match(/Day \d+/g);s&&(o.days=(r=new Set(s),function(e){if(Array.isArray(e))return xt(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||wt(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(e,t){return parseInt(e.match(/\d+/)[0])-parseInt(t.match(/\d+/)[0])})))}for(var l=function(e){if(!e)return null;var t=e.match(/(\d+:\d+[ap]m)–(\d+:\d+[ap]m)/);return t?{startTime:t[1],endTime:t[2]}:null},c=[],u=["Training","Tutorial","Lunch","Recess","Break","Assembly","Chapel","Study","Sport"],d=function(){var e=f[h].trim(),t=h+1<f.length?f[h+1].trim():"";if((e.match(/^Period \d+$/)||u.includes(e))&&t.match(/\d+:\d+[ap]m–\d+:\d+[ap]m/)){var n=e,r=l(t);r&&(console.log("Found period ".concat(n," with time ").concat(r.startTime,"-").concat(r.endTime)),c.push({name:n,startTime:r.startTime,endTime:r.endTime}))}else if(e.match(/Period \d+\s+\d+:\d+[ap]m–\d+:\d+[ap]m/)||u.some((function(t){return e.includes(t)}))&&e.match(/\d+:\d+[ap]m–\d+:\d+[ap]m/)){var o;if(e.match(/Period \d+/))o=e.match(/Period \d+/)[0];else for(var a=0,i=u;a<i.length;a++){var s=i[a];if(e.includes(s)){o=s;break}}var d=l(e);o&&d&&(console.log("Found inline period ".concat(o," with time ").concat(d.startTime,"-").concat(d.endTime)),c.push({name:o,startTime:d.startTime,endTime:d.endTime}))}else if(e.match(/\d+:\d+[ap]m–\d+:\d+[ap]m/)&&!e.match(/Period \d+/)){var p=h>0?f[h-1].trim():"";if(!p||p.match(/\d+:\d+[ap]m–\d+:\d+[ap]m/)||u.includes(p)||p.match(/^Period \d+$/)){var m=l(e);if(m){var g="Period (".concat(m.startTime,"-").concat(m.endTime,")"),b=parseInt(m.startTime.split(":")[0]);12!==b&&1!==b||!m.startTime.includes("pm")||(g="Lunch (".concat(m.startTime,"-").concat(m.endTime,")")),(parseInt(m.endTime.split(":")[1])-parseInt(m.startTime.split(":")[1])+60)%60<=15&&(g="Break (".concat(m.startTime,"-").concat(m.endTime,")")),console.log("Found unnamed period, assigning name: ".concat(g)),c.push({name:g,startTime:m.startTime,endTime:m.endTime})}}else if(!p.match(/\(.+\)/)&&p.length<30){var y=p,v=l(e);v&&(console.log('Found inferred period "'.concat(y,'" with time ').concat(v.startTime,"-").concat(v.endTime)),c.push({name:y,startTime:v.startTime,endTime:v.endTime}))}else{var w=l(e);if(w){var x="Period (".concat(w.startTime,"-").concat(w.endTime,")");console.log("Found unnamed period, assigning time-based name: ".concat(x)),c.push({name:x,startTime:w.startTime,endTime:w.endTime})}}}},h=0;h<f.length-1;h++)d();o.periods=c,o.periods.sort((function(e,t){var n=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||wt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(":"),2),n=t[0],r=t[1].slice(0,2),o=e.toLowerCase().includes("pm");return 60*parseInt(n)+parseInt(r)+(o&&12!==parseInt(n)?720:0)};return n(e.startTime)-n(t.startTime)})),o.days.forEach((function(e){o.classes[e]={},o.periods.forEach((function(t){o.classes[e][t.name]=[]}))}));var f=e.split("\n").filter((function(e){return""!==e.trim()}));console.log("Processing ".concat(f.length," non-empty lines"));for(var p=null,m=null,g=0;g<Math.min(5,f.length);g++){var b=f[g];if((b.match(/Day \d+/g)||[]).length>=2||b.match(/^Day \d+\t/)&&b.includes("\t")){m=b,console.log("Found day header line at position ".concat(g,": ").concat(m));break}}if(m){if(0===o.days.length){var y=m.split("\t").map((function(e){return e.trim()})).filter((function(e){return e.match(/Day \d+/)}));y.length<2&&(y=m.match(/Day \d+/g)||[]),y.length>=2?(o.days=y,console.log("Extracted days from table header:",o.days)):console.warn("Could not extract days from header line:",m)}for(var v=function(e){var t=f[e].trim();if(!t)return w=e,0;var n=u.some((function(e){return t===e}));if(t.match(/^Period \d+$/)||n){if(p=t,console.log("Found period: ".concat(p)),e+1<f.length){var r,a=null===(r=f[e+1])||void 0===r?void 0:r.trim(),i=l(a);if(i)console.log("Found time range: ".concat(i.startTime," - ").concat(i.endTime)),o.periods.some((function(e){return e.name===p}))||o.periods.push({name:p,startTime:i.startTime,endTime:i.endTime}),e++;else{console.log("No valid time range found directly after period: ".concat(p,", checking nearby lines"));for(var s=!1,c=function(){var e,t=null===(e=f[d])||void 0===e?void 0:e.trim(),n=l(t);if(n&&!t.match(/Period \d+/)&&!u.some((function(e){return t.includes(e)}))&&(console.log("Found time range in nearby line: ".concat(n.startTime," - ").concat(n.endTime)),!o.periods.some((function(e){return e.name===p}))))return o.periods.push({name:p,startTime:n.startTime,endTime:n.endTime}),s=!0,1},d=e+2;d<Math.min(e+4,f.length)&&!c();d++);s||console.log("Could not find time range for period: ".concat(p))}return w=e,0}if(p&&t){var h=t.split("\t");if(h.length>1)console.log("Processing class line for ".concat(p,": ").concat(t.substr(0,30),"...")),h.forEach((function(e,t){if(!(t>=o.days.length)){var n=o.days[t];if(e.trim()&&!e.trim().match(/^\d+:\d+[ap]m–\d+:\d+[ap]m$/)){for(var r=e.match(/^([^(]+)/),a=e.match(/\(([^)]+)\)/),i=null,s=0,l=[/\b([A-Z])\s*(\d+)\b/,/Room\s+([A-Z])\s*(\d+)/i,/([A-Z])[\-\.]?(\d+)/,/\b([A-Z])[Rr]oom\s*(\d+)/];s<l.length;s++){var c=l[s],u=e.match(c);if(u){i=u;break}}for(var d=null,h=0,f=[/(Mr|Mrs|Ms|Miss|Dr|Prof)\s+[A-Za-z\s\.\-]+(?=\s|$)/,/(?<=\s|^)([A-Z][a-z]+\s+[A-Z][a-z]+)(?=\s|$)/,/([A-Z][a-z]+)\s+([A-Z]\.)\s*[A-Z][a-z]+/,/([A-Z][a-z]+\s+[A-Z][a-z]+)\s+\([^)]+\)/];h<f.length;h++){var m=f[h],g=e.match(m);if(g){d=g;break}}if(r||a){o.classes[n]||(o.classes[n]={}),o.classes[n][p]||(o.classes[n][p]=[]);var b=o.periods.find((function(e){return e.name===p})),y=r?r[1].trim():"";!y&&a&&(y=a[1].trim());var v={subject:y,code:a?a[1].trim():"",room:i?function(e){return 1===e[2].length?"".concat(e[1]," 0").concat(e[2]):"".concat(e[1]," ").concat(e[2])}(i):"",teacher:d?d[0].trim():"",startTime:(null==b?void 0:b.startTime)||"",endTime:(null==b?void 0:b.endTime)||""},w=o.classes[n][p].find((function(e){return e.subject===v.subject||e.code&&e.code===v.code}));w?(!w.room&&v.room&&(w.room=v.room),!w.teacher&&v.teacher&&(w.teacher=v.teacher),!w.code&&v.code&&(w.code=v.code),console.log("Updated existing class for ".concat(n,", ").concat(p,": ").concat(w.subject))):(o.classes[n][p].push(v),console.log("Added class for ".concat(n,", ").concat(p,": ").concat(v.subject)))}}}}));else if(t.includes("(")&&t.includes(")")&&p){for(var m=t.match(/\(([^)]+)\)/),g=null,b=0,y=[/\b([A-Z])\s*(\d+)\b/,/Room\s+([A-Z])\s*(\d+)/i,/([A-Z])[\-\.]?(\d+)/,/\b([A-Z])[Rr]oom\s*(\d+)/];b<y.length;b++){var v=y[b],x=t.match(v);if(x){g=x;break}}for(var k=null,E=0,S=[/(Mr|Mrs|Ms|Miss|Dr|Prof)\s+[A-Za-z\s\.\-]+(?=\s|$)/,/(?<=\s|^)([A-Z][a-z]+\s+[A-Z][a-z]+)(?=\s|$)/,/([A-Z][a-z]+)\s+([A-Z]\.)\s*[A-Z][a-z]+/,/([A-Z][a-z]+\s+[A-Z][a-z]+)\s+\([^)]+\)/];E<S.length;E++){var T=S[E],C=t.match(T);if(C){k=C;break}}if(m||g||k){var _,N=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=wt(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(i)throw o}}}}(o.days);try{for(N.s();!(_=N.n()).done;){var A=_.value;if(o.classes[A]&&o.classes[A][p]&&o.classes[A][p].length>0){var I=o.classes[A][p][o.classes[A][p].length-1];m&&!I.code&&(I.code=m[1].trim()),g&&!I.room&&(I.room=function(e){return 1===e[2].length?"".concat(e[1]," 0").concat(e[2]):"".concat(e[1]," ").concat(e[2])}(g)),k&&!I.teacher&&(I.teacher=k[0].trim()),console.log("Updated class with additional details: ".concat(A,", ").concat(p,", ").concat(I.subject));break}}}catch(e){N.e(e)}finally{N.f()}}else console.log("Skipping line - not enough tab-separated values: ".concat(t))}}}w=e},w=1;w<f.length;w++)v(w);console.log("Parsing complete. Found ".concat(o.days.length," days, ").concat(o.periods.length," periods")),o.periods.forEach((function(e){o.days.forEach((function(t){o.classes[t]||(o.classes[t]={}),o.classes[t][e.name]||(o.classes[t][e.name]=[])}))}));var x=0,k={};return Object.keys(o.classes).forEach((function(e){k[e]=0,Object.keys(o.classes[e]).forEach((function(t){k[e]+=o.classes[e][t].length,x+=o.classes[e][t].length}))})),console.log("Total classes parsed: ".concat(x)),console.log("Classes by day:",k),0===x&&console.warn("No classes were parsed! Check the input format."),o}},Et=function(e){if(console.log("Converting structured data to time slots:",e),!(e&&e.days&&e.periods&&e.classes))return console.error("Invalid structured data format:",e),[];var t=[];return e.days.forEach((function(n){var r=parseInt(n.match(/\d+/)[0]);e.classes[n]&&Object.keys(e.classes[n]).forEach((function(o){var a=e.classes[n][o],i=e.periods.find((function(e){return e.name===o})),s=o;o.includes("Period")&&(s=o.replace("Period ","").trim()),a.forEach((function(e){var n={id:Date.now()+Math.floor(1e3*Math.random()),day:r,period:s,subject:e.subject,code:e.code,room:e.room,teacher:e.teacher,startTime:(null==i?void 0:i.startTime)||e.startTime,endTime:(null==i?void 0:i.endTime)||e.endTime};t.push(n)}))}))})),console.log("Converted time slots:",t),t};var St=o(462);function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){_t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _t(e,t,n){return(t=function(e){var t=function(e){if("object"!=At(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=At(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==At(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e){return function(e){if(Array.isArray(e))return Pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||Ot(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){if(e){if("string"==typeof e)return Pt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,t):void 0}}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}fe()(St.A,{insert:"head",singleton:!1}),St.A.locals;const Dt=function(){var e=It((0,i.useState)([]),2),t=e[0],n=e[1],r=It((0,i.useState)([]),2),o=r[0],a=r[1],s=It((0,i.useState)(""),2),l=s[0],c=s[1],u=It((0,i.useState)(1),2),d=u[0],h=u[1],f=It((0,i.useState)(!1),2),p=f[0],m=f[1],g=It((0,i.useState)(""),2),b=g[0],y=g[1],v=It((0,i.useState)(null),2),w=v[0],x=v[1],k=It((0,i.useState)({displayCode:!0,displayTeacher:!0,displayRoom:!0,useFirstNameForTeachers:!1}),2),E=k[0],S=k[1],T=It((0,i.useState)(null),2),C=T[0],_=T[1],N=(0,i.useRef)(null),A=(0,i.useRef)({}),I=Array.from({length:10},(function(e,t){return t+1})),O=function(e){return{1:"Monday (Week A)",2:"Tuesday (Week A)",3:"Wednesday (Week A)",4:"Thursday (Week A)",5:"Friday (Week A)",6:"Monday (Week B)",7:"Tuesday (Week B)",8:"Wednesday (Week B)",9:"Thursday (Week B)",10:"Friday (Week B)"}[e]||"Day ".concat(e)};(0,i.useEffect)((function(){var e=vt.getTemplateNames();a(e),e.includes("school")&&P("school");var t=localStorage.getItem("timetable-settings");if(t)try{var n=JSON.parse(t);S({displayCode:void 0===n.displayCode||n.displayCode,displayTeacher:void 0===n.displayTeacher||n.displayTeacher,displayRoom:void 0===n.displayRoom||n.displayRoom,useFirstNameForTeachers:n.useFirstNameForTeachers||!1})}catch(e){console.error("Error parsing settings:",e)}}),[]),(0,i.useEffect)((function(){if(w&&N.current){var e=N.current.clientHeight;_(e)}else _(null)}),[w]);var P=function(e){vt.loadTemplate(e),n(vt.getTimeSlots()),c(e),x(null)},D=function(e,r){var o=t.findIndex((function(t){return t.id===e||"".concat(t.day,"-").concat(t.period)===e}));if(-1!==o){console.log("Updating time slot at index:",o),console.log("Old slot:",t[o]),console.log("New slot:",r);var a=Ct(Ct({},r),{},{day:t[o].day,period:t[o].period});vt.editTimeSlot(o,a);var i=Nt(t);i[o]=a,n(i),console.log("Updated slots array:",i)}x(null)},M=function(e){var r=t.findIndex((function(t){return t.id===e||"".concat(t.day,"-").concat(t.period)===e}));if(-1!==r){vt.deleteTimeSlot(r);var o=Nt(t);o.splice(r,1),n(o)}w===e&&x(null)},j=function(e){console.log("Starting edit for slot:",e),p||m(!0),x(e)},R=function(){console.log("Canceling edit"),x(null)},L=function(e,n){return t.filter((function(t){return t.day===e&&String(t.period)===String(n)}))},z=function(e){return A.current[e]||(A.current[e]=i.createRef()),A.current[e]};return i.createElement("div",{className:"timetable-container"},i.createElement("div",{className:"timetable-header"},i.createElement("h2",null,"School Timetable"),i.createElement("div",{className:"current-day-display"},i.createElement("span",null,O(d))),i.createElement("div",{className:"template-controls"},i.createElement("select",{value:l,onChange:function(e){return P(e.target.value)}},i.createElement("option",{value:""},"Select Template"),o.map((function(e){return i.createElement("option",{key:e,value:e},e.charAt(0).toUpperCase()+e.slice(1))}))),i.createElement("div",{className:"save-template"},i.createElement("input",{type:"text",placeholder:"New Template Name",value:b,onChange:function(e){return y(e.target.value)}}),i.createElement("button",{onClick:function(){b.trim()&&(vt.saveAsTemplate(b),a(vt.getTemplateNames()),y(""),c(b))}},"Save As")),i.createElement("button",{className:"edit-mode-toggle ".concat(p?"active":""),onClick:function(){m(!p),x(null)}},p?"Exit Edit Mode":"Edit Timetable"),i.createElement(ht,{onImport:function(e){try{if(console.log("Received import data:",e),e&&"object"===At(e)&&!Array.isArray(e)&&e.days&&e.periods&&e.classes){console.log("Received structured data from AI tab");var t=Et(e);return t&&0!==t.length?(console.log("Successfully converted ".concat(t.length," classes to time slots")),vt.clearTimetable(),t.forEach((function(e){vt.addTimeSlot(e)})),n(vt.getTimeSlots()),void alert("Timetable imported successfully! Added ".concat(t.length," classes."))):(console.error("Failed to convert structured data to time slots"),void alert("Failed to process the structured data. The data format may be invalid or incomplete."))}if("string"==typeof e){if(!e.trim())return void alert("The imported text is empty. Please provide timetable data.");console.log("Parsing raw text input");var r=kt(e);if(!r||!r.days||0===r.days.length)return console.error("Failed to extract days from timetable data"),void alert("Could not identify days in your timetable. Please check the format.");if(!r.periods||0===r.periods.length)return console.error("Failed to extract periods from timetable data"),void alert("Could not identify periods in your timetable. Please check the format.");console.log("Parsed data has ".concat(r.days.length," days and ").concat(r.periods.length," periods"));var o=0;if(Object.keys(r.classes).forEach((function(e){Object.keys(r.classes[e]||{}).forEach((function(t){o+=(r.classes[e][t]||[]).length}))})),0===o)return console.error("No classes were found in the parsed data"),void alert("No classes were found in your timetable. Please check the format.");console.log("Found ".concat(o," classes in parsed data"));var a=Et(r);return a&&0!==a.length?(console.log("Successfully converted ".concat(a.length," classes to time slots")),vt.clearTimetable(),a.forEach((function(e){vt.addTimeSlot(e)})),n(vt.getTimeSlots()),void alert("Timetable parsed and imported successfully! Added ".concat(a.length," classes."))):(console.error("Failed to convert parsed data to time slots"),void alert("Failed to process the parsed data. The data may be in an incorrect format."))}if(e.timeSlots)return vt.clearTimetable(),e.timeSlots.forEach((function(e){vt.addTimeSlot(e)})),n(vt.getTimeSlots()),void alert("Timetable imported successfully!");alert("The imported file does not contain any timetable data in a recognized format.")}catch(e){console.error("Error processing imported data:",e),alert("Failed to process the imported timetable data: "+e.message)}}})),p&&i.createElement("div",{className:"edit-mode-hint"},i.createElement("p",null,"Click directly on any class to edit its details, or use the ",i.createElement("span",{className:"edit-button-hint"},"Edit")," button")),i.createElement("div",{className:"day-selector"},I.map((function(e){return i.createElement("button",{key:e,type:"button",className:"day-button ".concat(d===e?"active":""),onClick:function(t){return function(e,t){e.preventDefault(),e.stopPropagation(),console.log("Switching to day:",t),h(t),x(null)}(t,e)},title:O(e)},"Day ",e)})))),i.createElement("div",{className:"timetable"},i.createElement("div",{className:"periods-column"},["1","2","Tutorial","3","4","5","After School"].map((function(e){var t=L(d,e).some((function(e){return w===(e.id||"".concat(e.day,"-").concat(e.period))}));return i.createElement("div",{key:e,className:"period-label ".concat(t?"editing":""),ref:z(e),style:t&&C?{height:"".concat(C,"px")}:{}},i.createElement("span",null,e),"1"===e&&i.createElement("span",{className:"time"},"8:35am–9:35am"),"2"===e&&i.createElement("span",{className:"time"},"9:35am–10:35am"),"Tutorial"===e&&i.createElement("span",{className:"time"},"10:35am–11:05am"),"3"===e&&i.createElement("span",{className:"time"},"11:30am–12:30pm"),"4"===e&&i.createElement("span",{className:"time"},"12:30pm–1:30pm"),"5"===e&&i.createElement("span",{className:"time"},"2:25pm–3:25pm"),"After School"===e&&i.createElement("span",{className:"time"},"3:35pm–4:30pm"))}))),i.createElement("div",{className:"day-column"},["1","2","Tutorial","3","4","5","After School"].map((function(e){var r=L(d,e).some((function(e){return w===(e.id||"".concat(e.day,"-").concat(e.period))}));return i.createElement("div",{key:e,className:"period-row ".concat(r?"has-editing-slot":""),ref:r?N:null},L(d,e).map((function(e){return i.createElement(nt,{key:e.id||"".concat(e.day,"-").concat(e.period),slot:e,onUpdate:D,onRemove:M,isEditing:w===(e.id||"".concat(e.day,"-").concat(e.period)),onStartEditing:j,onCancelEditing:R,displaySettings:E})})),p&&0===L(d,e).length&&i.createElement("div",{className:"add-time-slot"},i.createElement("button",{onClick:function(){var r={day:d,period:e,startTime:"1"===e?"8:35am":"2"===e?"9:35am":"Tutorial"===e?"10:35am":"3"===e?"11:30am":"4"===e?"12:30pm":"5"===e?"2:25pm":"3:35pm",endTime:"1"===e?"9:35am":"2"===e?"10:35am":"Tutorial"===e?"11:05am":"3"===e?"12:30pm":"4"===e?"1:30pm":"5"===e?"3:25pm":"4:30pm",subject:"",code:"",room:"",teacher:""};vt.addTimeSlot(r),n([].concat(Nt(t),[r]))}},"+ Add Class")))})))))};var Mt=o(36);function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return(t=function(e){var t=function(e){if("object"!=jt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ut(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}fe()(Mt.A,{insert:"head",singleton:!1}),Mt.A.locals;const Vt=function(){var e=Ft((0,i.useState)(!0),2),t=e[0],n=e[1],r=Ft((0,i.useState)({displayCode:!0,displayTeacher:!0,displayRoom:!0,useFirstNameForTeachers:!1,enableNotifications:!1,notificationTime:15,weekStartsOn:"monday"}),2),o=r[0],a=r[1];(0,i.useEffect)((function(){var e=localStorage.getItem("timetable-settings");if(e)try{a(JSON.parse(e))}catch(e){console.error("Error parsing saved settings:",e)}}),[]);var s=function(e){var t=e.target,n=t.name,r=t.value,i=t.type,s=t.checked,l="checkbox"===i?s:r,c=Lt(Lt({},o),{},zt({},n,l));a(c);try{localStorage.setItem("timetable-settings",JSON.stringify(c))}catch(e){console.error("Error saving settings to localStorage:",e)}};return i.createElement("div",{className:"settings-container"},i.createElement("button",{className:"settings-toggle ".concat(t?"active":""),type:"button",onClick:function(e){e.preventDefault(),e.stopPropagation(),n(!t)}},t?"Hide Settings":"Show Settings"),t&&i.createElement("div",{className:"settings-panel"},i.createElement("h2",null,"Timetable Settings"),i.createElement("div",{className:"settings-section"},i.createElement("h3",null,"Display Options"),i.createElement("div",{className:"setting-item"},i.createElement("label",null,i.createElement("input",{type:"checkbox",name:"displayCode",checked:o.displayCode,onChange:s}),"Show class codes")),i.createElement("div",{className:"setting-item"},i.createElement("label",null,i.createElement("input",{type:"checkbox",name:"displayTeacher",checked:o.displayTeacher,onChange:s}),"Show teacher names")),i.createElement("div",{className:"setting-item"},i.createElement("label",null,i.createElement("input",{type:"checkbox",name:"displayRoom",checked:o.displayRoom,onChange:s}),"Show room numbers")),i.createElement("div",{className:"setting-item"},i.createElement("label",null,i.createElement("input",{type:"checkbox",name:"useFirstNameForTeachers",checked:o.useFirstNameForTeachers,onChange:s}),"Use first names for teachers"))),i.createElement("div",{className:"settings-section"},i.createElement("h3",null,"Notifications"),i.createElement("div",{className:"setting-item"},i.createElement("label",null,i.createElement("input",{type:"checkbox",name:"enableNotifications",checked:o.enableNotifications,onChange:s}),"Enable class notifications")),o.enableNotifications&&i.createElement("div",{className:"setting-item"},i.createElement("label",null,"Notify me",i.createElement("select",{name:"notificationTime",value:o.notificationTime,onChange:s},i.createElement("option",{value:"5"},"5 minutes"),i.createElement("option",{value:"10"},"10 minutes"),i.createElement("option",{value:"15"},"15 minutes"),i.createElement("option",{value:"30"},"30 minutes")),"before class"))),i.createElement("div",{className:"settings-section"},i.createElement("h3",null,"Calendar Settings"),i.createElement("div",{className:"setting-item"},i.createElement("label",null,"Week starts on:",i.createElement("select",{name:"weekStartsOn",value:o.weekStartsOn,onChange:s},i.createElement("option",{value:"monday"},"Monday"),i.createElement("option",{value:"sunday"},"Sunday"))))),i.createElement("div",{className:"settings-section"},i.createElement("h3",null,"Import/Export"),i.createElement("div",{className:"setting-actions"},i.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),e.stopPropagation(),console.log("Exporting timetable...");var t={timeSlots:vt.getTimeSlots(),settings:o},n=JSON.stringify(t,null,2),r="data:application/json;charset=utf-8,"+encodeURIComponent(n),a=document.createElement("a");a.setAttribute("href",r),a.setAttribute("download","my-timetable.json"),a.click()},className:"export-button"},"Export Timetable"),i.createElement("div",{className:"import-container"},i.createElement("label",{className:"import-label",role:"button",tabIndex:"0"},"Import Timetable",i.createElement("input",{type:"file",accept:".json",onChange:function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){try{var t=JSON.parse(e.target.result);t.timeSlots&&(vt.clearTimetable(),t.timeSlots.forEach((function(e){vt.addTimeSlot(e)}))),t.settings&&(a(t.settings),localStorage.setItem("timetable-settings",JSON.stringify(t.settings))),alert("Timetable imported successfully!"),window.location.reload()}catch(e){console.error("Error importing timetable:",e),alert("Failed to import timetable. The file may be corrupted.")}},n.readAsText(t)}},style:{display:"none"},"aria-label":"Import Timetable"})))),i.createElement("p",{className:"help-text"},"Export your timetable to save it or share with friends. Import a timetable someone has shared with you."))))};var Bt=o(353);fe()(Bt.A,{insert:"head",singleton:!1}),Bt.A.locals;const $t=function(e){var t=e.onThemeChange,n=e.currentTheme;return i.createElement("div",{className:"theme-switcher-container"},i.createElement("h3",{className:"theme-switcher-title"},"Select a Theme"),i.createElement("div",{className:"theme-buttons"},[{id:"light",name:"Light"},{id:"dark",name:"Dark"},{id:"colorful",name:"Colorful"},{id:"minimal",name:"Minimal"},{id:"pastel",name:"Pastel"},{id:"cosmos",name:"Cosmos"}].map((function(e){return i.createElement("button",{key:e.id,type:"button",className:"theme-button ".concat(e.id," ").concat(n===e.id?"active":""),onClick:function(r){return function(e,r){e.preventDefault(),e.stopPropagation(),console.log("Theme button clicked:",r),r!==n&&t(r)}(r,e.id)},"aria-label":"".concat(e.name," theme"),title:"Switch to ".concat(e.name," theme")},i.createElement("div",{className:"theme-button-preview"}),i.createElement("span",null,e.name))}))),i.createElement("div",{className:"current-theme-label"},"Current theme: ",i.createElement("span",null,n?n.charAt(0).toUpperCase()+n.slice(1):"Light")))};function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Ht(e){return function(e){if(Array.isArray(e))return Jt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yt(e,t,n){return(t=function(e){var t=function(e){if("object"!=qt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||Qt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){if(e){if("string"==typeof e)return Jt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jt(e,t):void 0}}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const en=function(e){var t=e.task,n=e.urgencyClass,r=e.onTogglePriority,o=e.onDelete,a=e.formatDate,s=function(){return"overdue"===n&&function(){if(!t.date)return!1;var e=new Date,n=new Date(t.date);if(n.setHours(0,0,0,0)<e.setHours(0,0,0,0))return!0;if(n.getDate()===e.getDate()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()&&t.time){var r=new Date,o=Xt(t.time.split(":").map(Number),2),a=o[0],i=o[1],s=new Date;return s.setHours(a,i,0,0),r>s}return!1}()?i.createElement("span",{className:"urgency-badge overdue"},"Overdue!"):"due-today"===n||function(){if(!t.date)return!1;new Date;var e=new Date;e.setHours(0,0,0,0);var n=new Date(t.date);if(n.setHours(0,0,0,0),n.getTime()===e.getTime())return!0;var r=new Date(e);if(r.setDate(r.getDate()+1),n.getTime()===r.getTime()&&t.time){var o=Xt(t.time.split(":").map(Number),2),a=o[0],i=o[1],s=new Date;s.setDate(s.getDate()+1),s.setHours(a,i,0,0);var l=new Date;return l.setHours(l.getHours()+24),s<=l}return!1}()?i.createElement("span",{className:"urgency-badge due-today"},"Urgent!"):"due-soon"===n?i.createElement("span",{className:"urgency-badge due-soon"},"Due Soon"):"approaching"===n?i.createElement("span",{className:"urgency-badge approaching"},"Approaching"):null};return i.createElement("div",{className:"task-item ".concat(n," ").concat(t.priority?"priority":"")},i.createElement("div",{className:"task-header"},i.createElement("h3",null,t.title,t.priority&&i.createElement("span",{className:"priority-tag"},"Priority")),i.createElement("div",{className:"task-actions"},i.createElement("button",{className:"priority-button ".concat(t.priority?"active":""),onClick:function(){return r(t.id)},title:t.priority?"Unpin task":"Pin as priority"},i.createElement("span",{className:"priority-icon"},"📌")),i.createElement("button",{className:"delete-task-button",onClick:function(){return o(t.id)}},"×"))),i.createElement("div",{className:"task-details"},t.date&&!t.time&&i.createElement("p",{className:"task-date"},i.createElement("span",{className:"detail-label"},"Due:")," ",a(t.date),s()),t.time&&i.createElement("p",{className:"task-time"},i.createElement("span",{className:"detail-label"},"Time:")," ",function(e){if(!e)return"";if(e.includes("AM")||e.includes("PM"))return e;try{var t=Xt(e.split(":").map(Number),2),n=t[0],r=t[1];if(isNaN(n)||isNaN(r))return e;var o=n>=12?"PM":"AM";return"".concat(n%12||12,":").concat(r.toString().padStart(2,"0")," ").concat(o)}catch(t){return e}}(t.time),i.createElement("div",{className:"sub-date"},t.date&&a(t.date)),t.date&&s()),t.notes&&i.createElement("p",{className:"task-notes"},i.createElement("span",{className:"detail-label"},"Notes:")," ",t.notes)))},tn=function(e){var t=e.newTask,n=e.onChange,r=e.onSave,o=e.onCancel;return i.createElement("div",{className:"add-task-form task-form-container"},i.createElement("h3",null,"Add New Task"),i.createElement("div",{className:"form-group"},i.createElement("label",null,"Title:"),i.createElement("input",{type:"text",name:"title",value:t.title,onChange:n,placeholder:"Assignment name or task",autoFocus:!0})),i.createElement("div",{className:"form-group"},i.createElement("label",null,"Date:"),i.createElement("input",{type:"date",name:"date",value:t.date,onChange:n})),i.createElement("div",{className:"form-group"},i.createElement("label",null,"Time:"),i.createElement("input",{type:"time",name:"time",value:t.time,onChange:n})),i.createElement("div",{className:"form-group"},i.createElement("label",null,"Notes:"),i.createElement("textarea",{name:"notes",value:t.notes,onChange:n,placeholder:"Additional details",rows:"3"})),i.createElement("div",{className:"form-group priority-checkbox-container"},i.createElement("label",{className:"checkbox-label"},i.createElement("input",{type:"checkbox",name:"priority",checked:t.priority,onChange:function(e){return n({target:{name:"priority",value:e.target.checked}})}}),i.createElement("span",{className:"checkbox-text"},"Priority Task (Pin)"))),i.createElement("div",{className:"form-actions"},i.createElement("button",{className:"save-button",onClick:r},"Save"),i.createElement("button",{className:"cancel-button",onClick:o},"Cancel")))};var nn=o(646);fe()(nn.A,{insert:"head",singleton:!1}),nn.A.locals;const rn=function(){var e=function(){var e=function(e){var t=new Date(e),n=""+t.getHours(),r=""+t.getMinutes();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),"".concat(n,":").concat(r)},t=function(){var t,n,r,o,a,i,s={date:(t=i=new Date,n=new Date(t),r=""+(n.getMonth()+1),o=""+n.getDate(),a=n.getFullYear(),r.length<2&&(r="0"+r),o.length<2&&(o="0"+o),[a,r,o].join("-")),time:e(i)};return{id:null,title:"",date:s.date,time:s.time,notes:"",priority:!1}},n=Wt((0,i.useState)([]),2),r=n[0],o=n[1],a=Wt((0,i.useState)(!1),2),s=a[0],l=a[1],c=Wt((0,i.useState)(t()),2),u=c[0],d=c[1],h=Wt((0,i.useState)(0),2),f=h[0],p=h[1];(0,i.useEffect)((function(){var e=setInterval((function(){p((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[]),(0,i.useEffect)((function(){var e=localStorage.getItem("timetable-tasks");if(e)try{o(JSON.parse(e))}catch(e){console.error("Error loading tasks:",e)}}),[]),(0,i.useEffect)((function(){localStorage.setItem("timetable-tasks",JSON.stringify(r))}),[r]);var m=function(e){if(!e)return"normal";var t=new Date(e),n=new Date;0===t.getHours()&&0===t.getMinutes()&&t.setHours(23,59,59);var r=t.getTime()-n.getTime(),o=r/36e5;return r<0?"overdue":o<=24?"due-today":o<=48?"due-soon":o<=72?"approaching":"normal"},g=Ht(r).sort((function(e,t){if(e.priority&&!t.priority)return-1;if(!e.priority&&t.priority)return 1;if(e.date&&t.date){var n=m(e.date),r=m(t.date),o={overdue:0,"due-today":1,"due-soon":2,approaching:3,normal:4};return o[n]-o[r]}return e.date&&!t.date?-1:!e.date&&t.date?1:t.id-e.id}));return{tasks:r,showAddForm:s,newTask:u,handleInputChange:function(e){var t=e.target,n=t.name,r=t.value;d(Kt(Kt({},u),{},Yt({},n,r)))},handleAddTask:function(){if(""!==u.title.trim()){var e=Kt(Kt({},u),{},{id:Date.now()});o([].concat(Ht(r),[e])),d(t()),l(!1)}},handleDeleteTask:function(e){o(r.filter((function(t){return t.id!==e})))},handleCancelAdd:function(){d(t()),l(!1)},handleShowAddForm:function(){d(t()),l(!0)},togglePriority:function(e){o(r.map((function(t){return t.id===e?Kt(Kt({},t),{},{priority:!t.priority}):t})))},formatDate:function(e){if(!e)return"";var t=r.find((function(t){return t.date===e})),n=(null==t?void 0:t.time)||"23:59",o=new Date(e);if(n){var a=Wt(n.split(":").map(Number),2),i=a[0],s=a[1];o.setHours(i,s,0,0)}else o.setHours(23,59,59,0);var l=new Date,c=o.getTime()-l.getTime();if(c<0){var u=Math.abs(c),d=Math.floor(u/864e5);if(0===d){var h=Math.floor(u/36e5);if(0===h){var f=Math.floor(u/6e4);return 0===f?"Overdue by seconds":"Overdue by ".concat(f," ").concat(1===f?"minute":"minutes")}return"Overdue by ".concat(h," ").concat(1===h?"hour":"hours")}return"Overdue by ".concat(d," ").concat(1===d?"day":"days")}var p=Math.floor(c/864e5),m=Math.floor(c%864e5/36e5),g=Math.floor(c%36e5/6e4),b=Math.floor(c%6e4/1e3);return p>1?o.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})+" (".concat(p," days left)"):1===p?"Tomorrow (".concat(m," hrs left)"):m>=1?"".concat(m," ").concat(1===m?"hour":"hours"," ").concat(g," ").concat(1===g?"minute":"minutes"," left"):g>=1?"".concat(g," ").concat(1===g?"minute":"minutes"," ").concat(b," ").concat(1===b?"second":"seconds"," left"):"".concat(b," ").concat(1===b?"second":"seconds"," left")},calculateTaskUrgency:m,sortedTasks:g,counter:f}}(),t=e.tasks,n=e.showAddForm,r=e.newTask,o=e.handleInputChange,a=e.handleAddTask,s=e.handleDeleteTask,l=e.handleCancelAdd,c=e.handleShowAddForm,u=e.togglePriority,d=e.formatDate,h=e.calculateTaskUrgency,f=e.sortedTasks;return i.createElement("div",{className:"task-tracker-container-full"},i.createElement("div",{className:"task-tracker-header"},i.createElement("h2",null,"Tasks & Assignments")),i.createElement("div",{className:"task-tracker-content"},0===t.length&&!n&&i.createElement("div",{className:"no-tasks-message"},i.createElement("p",null,"No tasks or assignments added yet.")),i.createElement("div",{className:"tasks-grid"},f.map((function(e){return i.createElement(en,{key:e.id,task:e,urgencyClass:h(e.date),onTogglePriority:u,onDelete:s,formatDate:d})}))),n&&i.createElement(tn,{newTask:r,onChange:o,onSave:a,onCancel:l}),!n&&i.createElement("button",{className:"add-task-button",onClick:c},i.createElement("span",{className:"plus-icon"},"+")," Add New Task")))};var on=o(231);function an(e){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(e)}function sn(){sn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(t,n,r,o){var a=n&&n.prototype instanceof h?n:h,i=Object.create(a.prototype);return l(i,"_invoke",function(t,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var c=u(t,n,r);if("normal"===c.type){if(o=r.done?4:2,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=4,r.method="throw",r.arg=c.arg)}}}(t,r,new S(o||[])),!0),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d={};function h(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==n&&r.call(b,a)&&(m=b);var y=p.prototype=h.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,s){var l=u(e[o],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==an(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;l(this,"_invoke",(function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(t,n){var r=n.method,o=t.i[r];if(o===e)return n.delegate=null,"throw"===r&&t.i.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(o,t.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,d;var i=a.arg;return i?i.done?(n[t.r]=i.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function k(e){this.tryEntries.push(e)}function E(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function S(e){this.tryEntries=[[-1]],e.forEach(k,this),this.reset(!0)}function T(t){if(null!=t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(an(t)+" is not iterable")}return f.prototype=p,l(y,"constructor",p),l(p,"constructor",f),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},v(w.prototype),l(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new w(c(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e){i.type="throw",i.arg=t,n.next=e}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,l=a[1],c=a[2];if(-1===a[0])return r("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<l)return this.method="next",this.arg=e,r(l),!0;if(s<c)return r(c),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={i:T(t),r:n,n:r},"next"===this.method&&(this.arg=e),d}},t}function ln(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function cn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ln(a,r,o,i,s,"next",e)}function s(e){ln(a,r,o,i,s,"throw",e)}i(void 0)}))}}function un(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}fe()(on.A,{insert:"head",singleton:!1}),on.A.locals;const hn=function(e){var t=e.onSignupSuccess,n=e.onSwitchToLogin,r=un((0,i.useState)(""),2),o=r[0],a=r[1],s=un((0,i.useState)(""),2),l=s[0],c=s[1],u=un((0,i.useState)(""),2),d=u[0],h=u[1],f=un((0,i.useState)(""),2),p=f[0],m=f[1],g=un((0,i.useState)(!1),2),b=g[0],y=g[1],v=un((0,i.useState)(""),2),w=v[0],x=v[1],k=un((0,i.useState)(""),2),E=k[0],S=k[1],T=un((0,i.useState)(!1),2),C=T[0],_=T[1];(0,i.useEffect)((function(){var e=!0,t=function(){var t=cn(sn().mark((function t(){return sn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G();case 3:e&&_(!0),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error initializing Firebase:",t.t0),e&&x("Failed to initialize authentication service.");case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[]);var N=function(){if(!(o&&l&&d&&p))return x("All fields are required"),!1;if("JZ"===o);else if(!/^[a-zA-Z0-9_]{3,16}$/.test(o))return x("Username must be 3-16 characters and can only contain letters, numbers, and underscores"),!1;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)?d.length<8?(x("Password must be at least 8 characters long"),!1):/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@$!%*#?&]{8,}$/.test(d)?d===p||(x("Passwords do not match"),!1):(x("Password must contain at least one letter and one number"),!1):(x("Please enter a valid email address"),!1)},A=function(){var e=cn(sn().mark((function e(r){var i,s,u;return sn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),i=!0,N()){e.next=4;break}return e.abrupt("return");case 4:if(C){e.next=7;break}return x("Authentication service not ready yet. Please try again."),e.abrupt("return");case 7:return y(!0),x(""),S(""),e.prev=10,e.next=13,Y(o,l,d);case 13:s=e.sent,u=s.user,console.log("Registration successful:",u.uid),i&&(S("Registration successful! Redirecting to login..."),a(""),c(""),h(""),m(""),setTimeout((function(){i&&(t?t(u):n&&n())}),2e3)),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(10),console.error("Registration error:",e.t0),i&&("auth/email-already-in-use"===e.t0.code?x("This email is already in use"):"Username already taken"===e.t0.message?x("This username is already taken"):"Temporary emails are not allowed."===e.t0.message?x("Disposable email providers are not allowed"):x(e.t0.message||"Registration failed. Please try again."));case 23:return e.prev=23,i&&y(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[10,19,23,26]])})));return function(t){return e.apply(this,arguments)}}();return i.createElement("div",{className:"signup-form"},i.createElement("h2",null,"Create a new account"),w&&i.createElement("div",{className:"error-message"},w),E&&i.createElement("div",{className:"success-message"},E),i.createElement("form",{onSubmit:A},i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"username"},"Username"),i.createElement("input",{type:"text",id:"username",value:o,onChange:function(e){return a(e.target.value)},disabled:b,placeholder:"Choose a username"}),i.createElement("p",{className:"input-hint"},"3-16 characters, letters, numbers, and underscores only")),i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"signup-email"},"Email"),i.createElement("input",{type:"email",id:"signup-email",value:l,onChange:function(e){return c(e.target.value)},disabled:b,placeholder:"Enter your email"})),i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"signup-password"},"Password"),i.createElement("input",{type:"password",id:"signup-password",value:d,onChange:function(e){return h(e.target.value)},disabled:b,placeholder:"Create a password"}),i.createElement("p",{className:"input-hint"},"At least 8 characters with letters and numbers")),i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"confirm-password"},"Confirm Password"),i.createElement("input",{type:"password",id:"confirm-password",value:p,onChange:function(e){return m(e.target.value)},disabled:b,placeholder:"Confirm your password"})),i.createElement("button",{type:"submit",className:"signup-button",disabled:b},b?"Creating Account...":"Create Account"),i.createElement("div",{className:"switch-form"},i.createElement("p",null,"Already have an account? ",i.createElement("button",{type:"button",className:"switch-button",onClick:n,disabled:b},"Sign In")))))};var fn=o(564);function pn(e){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(e)}function mn(){mn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(t,n,r,o){var a=n&&n.prototype instanceof h?n:h,i=Object.create(a.prototype);return l(i,"_invoke",function(t,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var c=u(t,n,r);if("normal"===c.type){if(o=r.done?4:2,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=4,r.method="throw",r.arg=c.arg)}}}(t,r,new S(o||[])),!0),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d={};function h(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==n&&r.call(b,a)&&(m=b);var y=p.prototype=h.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,s){var l=u(e[o],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==pn(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;l(this,"_invoke",(function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(t,n){var r=n.method,o=t.i[r];if(o===e)return n.delegate=null,"throw"===r&&t.i.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(o,t.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,d;var i=a.arg;return i?i.done?(n[t.r]=i.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function k(e){this.tryEntries.push(e)}function E(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function S(e){this.tryEntries=[[-1]],e.forEach(k,this),this.reset(!0)}function T(t){if(null!=t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(pn(t)+" is not iterable")}return f.prototype=p,l(y,"constructor",p),l(p,"constructor",f),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},v(w.prototype),l(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new w(c(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e){i.type="throw",i.arg=t,n.next=e}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,l=a[1],c=a[2];if(-1===a[0])return r("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<l)return this.method="next",this.arg=e,r(l),!0;if(s<c)return r(c),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o[2],d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={i:T(t),r:n,n:r},"next"===this.method&&(this.arg=e),d}},t}function gn(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function bn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){gn(a,r,o,i,s,"next",e)}function s(e){gn(a,r,o,i,s,"throw",e)}i(void 0)}))}}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}fe()(fn.A,{insert:"head",singleton:!1}),fn.A.locals;const wn=function(e){var t=e.onLoginSuccess,n=yn((0,i.useState)(""),2),r=n[0],o=n[1],a=yn((0,i.useState)(""),2),s=a[0],l=a[1],c=yn((0,i.useState)(!1),2),u=c[0],d=c[1],h=yn((0,i.useState)(""),2),f=h[0],p=h[1],m=yn((0,i.useState)(""),2),g=m[0],b=m[1],y=yn((0,i.useState)(!1),2),v=y[0],w=y[1],x=yn((0,i.useState)("login"),2),k=x[0],E=x[1];(0,i.useEffect)((function(){var e=!0,t=function(){var t=bn(mn().mark((function t(){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G();case 3:e&&w(!0),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error initializing Firebase:",t.t0),e&&p("Failed to initialize authentication service.");case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[]);var S=function(){var e=bn(mn().mark((function e(n){var o,a,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),o=!0,r&&s){e.next=6;break}return p("Please enter both email and password"),e.abrupt("return");case 6:if(v){e.next=9;break}return p("Authentication service not ready yet. Please try again."),e.abrupt("return");case 9:return d(!0),p(""),b(""),e.prev=12,e.next=15,K(r,s);case 15:a=e.sent,i=a.user,console.log("Login successful:",i.uid),o&&t&&t(i),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(12),console.error("Login error:",e.t0),o&&("auth/user-not-found"===e.t0.code||"auth/wrong-password"===e.t0.code?p("Invalid email or password"):"auth/too-many-requests"===e.t0.code?p("Too many failed login attempts. Please try again later."):p("Login failed. Please try again."));case 25:return e.prev=25,o&&d(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[12,21,25,28]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=!0,r){e.next=6;break}return p("Please enter your email address"),e.abrupt("return");case 6:if(v){e.next=9;break}return p("Authentication service not ready yet. Please try again."),e.abrupt("return");case 9:return d(!0),p(""),b(""),e.prev=12,e.next=15,W(r);case 15:n&&(b("Password reset link has been sent to your email."),o("")),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(12),console.error("Password reset error:",e.t0),n&&("auth/user-not-found"===e.t0.code?p("No account found with this email"):"auth/invalid-email"===e.t0.code?p("Invalid email address"):p("Failed to send password reset email. Please try again."));case 22:return e.prev=22,n&&d(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[12,18,22,25]])})));return function(t){return e.apply(this,arguments)}}();return i.createElement("div",{className:"login-container"},i.createElement("div",{className:"login-form"},i.createElement("h1",null,"Timetable App"),i.createElement("div",{className:"tabs"},i.createElement("button",{className:"tab ".concat("login"===k?"active":""),onClick:function(){return E("login")},disabled:u},"Login"),i.createElement("button",{className:"tab ".concat("reset"===k?"active":""),onClick:function(){return E("reset")},disabled:u},"Reset Password"),i.createElement("button",{className:"tab ".concat("signup"===k?"active":""),onClick:function(){return E("signup")},disabled:u},"Sign Up")),i.createElement("h2",null,"login"===k&&"Sign in to your account","reset"===k&&"Reset your password","signup"===k&&"Create a new account"),f&&i.createElement("div",{className:"error-message"},f),g&&i.createElement("div",{className:"success-message"},g),"login"===k&&i.createElement("form",{onSubmit:S},i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"email"},"Email"),i.createElement("input",{type:"email",id:"email",value:r,onChange:function(e){return o(e.target.value)},disabled:u,placeholder:"Enter your email"})),i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"password"},"Password"),i.createElement("input",{type:"password",id:"password",value:s,onChange:function(e){return l(e.target.value)},disabled:u,placeholder:"Enter your password"})),i.createElement("button",{type:"submit",className:"primary-button",disabled:u},u?"Signing in...":"Sign In"),i.createElement("div",{className:"actions"},i.createElement("button",{type:"button",className:"text-button",onClick:function(){return E("reset")},disabled:u},"Forgot password?")),i.createElement("div",{className:"register-notice"},i.createElement("p",null,"Need an account? ",i.createElement("button",{type:"button",className:"text-button",onClick:function(){return E("signup")},disabled:u},"Sign Up")))),"reset"===k&&i.createElement("form",{onSubmit:T},i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"reset-email"},"Email"),i.createElement("input",{type:"email",id:"reset-email",value:r,onChange:function(e){return o(e.target.value)},disabled:u,placeholder:"Enter your email"})),i.createElement("button",{type:"submit",className:"primary-button",disabled:u},u?"Processing...":"Reset Password"),i.createElement("div",{className:"actions"},i.createElement("button",{type:"button",className:"text-button",onClick:function(){return E("login")},disabled:u},"Back to login"))),"signup"===k&&i.createElement(hn,{onSignupSuccess:function(e){E("login"),b("Account created successfully! You can now sign in.")},onSwitchToLogin:function(){return E("login")}})),i.createElement("div",{className:"firebase-test-notice"},i.createElement("p",null,"For testing user registration, please use the ",i.createElement("a",{href:"/firebase-test/index.html",target:"_blank"},"Firebase Authentication Test Environment"))))},xn=function(e){var t=e.theme;return(0,i.useEffect)((function(){if(t){console.log("%c ThemeInitializer: ","background: #6e3cbf; color: white; padding: 4px; border-radius: 4px","Applying theme: ".concat(t)),window.scrollY;var e=document.querySelector(".header");e&&e.classList.contains("scrolled"),document.documentElement.className="theme-".concat(t),document.body.className="theme-".concat(t),document.documentElement.setAttribute("data-theme",t),document.body.setAttribute("data-theme",t),document.title="Timetable App - ".concat(t.charAt(0).toUpperCase()+t.slice(1)," Theme"),console.log("Applied classes:",{"document.documentElement.className":document.documentElement.className,"document.body.className":document.body.className,'document.documentElement.getAttribute("data-theme")':document.documentElement.getAttribute("data-theme"),'document.body.getAttribute("data-theme")':document.body.getAttribute("data-theme")})}}),[t]),null};function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return En(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?En(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Sn=function(){var e=function(){try{return localStorage.getItem("preferred-theme")||"light"}catch(e){return console.error("Error reading from localStorage:",e),"light"}},t=kn((0,i.useState)(e()),2),n=t[0],r=t[1],o=kn((0,i.useState)(!0),2),a=o[0],s=o[1],l=kn((0,i.useState)(!1),2),c=l[0],u=l[1],d=ue(),h=d.isAuthenticated,f=d.isLoading,p=d.user;return(0,i.useEffect)((function(){var e=function(){console.log("Force applying theme to ensure it's active:",n),document.documentElement.className="theme-".concat(n),document.documentElement.setAttribute("data-theme",n),document.body.className="theme-".concat(n),document.body.setAttribute("data-theme",n),r((function(e){return e}))};e();var t=setTimeout(e,500);return function(){return clearTimeout(t)}}),[n]),(0,i.useEffect)((function(){var t=e();console.log("%c INITIAL THEME: ","background: #6e3cbf; color: white; padding: 4px; border-radius: 4px",t),document.documentElement.className="theme-".concat(t),document.documentElement.setAttribute("data-theme",t),document.body.className="theme-".concat(t),document.body.setAttribute("data-theme",t),r(t);try{var n=localStorage.getItem("sidebar-open");null!==n&&s("true"===n)}catch(e){console.error("Error reading sidebar state from localStorage:",e)}}),[]),(0,i.useEffect)((function(){try{localStorage.setItem("sidebar-open",a.toString())}catch(e){console.error("Error saving sidebar state to localStorage:",e)}}),[a]),i.createElement("div",{className:"app theme-".concat(n),"data-theme":n},i.createElement(xn,{theme:n}),f?i.createElement("div",{className:"loading-container"},i.createElement("p",null,"Loading...")):h?i.createElement(i.Fragment,null,i.createElement(Qe,{toggleSidebar:function(){s(!a)},sidebarOpen:a,toggleTaskTracker:function(){u(!c)},taskTrackerActive:c,user:p}),i.createElement("main",{className:"main-content"},i.createElement("div",{className:"main-container ".concat(a?"":"sidebar-collapsed")},i.createElement("div",{className:"sidebar ".concat(a?"":"collapsed")},i.createElement($t,{onThemeChange:function(e){console.log("%c THEME CHANGE: ","background: #6e3cbf; color: white; padding: 4px; border-radius: 4px",e),r(e);try{localStorage.setItem("preferred-theme",e),console.log("Saved theme to localStorage:",e)}catch(e){console.error("Error saving to localStorage:",e)}document.documentElement.className="theme-".concat(e),document.documentElement.setAttribute("data-theme",e),document.body.className="theme-".concat(e),document.body.setAttribute("data-theme",e),console.log("Applied theme classes. document.body.className: ".concat(document.body.className))},currentTheme:n}),i.createElement(Vt,null)),i.createElement("div",{className:"timetable-section"},c?i.createElement("div",{className:"animated-container fade-in-up"},i.createElement(rn,null)):i.createElement("div",{className:"animated-container fade-in-up"},i.createElement("h2",{className:"section-title"},"Weekly Schedule"),i.createElement(Dt,null))))),i.createElement("footer",{className:"footer"},i.createElement("p",null,"© ",(new Date).getFullYear()," School Timetable App"))):i.createElement(wn,{onLoginSuccess:function(e){console.log("Login successful, user:",e.uid)}}))};var Tn=o(171);fe()(Tn.A,{insert:"head",singleton:!1}),Tn.A.locals;var Cn=o(70);fe()(Cn.A,{insert:"head",singleton:!1}),Cn.A.locals;var _n=o(744);fe()(_n.A,{insert:"head",singleton:!1}),_n.A.locals;var Nn=o(530);fe()(Nn.A,{insert:"head",singleton:!1}),Nn.A.locals;var An=o(479);fe()(An.A,{insert:"head",singleton:!1}),An.A.locals;var In=o(195);fe()(In.A,{insert:"head",singleton:!1}),In.A.locals;const On=function(){return i.createElement(de,null,i.createElement(Sn,null))};s.render(i.createElement(i.StrictMode,null,i.createElement(L,null,i.createElement(j,null,i.createElement(D,{path:"/",element:i.createElement(On,null)}),i.createElement(D,{path:"/help",element:i.createElement(Ge,null)})))),document.getElementById("root"))})();